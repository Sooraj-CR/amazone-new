var JN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var NK=JN((QK,tf)=>{function XN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ti(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lP={exports:{}},op={},uP={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),eO=Symbol.for("react.fragment"),tO=Symbol.for("react.strict_mode"),nO=Symbol.for("react.profiler"),rO=Symbol.for("react.provider"),iO=Symbol.for("react.context"),sO=Symbol.for("react.forward_ref"),oO=Symbol.for("react.suspense"),aO=Symbol.for("react.memo"),lO=Symbol.for("react.lazy"),TE=Symbol.iterator;function uO(t){return t===null||typeof t!="object"?null:(t=TE&&t[TE]||t["@@iterator"],typeof t=="function"?t:null)}var cP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dP=Object.assign,hP={};function _l(t,e,n){this.props=t,this.context=e,this.refs=hP,this.updater=n||cP}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fP(){}fP.prototype=_l.prototype;function uv(t,e,n){this.props=t,this.context=e,this.refs=hP,this.updater=n||cP}var cv=uv.prototype=new fP;cv.constructor=uv;dP(cv,_l.prototype);cv.isPureReactComponent=!0;var SE=Array.isArray,pP=Object.prototype.hasOwnProperty,dv={current:null},mP={key:!0,ref:!0,__self:!0,__source:!0};function gP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pP.call(e,r)&&!mP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kc,type:t,key:s,ref:o,props:i,_owner:dv.current}}function cO(t,e){return{$$typeof:Kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kc}function dO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var PE=/\/+/g;function yg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dO(""+t.key):e.toString(36)}function Ih(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kc:case ZN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yg(o,0):r,SE(i)?(n="",t!=null&&(n=t.replace(PE,"$&/")+"/"),Ih(i,e,n,"",function(c){return c})):i!=null&&(hv(i)&&(i=cO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(PE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",SE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yg(s,a);o+=Ih(s,e,n,l,i)}else if(l=uO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yg(s,a++),o+=Ih(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qd(t,e,n){if(t==null)return t;var r=[],i=0;return Ih(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Eh={transition:null},fO={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:dv};function yP(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:qd,forEach:function(t,e,n){qd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qd(t,function(){e++}),e},toArray:function(t){return qd(t,function(e){return e})||[]},only:function(t){if(!hv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=_l;ue.Fragment=eO;ue.Profiler=nO;ue.PureComponent=uv;ue.StrictMode=tO;ue.Suspense=oO;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fO;ue.act=yP;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pP.call(e,l)&&!mP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kc,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:iO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rO,_context:t},t.Consumer=t};ue.createElement=gP;ue.createFactory=function(t){var e=gP.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:sO,render:t}};ue.isValidElement=hv;ue.lazy=function(t){return{$$typeof:lO,_payload:{_status:-1,_result:t},_init:hO}};ue.memo=function(t,e){return{$$typeof:aO,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Eh.transition;Eh.transition={};try{t()}finally{Eh.transition=e}};ue.unstable_act=yP;ue.useCallback=function(t,e){return dn.current.useCallback(t,e)};ue.useContext=function(t){return dn.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};ue.useEffect=function(t,e){return dn.current.useEffect(t,e)};ue.useId=function(){return dn.current.useId()};ue.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return dn.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};ue.useRef=function(t){return dn.current.useRef(t)};ue.useState=function(t){return dn.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return dn.current.useTransition()};ue.version="18.3.1";uP.exports=ue;var $=uP.exports;const xu=aP($),nf=XN({__proto__:null,default:xu},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO=$,mO=Symbol.for("react.element"),gO=Symbol.for("react.fragment"),yO=Object.prototype.hasOwnProperty,_O=pO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vO={key:!0,ref:!0,__self:!0,__source:!0};function _P(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yO.call(e,r)&&!vO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mO,type:t,key:s,ref:o,props:i,_owner:_O.current}}op.Fragment=gO;op.jsx=_P;op.jsxs=_P;lP.exports=op;var C=lP.exports,gy={},vP={exports:{}},Mn={},wP={exports:{}},IP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,re){var oe=Y.length;Y.push(re);e:for(;0<oe;){var Ke=oe-1>>>1,Ce=Y[Ke];if(0<i(Ce,re))Y[Ke]=re,Y[oe]=Ce,oe=Ke;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],oe=Y.pop();if(oe!==re){Y[0]=oe;e:for(var Ke=0,Ce=Y.length,ut=Ce>>>1;Ke<ut;){var Gr=2*(Ke+1)-1,Hr=Y[Gr],Kr=Gr+1,Yr=Y[Kr];if(0>i(Hr,oe))Kr<Ce&&0>i(Yr,Hr)?(Y[Ke]=Yr,Y[Kr]=oe,Ke=Kr):(Y[Ke]=Hr,Y[Gr]=oe,Ke=Gr);else if(Kr<Ce&&0>i(Yr,oe))Y[Ke]=Yr,Y[Kr]=oe,Ke=Kr;else break e}}return re}function i(Y,re){var oe=Y.sortIndex-re.sortIndex;return oe!==0?oe:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,y=!1,T=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=Y)r(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(c)}}function O(Y){if(w=!1,S(Y),!T)if(n(l)!==null)T=!0,Fs(M);else{var re=n(c);re!==null&&qr(O,re.startTime-Y)}}function M(Y,re){T=!1,w&&(w=!1,I(_),_=-1),y=!0;var oe=p;try{for(S(re),h=n(l);h!==null&&(!(h.expirationTime>re)||Y&&!b());){var Ke=h.callback;if(typeof Ke=="function"){h.callback=null,p=h.priorityLevel;var Ce=Ke(h.expirationTime<=re);re=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===n(l)&&r(l),S(re)}else r(l);h=n(l)}if(h!==null)var ut=!0;else{var Gr=n(c);Gr!==null&&qr(O,Gr.startTime-re),ut=!1}return ut}finally{h=null,p=oe,y=!1}}var F=!1,E=null,_=-1,P=5,R=-1;function b(){return!(t.unstable_now()-R<P)}function x(){if(E!==null){var Y=t.unstable_now();R=Y;var re=!0;try{re=E(!0,Y)}finally{re?A():(F=!1,E=null)}}else F=!1}var A;if(typeof v=="function")A=function(){v(x)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Wr=Mt.port2;Mt.port1.onmessage=x,A=function(){Wr.postMessage(null)}}else A=function(){k(x,0)};function Fs(Y){E=Y,F||(F=!0,A())}function qr(Y,re){_=k(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Fs(M))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var oe=p;p=re;try{return Y()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=p;p=Y;try{return re()}finally{p=oe}},t.unstable_scheduleCallback=function(Y,re,oe){var Ke=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ke+oe:Ke):oe=Ke,Y){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,Y={id:d++,callback:re,priorityLevel:Y,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>Ke?(Y.sortIndex=oe,e(c,Y),n(l)===null&&Y===n(c)&&(w?(I(_),_=-1):w=!0,qr(O,oe-Ke))):(Y.sortIndex=Ce,e(l,Y),T||y||(T=!0,Fs(M))),Y},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Y){var re=p;return function(){var oe=p;p=re;try{return Y.apply(this,arguments)}finally{p=oe}}}})(IP);wP.exports=IP;var wO=wP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=$,Nn=wO;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EP=new Set,Xu={};function Do(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Xu[t]=e,t=0;t<e.length;t++)EP.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yy=Object.prototype.hasOwnProperty,EO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RE={},AE={};function TO(t){return yy.call(AE,t)?!0:yy.call(RE,t)?!1:EO.test(t)?AE[t]=!0:(RE[t]=!0,!1)}function SO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PO(t,e,n,r){if(e===null||typeof e>"u"||SO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fv=/[\-:]([a-z])/g;function pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fv,pv);Bt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fv,pv);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fv,pv);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mv(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PO(e,n,i,r)&&(n=null),r||i===null?TO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=IO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),ma=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),gv=Symbol.for("react.strict_mode"),_y=Symbol.for("react.profiler"),TP=Symbol.for("react.provider"),SP=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),wy=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),PP=Symbol.for("react.offscreen"),kE=Symbol.iterator;function tu(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,_g;function Iu(t){if(_g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_g=e&&e[1]||""}return`
`+_g+t}var vg=!1;function wg(t,e){if(!t||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Iu(t):""}function RO(t){switch(t.tag){case 5:return Iu(t.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return t=wg(t.type,!1),t;case 11:return t=wg(t.type.render,!1),t;case 1:return t=wg(t.type,!0),t;default:return""}}function Iy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case ma:return"Portal";case _y:return"Profiler";case gv:return"StrictMode";case vy:return"Suspense";case wy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SP:return(t.displayName||"Context")+".Consumer";case TP:return(t._context.displayName||"Context")+".Provider";case yv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _v:return e=t.displayName||null,e!==null?e:Iy(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Iy(t(e))}catch{}}return null}function AO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(e);case 8:return e===gv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kO(t){var e=RP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hd(t){t._valueTracker||(t._valueTracker=kO(t))}function AP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ey(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kP(t,e){e=e.checked,e!=null&&mv(t,"checked",e,!1)}function Ty(t,e){kP(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sy(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sy(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eu=Array.isArray;function Ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Eu(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function bP(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function DE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ry(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kd,xP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kd=Kd||document.createElement("div"),Kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bO=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(t){bO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Du[e]=Du[t]})});function DP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Du.hasOwnProperty(t)&&Du[t]?(""+e).trim():e+"px"}function NP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ay(t,e){if(e){if(CO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function vv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cy=null,xa=null,Da=null;function NE(t){if(t=Jc(t)){if(typeof Cy!="function")throw Error(B(280));var e=t.stateNode;e&&(e=dp(e),Cy(t.stateNode,t.type,e))}}function OP(t){xa?Da?Da.push(t):Da=[t]:xa=t}function MP(){if(xa){var t=xa,e=Da;if(Da=xa=null,NE(t),e)for(t=0;t<e.length;t++)NE(e[t])}}function VP(t,e){return t(e)}function LP(){}var Ig=!1;function FP(t,e,n){if(Ig)return t(e,n);Ig=!0;try{return VP(t,e,n)}finally{Ig=!1,(xa!==null||Da!==null)&&(LP(),MP())}}function ec(t,e){var n=t.stateNode;if(n===null)return null;var r=dp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var xy=!1;if(pi)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){xy=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{xy=!1}function xO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Nu=!1,sf=null,of=!1,Dy=null,DO={onError:function(t){Nu=!0,sf=t}};function NO(t,e,n,r,i,s,o,a,l){Nu=!1,sf=null,xO.apply(DO,arguments)}function OO(t,e,n,r,i,s,o,a,l){if(NO.apply(this,arguments),Nu){if(Nu){var c=sf;Nu=!1,sf=null}else throw Error(B(198));of||(of=!0,Dy=c)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OE(t){if(No(t)!==t)throw Error(B(188))}function MO(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OE(i),t;if(s===r)return OE(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function jP(t){return t=MO(t),t!==null?$P(t):null}function $P(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$P(t);if(e!==null)return e;t=t.sibling}return null}var BP=Nn.unstable_scheduleCallback,ME=Nn.unstable_cancelCallback,VO=Nn.unstable_shouldYield,LO=Nn.unstable_requestPaint,dt=Nn.unstable_now,FO=Nn.unstable_getCurrentPriorityLevel,wv=Nn.unstable_ImmediatePriority,zP=Nn.unstable_UserBlockingPriority,af=Nn.unstable_NormalPriority,UO=Nn.unstable_LowPriority,WP=Nn.unstable_IdlePriority,ap=null,xr=null;function jO(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(ap,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:zO,$O=Math.log,BO=Math.LN2;function zO(t){return t>>>=0,t===0?32:31-($O(t)/BO|0)|0}var Yd=64,Qd=4194304;function Tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Tu(a):(s&=o,s!==0&&(r=Tu(s)))}else o=n&~i,o!==0?r=Tu(o):s!==0&&(r=Tu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function WO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ur(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=WO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ny(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qP(){var t=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),t}function Eg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function GO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function GP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HP,Ev,KP,YP,QP,Oy=!1,Jd=[],ts=null,ns=null,rs=null,tc=new Map,nc=new Map,Bi=[],HO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function ru(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jc(e),e!==null&&Ev(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KO(t,e,n,r,i){switch(e){case"focusin":return ts=ru(ts,t,e,n,r,i),!0;case"dragenter":return ns=ru(ns,t,e,n,r,i),!0;case"mouseover":return rs=ru(rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return tc.set(s,ru(tc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nc.set(s,ru(nc.get(s)||null,t,e,n,r,i)),!0}return!1}function JP(t){var e=eo(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=UP(n),e!==null){t.blockedOn=e,QP(t.priority,function(){KP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=My(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);by=r,n.target.dispatchEvent(r),by=null}else return e=Jc(n),e!==null&&Ev(e),t.blockedOn=n,!1;e.shift()}return!0}function LE(t,e,n){Th(t)&&n.delete(e)}function YO(){Oy=!1,ts!==null&&Th(ts)&&(ts=null),ns!==null&&Th(ns)&&(ns=null),rs!==null&&Th(rs)&&(rs=null),tc.forEach(LE),nc.forEach(LE)}function iu(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,YO)))}function rc(t){function e(i){return iu(i,t)}if(0<Jd.length){iu(Jd[0],t);for(var n=1;n<Jd.length;n++){var r=Jd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&iu(ts,t),ns!==null&&iu(ns,t),rs!==null&&iu(rs,t),tc.forEach(e),nc.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)JP(n),n.blockedOn===null&&Bi.shift()}var Na=Si.ReactCurrentBatchConfig,uf=!0;function QO(t,e,n,r){var i=Se,s=Na.transition;Na.transition=null;try{Se=1,Tv(t,e,n,r)}finally{Se=i,Na.transition=s}}function JO(t,e,n,r){var i=Se,s=Na.transition;Na.transition=null;try{Se=4,Tv(t,e,n,r)}finally{Se=i,Na.transition=s}}function Tv(t,e,n,r){if(uf){var i=My(t,e,n,r);if(i===null)Dg(t,e,r,cf,n),VE(t,r);else if(KO(i,t,e,n,r))r.stopPropagation();else if(VE(t,r),e&4&&-1<HO.indexOf(t)){for(;i!==null;){var s=Jc(i);if(s!==null&&HP(s),s=My(t,e,n,r),s===null&&Dg(t,e,r,cf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dg(t,e,r,null,n)}}var cf=null;function My(t,e,n,r){if(cf=null,t=vv(r),t=eo(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function XP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FO()){case wv:return 1;case zP:return 4;case af:case UO:return 16;case WP:return 536870912;default:return 16}default:return 16}}var Ki=null,Sv=null,Sh=null;function ZP(){if(Sh)return Sh;var t,e=Sv,n=e.length,r,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sh=i.slice(t,1<r?1-r:void 0)}function Ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xd(){return!0}function FE(){return!1}function Vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xd:FE,this.isPropagationStopped=FE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pv=Vn(vl),Qc=Xe({},vl,{view:0,detail:0}),XO=Vn(Qc),Tg,Sg,su,lp=Xe({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==su&&(su&&t.type==="mousemove"?(Tg=t.screenX-su.screenX,Sg=t.screenY-su.screenY):Sg=Tg=0,su=t),Tg)},movementY:function(t){return"movementY"in t?t.movementY:Sg}}),UE=Vn(lp),ZO=Xe({},lp,{dataTransfer:0}),eM=Vn(ZO),tM=Xe({},Qc,{relatedTarget:0}),Pg=Vn(tM),nM=Xe({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),rM=Vn(nM),iM=Xe({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sM=Vn(iM),oM=Xe({},vl,{data:0}),jE=Vn(oM),aM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uM[t])?!!e[t]:!1}function Rv(){return cM}var dM=Xe({},Qc,{key:function(t){if(t.key){var e=aM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(t){return t.type==="keypress"?Ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hM=Vn(dM),fM=Xe({},lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$E=Vn(fM),pM=Xe({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),mM=Vn(pM),gM=Xe({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yM=Vn(gM),_M=Xe({},lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vM=Vn(_M),wM=[9,13,27,32],Av=pi&&"CompositionEvent"in window,Ou=null;pi&&"documentMode"in document&&(Ou=document.documentMode);var IM=pi&&"TextEvent"in window&&!Ou,eR=pi&&(!Av||Ou&&8<Ou&&11>=Ou),BE=" ",zE=!1;function tR(t,e){switch(t){case"keyup":return wM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function EM(t,e){switch(t){case"compositionend":return nR(e);case"keypress":return e.which!==32?null:(zE=!0,BE);case"textInput":return t=e.data,t===BE&&zE?null:t;default:return null}}function TM(t,e){if(ya)return t==="compositionend"||!Av&&tR(t,e)?(t=ZP(),Sh=Sv=Ki=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eR&&e.locale!=="ko"?null:e.data;default:return null}}var SM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SM[t.type]:e==="textarea"}function rR(t,e,n,r){OP(r),e=df(e,"onChange"),0<e.length&&(n=new Pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mu=null,ic=null;function PM(t){pR(t,0)}function up(t){var e=wa(t);if(AP(e))return t}function RM(t,e){if(t==="change")return e}var iR=!1;if(pi){var Rg;if(pi){var Ag="oninput"in document;if(!Ag){var qE=document.createElement("div");qE.setAttribute("oninput","return;"),Ag=typeof qE.oninput=="function"}Rg=Ag}else Rg=!1;iR=Rg&&(!document.documentMode||9<document.documentMode)}function GE(){Mu&&(Mu.detachEvent("onpropertychange",sR),ic=Mu=null)}function sR(t){if(t.propertyName==="value"&&up(ic)){var e=[];rR(e,ic,t,vv(t)),FP(PM,e)}}function AM(t,e,n){t==="focusin"?(GE(),Mu=e,ic=n,Mu.attachEvent("onpropertychange",sR)):t==="focusout"&&GE()}function kM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return up(ic)}function bM(t,e){if(t==="click")return up(e)}function CM(t,e){if(t==="input"||t==="change")return up(e)}function xM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:xM;function sc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yy.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function HE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KE(t,e){var n=HE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HE(n)}}function oR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aR(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DM(t){var e=aR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oR(n.ownerDocument.documentElement,n)){if(r!==null&&kv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=KE(n,s);var o=KE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NM=pi&&"documentMode"in document&&11>=document.documentMode,_a=null,Vy=null,Vu=null,Ly=!1;function YE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ly||_a==null||_a!==rf(r)||(r=_a,"selectionStart"in r&&kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vu&&sc(Vu,r)||(Vu=r,r=df(Vy,"onSelect"),0<r.length&&(e=new Pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_a)))}function Zd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var va={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},kg={},lR={};pi&&(lR=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function cp(t){if(kg[t])return kg[t];if(!va[t])return t;var e=va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lR)return kg[t]=e[n];return t}var uR=cp("animationend"),cR=cp("animationiteration"),dR=cp("animationstart"),hR=cp("transitionend"),fR=new Map,QE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){fR.set(t,e),Do(e,[t])}for(var bg=0;bg<QE.length;bg++){var Cg=QE[bg],OM=Cg.toLowerCase(),MM=Cg[0].toUpperCase()+Cg.slice(1);As(OM,"on"+MM)}As(uR,"onAnimationEnd");As(cR,"onAnimationIteration");As(dR,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(hR,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function JE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OO(r,e,void 0,t),t.currentTarget=null}function pR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;JE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;JE(i,a,c),s=l}}}if(of)throw t=Dy,of=!1,Dy=null,t}function Me(t,e){var n=e[By];n===void 0&&(n=e[By]=new Set);var r=t+"__bubble";n.has(r)||(mR(e,t,2,!1),n.add(r))}function xg(t,e,n){var r=0;e&&(r|=4),mR(n,t,r,e)}var eh="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[eh]){t[eh]=!0,EP.forEach(function(n){n!=="selectionchange"&&(VM.has(n)||xg(n,!1,t),xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eh]||(e[eh]=!0,xg("selectionchange",!1,e))}}function mR(t,e,n,r){switch(XP(e)){case 1:var i=QO;break;case 4:i=JO;break;default:i=Tv}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=eo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FP(function(){var c=s,d=vv(n),h=[];e:{var p=fR.get(t);if(p!==void 0){var y=Pv,T=t;switch(t){case"keypress":if(Ph(n)===0)break e;case"keydown":case"keyup":y=hM;break;case"focusin":T="focus",y=Pg;break;case"focusout":T="blur",y=Pg;break;case"beforeblur":case"afterblur":y=Pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=UE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=mM;break;case uR:case cR:case dR:y=rM;break;case hR:y=yM;break;case"scroll":y=XO;break;case"wheel":y=vM;break;case"copy":case"cut":case"paste":y=sM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$E}var w=(e&4)!==0,k=!w&&t==="scroll",I=w?p!==null?p+"Capture":null:p;w=[];for(var v=c,S;v!==null;){S=v;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,I!==null&&(O=ec(v,I),O!=null&&w.push(ac(v,O,S)))),k)break;v=v.return}0<w.length&&(p=new y(p,T,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==by&&(T=n.relatedTarget||n.fromElement)&&(eo(T)||T[mi]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=c,T=T?eo(T):null,T!==null&&(k=No(T),T!==k||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=c),y!==T)){if(w=UE,O="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=$E,O="onPointerLeave",I="onPointerEnter",v="pointer"),k=y==null?p:wa(y),S=T==null?p:wa(T),p=new w(O,v+"leave",y,n,d),p.target=k,p.relatedTarget=S,O=null,eo(d)===c&&(w=new w(I,v+"enter",T,n,d),w.target=S,w.relatedTarget=k,O=w),k=O,y&&T)t:{for(w=y,I=T,v=0,S=w;S;S=Yo(S))v++;for(S=0,O=I;O;O=Yo(O))S++;for(;0<v-S;)w=Yo(w),v--;for(;0<S-v;)I=Yo(I),S--;for(;v--;){if(w===I||I!==null&&w===I.alternate)break t;w=Yo(w),I=Yo(I)}w=null}else w=null;y!==null&&XE(h,p,y,w,!1),T!==null&&k!==null&&XE(h,k,T,w,!0)}}e:{if(p=c?wa(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=RM;else if(WE(p))if(iR)M=CM;else{M=kM;var F=AM}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=bM);if(M&&(M=M(t,c))){rR(h,M,n,d);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Sy(p,"number",p.value)}switch(F=c?wa(c):window,t){case"focusin":(WE(F)||F.contentEditable==="true")&&(_a=F,Vy=c,Vu=null);break;case"focusout":Vu=Vy=_a=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,YE(h,n,d);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":YE(h,n,d)}var E;if(Av)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ya?tR(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(eR&&n.locale!=="ko"&&(ya||_!=="onCompositionStart"?_==="onCompositionEnd"&&ya&&(E=ZP()):(Ki=d,Sv="value"in Ki?Ki.value:Ki.textContent,ya=!0)),F=df(c,_),0<F.length&&(_=new jE(_,t,null,n,d),h.push({event:_,listeners:F}),E?_.data=E:(E=nR(n),E!==null&&(_.data=E)))),(E=IM?EM(t,n):TM(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(d=new jE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}pR(h,e)})}function ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ec(t,n),s!=null&&r.unshift(ac(t,s,i)),s=ec(t,e),s!=null&&r.push(ac(t,s,i))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ec(n,s),l!=null&&o.unshift(ac(n,l,a))):i||(l=ec(n,s),l!=null&&o.push(ac(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LM=/\r\n?/g,FM=/\u0000|\uFFFD/g;function ZE(t){return(typeof t=="string"?t:""+t).replace(LM,`
`).replace(FM,"")}function th(t,e,n){if(e=ZE(e),ZE(t)!==e&&n)throw Error(B(425))}function hf(){}var Fy=null,Uy=null;function jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,jM=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(t){return eT.resolve(null).then(t).catch($M)}:$y;function $M(t){setTimeout(function(){throw t})}function Ng(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rc(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Er="__reactFiber$"+wl,lc="__reactProps$"+wl,mi="__reactContainer$"+wl,By="__reactEvents$"+wl,BM="__reactListeners$"+wl,zM="__reactHandles$"+wl;function eo(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tT(t);t!==null;){if(n=t[Er])return n;t=tT(t)}return e}t=n,n=t.parentNode}return null}function Jc(t){return t=t[Er]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function dp(t){return t[lc]||null}var zy=[],Ia=-1;function ks(t){return{current:t}}function Le(t){0>Ia||(t.current=zy[Ia],zy[Ia]=null,Ia--)}function De(t,e){Ia++,zy[Ia]=t.current,t.current=e}var ps={},Zt=ks(ps),In=ks(!1),po=ps;function Ka(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function ff(){Le(In),Le(Zt)}function nT(t,e,n){if(Zt.current!==ps)throw Error(B(168));De(Zt,e),De(In,n)}function gR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,AO(t)||"Unknown",i));return Xe({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,po=Zt.current,De(Zt,t),De(In,In.current),!0}function rT(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=gR(t,e,po),r.__reactInternalMemoizedMergedChildContext=t,Le(In),Le(Zt),De(Zt,t)):Le(In),De(In,n)}var ti=null,hp=!1,Og=!1;function yR(t){ti===null?ti=[t]:ti.push(t)}function WM(t){hp=!0,yR(t)}function bs(){if(!Og&&ti!==null){Og=!0;var t=0,e=Se;try{var n=ti;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,hp=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),BP(wv,bs),i}finally{Se=e,Og=!1}}return null}var Ea=[],Ta=0,mf=null,gf=0,$n=[],Bn=0,mo=null,ni=1,ri="";function qs(t,e){Ea[Ta++]=gf,Ea[Ta++]=mf,mf=t,gf=e}function _R(t,e,n){$n[Bn++]=ni,$n[Bn++]=ri,$n[Bn++]=mo,mo=t;var r=ni;t=ri;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var s=32-ur(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-ur(e)+i|n<<i|r,ri=s+t}else ni=1<<s|n<<i|r,ri=t}function bv(t){t.return!==null&&(qs(t,1),_R(t,1,0))}function Cv(t){for(;t===mf;)mf=Ea[--Ta],Ea[Ta]=null,gf=Ea[--Ta],Ea[Ta]=null;for(;t===mo;)mo=$n[--Bn],$n[Bn]=null,ri=$n[--Bn],$n[Bn]=null,ni=$n[--Bn],$n[Bn]=null}var xn=null,bn=null,ze=!1,ar=null;function vR(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,bn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mo!==null?{id:ni,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,bn=null,!0):!1;default:return!1}}function Wy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qy(t){if(ze){var e=bn;if(e){var n=e;if(!iT(t,e)){if(Wy(t))throw Error(B(418));e=is(n.nextSibling);var r=xn;e&&iT(t,e)?vR(r,n):(t.flags=t.flags&-4097|2,ze=!1,xn=t)}}else{if(Wy(t))throw Error(B(418));t.flags=t.flags&-4097|2,ze=!1,xn=t}}}function sT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function nh(t){if(t!==xn)return!1;if(!ze)return sT(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jy(t.type,t.memoizedProps)),e&&(e=bn)){if(Wy(t))throw wR(),Error(B(418));for(;e;)vR(t,e),e=is(e.nextSibling)}if(sT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=xn?is(t.stateNode.nextSibling):null;return!0}function wR(){for(var t=bn;t;)t=is(t.nextSibling)}function Ya(){bn=xn=null,ze=!1}function xv(t){ar===null?ar=[t]:ar.push(t)}var qM=Si.ReactCurrentBatchConfig;function ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oT(t){var e=t._init;return e(t._payload)}function IR(t){function e(I,v){if(t){var S=I.deletions;S===null?(I.deletions=[v],I.flags|=16):S.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=ls(I,v),I.index=0,I.sibling=null,I}function s(I,v,S){return I.index=S,t?(S=I.alternate,S!==null?(S=S.index,S<v?(I.flags|=2,v):S):(I.flags|=2,v)):(I.flags|=1048576,v)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,v,S,O){return v===null||v.tag!==6?(v=$g(S,I.mode,O),v.return=I,v):(v=i(v,S),v.return=I,v)}function l(I,v,S,O){var M=S.type;return M===ga?d(I,v,S.props.children,O,S.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ji&&oT(M)===v.type)?(O=i(v,S.props),O.ref=ou(I,v,S),O.return=I,O):(O=Dh(S.type,S.key,S.props,null,I.mode,O),O.ref=ou(I,v,S),O.return=I,O)}function c(I,v,S,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Bg(S,I.mode,O),v.return=I,v):(v=i(v,S.children||[]),v.return=I,v)}function d(I,v,S,O,M){return v===null||v.tag!==7?(v=lo(S,I.mode,O,M),v.return=I,v):(v=i(v,S),v.return=I,v)}function h(I,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$g(""+v,I.mode,S),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gd:return S=Dh(v.type,v.key,v.props,null,I.mode,S),S.ref=ou(I,null,v),S.return=I,S;case ma:return v=Bg(v,I.mode,S),v.return=I,v;case ji:var O=v._init;return h(I,O(v._payload),S)}if(Eu(v)||tu(v))return v=lo(v,I.mode,S,null),v.return=I,v;rh(I,v)}return null}function p(I,v,S,O){var M=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(I,v,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gd:return S.key===M?l(I,v,S,O):null;case ma:return S.key===M?c(I,v,S,O):null;case ji:return M=S._init,p(I,v,M(S._payload),O)}if(Eu(S)||tu(S))return M!==null?null:d(I,v,S,O,null);rh(I,S)}return null}function y(I,v,S,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return I=I.get(S)||null,a(v,I,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Gd:return I=I.get(O.key===null?S:O.key)||null,l(v,I,O,M);case ma:return I=I.get(O.key===null?S:O.key)||null,c(v,I,O,M);case ji:var F=O._init;return y(I,v,S,F(O._payload),M)}if(Eu(O)||tu(O))return I=I.get(S)||null,d(v,I,O,M,null);rh(v,O)}return null}function T(I,v,S,O){for(var M=null,F=null,E=v,_=v=0,P=null;E!==null&&_<S.length;_++){E.index>_?(P=E,E=null):P=E.sibling;var R=p(I,E,S[_],O);if(R===null){E===null&&(E=P);break}t&&E&&R.alternate===null&&e(I,E),v=s(R,v,_),F===null?M=R:F.sibling=R,F=R,E=P}if(_===S.length)return n(I,E),ze&&qs(I,_),M;if(E===null){for(;_<S.length;_++)E=h(I,S[_],O),E!==null&&(v=s(E,v,_),F===null?M=E:F.sibling=E,F=E);return ze&&qs(I,_),M}for(E=r(I,E);_<S.length;_++)P=y(E,I,_,S[_],O),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?_:P.key),v=s(P,v,_),F===null?M=P:F.sibling=P,F=P);return t&&E.forEach(function(b){return e(I,b)}),ze&&qs(I,_),M}function w(I,v,S,O){var M=tu(S);if(typeof M!="function")throw Error(B(150));if(S=M.call(S),S==null)throw Error(B(151));for(var F=M=null,E=v,_=v=0,P=null,R=S.next();E!==null&&!R.done;_++,R=S.next()){E.index>_?(P=E,E=null):P=E.sibling;var b=p(I,E,R.value,O);if(b===null){E===null&&(E=P);break}t&&E&&b.alternate===null&&e(I,E),v=s(b,v,_),F===null?M=b:F.sibling=b,F=b,E=P}if(R.done)return n(I,E),ze&&qs(I,_),M;if(E===null){for(;!R.done;_++,R=S.next())R=h(I,R.value,O),R!==null&&(v=s(R,v,_),F===null?M=R:F.sibling=R,F=R);return ze&&qs(I,_),M}for(E=r(I,E);!R.done;_++,R=S.next())R=y(E,I,_,R.value,O),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?_:R.key),v=s(R,v,_),F===null?M=R:F.sibling=R,F=R);return t&&E.forEach(function(x){return e(I,x)}),ze&&qs(I,_),M}function k(I,v,S,O){if(typeof S=="object"&&S!==null&&S.type===ga&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Gd:e:{for(var M=S.key,F=v;F!==null;){if(F.key===M){if(M=S.type,M===ga){if(F.tag===7){n(I,F.sibling),v=i(F,S.props.children),v.return=I,I=v;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ji&&oT(M)===F.type){n(I,F.sibling),v=i(F,S.props),v.ref=ou(I,F,S),v.return=I,I=v;break e}n(I,F);break}else e(I,F);F=F.sibling}S.type===ga?(v=lo(S.props.children,I.mode,O,S.key),v.return=I,I=v):(O=Dh(S.type,S.key,S.props,null,I.mode,O),O.ref=ou(I,v,S),O.return=I,I=O)}return o(I);case ma:e:{for(F=S.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(I,v.sibling),v=i(v,S.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=Bg(S,I.mode,O),v.return=I,I=v}return o(I);case ji:return F=S._init,k(I,v,F(S._payload),O)}if(Eu(S))return T(I,v,S,O);if(tu(S))return w(I,v,S,O);rh(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,S),v.return=I,I=v):(n(I,v),v=$g(S,I.mode,O),v.return=I,I=v),o(I)):n(I,v)}return k}var Qa=IR(!0),ER=IR(!1),yf=ks(null),_f=null,Sa=null,Dv=null;function Nv(){Dv=Sa=_f=null}function Ov(t){var e=yf.current;Le(yf),t._currentValue=e}function Gy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oa(t,e){_f=t,Dv=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(Dv!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(_f===null)throw Error(B(308));Sa=t,_f.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var to=null;function Mv(t){to===null?to=[t]:to.push(t)}function TR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mv(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Mv(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function Rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iv(t,n)}}function aT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vf(t,e,n,r){var i=t.updateQueue;$i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(p=e,y=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(y,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,p=typeof T=="function"?T.call(y,h,p):T,p==null)break e;h=Xe({},h,p);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yo|=o,t.lanes=o,t.memoizedState=h}}function lT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Xc={},Dr=ks(Xc),uc=ks(Xc),cc=ks(Xc);function no(t){if(t===Xc)throw Error(B(174));return t}function Lv(t,e){switch(De(cc,e),De(uc,t),De(Dr,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ry(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ry(e,t)}Le(Dr),De(Dr,e)}function Ja(){Le(Dr),Le(uc),Le(cc)}function PR(t){no(cc.current);var e=no(Dr.current),n=Ry(e,t.type);e!==n&&(De(uc,t),De(Dr,n))}function Fv(t){uc.current===t&&(Le(Dr),Le(uc))}var Ye=ks(0);function wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mg=[];function Uv(){for(var t=0;t<Mg.length;t++)Mg[t]._workInProgressVersionPrimary=null;Mg.length=0}var Ah=Si.ReactCurrentDispatcher,Vg=Si.ReactCurrentBatchConfig,go=0,Qe=null,It=null,At=null,If=!1,Lu=!1,dc=0,GM=0;function Ht(){throw Error(B(321))}function jv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function $v(t,e,n,r,i,s){if(go=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ah.current=t===null||t.memoizedState===null?QM:JM,t=n(r,i),Lu){s=0;do{if(Lu=!1,dc=0,25<=s)throw Error(B(301));s+=1,At=It=null,e.updateQueue=null,Ah.current=XM,t=n(r,i)}while(Lu)}if(Ah.current=Ef,e=It!==null&&It.next!==null,go=0,At=It=Qe=null,If=!1,e)throw Error(B(300));return t}function Bv(){var t=dc!==0;return dc=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Qe.memoizedState=At=t:At=At.next=t,At}function Qn(){if(It===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=At===null?Qe.memoizedState:At.next;if(e!==null)At=e,It=t;else{if(t===null)throw Error(B(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},At===null?Qe.memoizedState=At=t:At=At.next=t}return At}function hc(t,e){return typeof e=="function"?e(t):e}function Lg(t){var e=Qn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((go&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,yo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,yo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fg(t){var e=Qn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hr(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RR(){}function AR(t,e){var n=Qe,r=Qn(),i=e(),s=!hr(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,zv(CR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,fc(9,bR.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(B(349));go&30||kR(n,e,i)}return i}function kR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bR(t,e,n,r){e.value=n,e.getSnapshot=r,xR(e)&&DR(t)}function CR(t,e,n){return n(function(){xR(e)&&DR(t)})}function xR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function DR(t){var e=gi(t,1);e!==null&&cr(e,t,1,-1)}function uT(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=YM.bind(null,Qe,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NR(){return Qn().memoizedState}function kh(t,e,n,r){var i=vr();Qe.flags|=t,i.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function fp(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&jv(r,o.deps)){i.memoizedState=fc(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=fc(1|e,n,s,r)}function cT(t,e){return kh(8390656,8,t,e)}function zv(t,e){return fp(2048,8,t,e)}function OR(t,e){return fp(4,2,t,e)}function MR(t,e){return fp(4,4,t,e)}function VR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LR(t,e,n){return n=n!=null?n.concat([t]):null,fp(4,4,VR.bind(null,e,t),n)}function Wv(){}function FR(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UR(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jR(t,e,n){return go&21?(hr(n,e)||(n=qP(),Qe.lanes|=n,yo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function HM(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Vg.transition;Vg.transition={};try{t(!1),e()}finally{Se=n,Vg.transition=r}}function $R(){return Qn().memoizedState}function KM(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BR(t))zR(e,n);else if(n=TR(t,e,n,r),n!==null){var i=on();cr(n,t,r,i),WR(n,e,r)}}function YM(t,e,n){var r=as(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BR(t))zR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hr(a,o)){var l=e.interleaved;l===null?(i.next=i,Mv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TR(t,e,i,r),n!==null&&(i=on(),cr(n,t,r,i),WR(n,e,r))}}function BR(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function zR(t,e){Lu=If=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iv(t,n)}}var Ef={readContext:Yn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},QM={readContext:Yn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:cT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kh(4194308,4,VR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return kh(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KM.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:uT,useDebugValue:Wv,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=uT(!1),e=t[0];return t=HM.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=vr();if(ze){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),bt===null)throw Error(B(349));go&30||kR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cT(CR.bind(null,r,s,t),[t]),r.flags|=2048,fc(9,bR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vr(),e=bt.identifierPrefix;if(ze){var n=ri,r=ni;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JM={readContext:Yn,useCallback:FR,useContext:Yn,useEffect:zv,useImperativeHandle:LR,useInsertionEffect:OR,useLayoutEffect:MR,useMemo:UR,useReducer:Lg,useRef:NR,useState:function(){return Lg(hc)},useDebugValue:Wv,useDeferredValue:function(t){var e=Qn();return jR(e,It.memoizedState,t)},useTransition:function(){var t=Lg(hc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:RR,useSyncExternalStore:AR,useId:$R,unstable_isNewReconciler:!1},XM={readContext:Yn,useCallback:FR,useContext:Yn,useEffect:zv,useImperativeHandle:LR,useInsertionEffect:OR,useLayoutEffect:MR,useMemo:UR,useReducer:Fg,useRef:NR,useState:function(){return Fg(hc)},useDebugValue:Wv,useDeferredValue:function(t){var e=Qn();return It===null?e.memoizedState=t:jR(e,It.memoizedState,t)},useTransition:function(){var t=Fg(hc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:RR,useSyncExternalStore:AR,useId:$R,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pp={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=as(t),s=ci(r,i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(cr(e,t,i,r),Rh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=as(t),s=ci(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(cr(e,t,i,r),Rh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=as(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,r),e!==null&&(cr(e,t,r,n),Rh(e,t,r))}};function dT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sc(n,r)||!sc(i,s):!0}function qR(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=En(e)?po:Zt.current,r=e.contextTypes,s=(r=r!=null)?Ka(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pp.enqueueReplaceState(e,e.state,null)}function Ky(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=En(e)?po:Zt.current,i.context=Ka(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pp.enqueueReplaceState(i,i.state,null),vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e){try{var n="",r=e;do n+=RO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ug(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZM=typeof WeakMap=="function"?WeakMap:Map;function GR(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,s_=r),Yy(t,e)},n}function HR(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yy(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fV.bind(null,t,e,n),e.then(t,t))}function pT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var eV=Si.ReactCurrentOwner,yn=!1;function nn(t,e,n,r){e.child=t===null?ER(e,null,n,r):Qa(e,t.child,n,r)}function gT(t,e,n,r,i){n=n.render;var s=e.ref;return Oa(e,i),r=$v(t,e,n,r,s,i),n=Bv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ze&&n&&bv(e),e.flags|=1,nn(t,e,r,i),e.child)}function yT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KR(t,e,s,r,i)):(t=Dh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sc,n(o,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function KR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sc(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return Qy(t,e,n,r,i)}function YR(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ra,Rn),Rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Ra,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Ra,Rn),Rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Ra,Rn),Rn|=r;return nn(t,e,i,n),e.child}function QR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qy(t,e,n,r,i){var s=En(n)?po:Zt.current;return s=Ka(e,s),Oa(e,i),n=$v(t,e,n,r,s,i),r=Bv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ze&&r&&bv(e),e.flags|=1,nn(t,e,n,i),e.child)}function _T(t,e,n,r,i){if(En(n)){var s=!0;pf(e)}else s=!1;if(Oa(e,i),e.stateNode===null)bh(t,e),qR(e,n,r),Ky(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=En(n)?po:Zt.current,c=Ka(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&hT(e,o,r,c),$i=!1;var p=e.memoizedState;o.state=p,vf(e,r,o,i),l=e.memoizedState,a!==r||p!==l||In.current||$i?(typeof d=="function"&&(Hy(e,n,d,r),l=e.memoizedState),(a=$i||dT(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=En(n)?po:Zt.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&hT(e,o,r,l),$i=!1,p=e.memoizedState,o.state=p,vf(e,r,o,i);var T=e.memoizedState;a!==h||p!==T||In.current||$i?(typeof y=="function"&&(Hy(e,n,y,r),T=e.memoizedState),(c=$i||dT(e,n,c,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Jy(t,e,n,r,s,i)}function Jy(t,e,n,r,i,s){QR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rT(e,n,!1),yi(t,e,s);r=e.stateNode,eV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qa(e,t.child,null,s),e.child=Qa(e,null,a,s)):nn(t,e,a,s),e.memoizedState=r.state,i&&rT(e,n,!0),e.child}function JR(t){var e=t.stateNode;e.pendingContext?nT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nT(t,e.context,!1),Lv(t,e.containerInfo)}function vT(t,e,n,r,i){return Ya(),xv(i),e.flags|=256,nn(t,e,n,r),e.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Zy(t){return{baseLanes:t,cachePool:null,transitions:null}}function XR(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ye,i&1),t===null)return qy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yp(o,r,0,null),t=lo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zy(n),e.memoizedState=Xy,t):qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ls(a,s):(s=lo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xy,r}return s=t.child,t=s.sibling,r=ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qv(t,e){return e=yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ih(t,e,n,r){return r!==null&&xv(r),Qa(e,t.child,null,n),t=qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ug(Error(B(422))),ih(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yp({mode:"visible",children:r.children},i,0,null),s=lo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qa(e,t.child,null,o),e.child.memoizedState=Zy(o),e.memoizedState=Xy,s);if(!(e.mode&1))return ih(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Ug(s,r,void 0),ih(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gi(t,i),cr(r,t,i,-1))}return Jv(),r=Ug(Error(B(421))),ih(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bn=is(i.nextSibling),xn=e,ze=!0,ar=null,t!==null&&($n[Bn++]=ni,$n[Bn++]=ri,$n[Bn++]=mo,ni=t.id,ri=t.overflow,mo=e),e=qv(e,r.children),e.flags|=4096,e)}function wT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gy(t.return,e,n)}function jg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wT(t,n,e);else if(t.tag===19)wT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jg(e,!0,n,null,s);break;case"together":jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nV(t,e,n){switch(e.tag){case 3:JR(e),Ya();break;case 5:PR(e);break;case 1:En(e.type)&&pf(e);break;case 4:Lv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?XR(t,e,n):(De(Ye,Ye.current&1),t=yi(t,e,n),t!==null?t.sibling:null);De(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,YR(t,e,n)}return yi(t,e,n)}var eA,e_,tA,nA;eA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e_=function(){};tA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,no(Dr.current);var s=null;switch(n){case"input":i=Ey(t,i),r=Ey(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Py(t,i),r=Py(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hf)}Ay(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nA=function(t,e,n,r){n!==r&&(e.flags|=4)};function au(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rV(t,e,n){var r=e.pendingProps;switch(Cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return En(e.type)&&ff(),Kt(e),null;case 3:return r=e.stateNode,Ja(),Le(In),Le(Zt),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(l_(ar),ar=null))),e_(t,e),Kt(e),null;case 5:Fv(e);var i=no(cc.current);if(n=e.type,t!==null&&e.stateNode!=null)tA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Kt(e),null}if(t=no(Dr.current),nh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Er]=e,r[lc]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<Su.length;i++)Me(Su[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":bE(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":xE(r,s),Me("invalid",r)}Ay(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&th(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&th(r.textContent,a,t),i=["children",""+a]):Xu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Hd(r),CE(r,s,!0);break;case"textarea":Hd(r),DE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Er]=e,t[lc]=r,eA(t,e,!1,!1),e.stateNode=t;e:{switch(o=ky(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Su.length;i++)Me(Su[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":bE(t,r),i=Ey(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Me("invalid",t);break;case"textarea":xE(t,r),i=Py(t,r),Me("invalid",t);break;default:i=r}Ay(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?NP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zu(t,l):typeof l=="number"&&Zu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&mv(t,s,l,o))}switch(n){case"input":Hd(t),CE(t,r,!1);break;case"textarea":Hd(t),DE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ca(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)nA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=no(cc.current),no(Dr.current),nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(s=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Kt(e),null;case 13:if(Le(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&bn!==null&&e.mode&1&&!(e.flags&128))wR(),Ya(),e.flags|=98560,s=!1;else if(s=nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Er]=e}else Ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else ar!==null&&(l_(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Et===0&&(Et=3):Jv())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Ja(),e_(t,e),t===null&&oc(e.stateNode.containerInfo),Kt(e),null;case 10:return Ov(e.type._context),Kt(e),null;case 17:return En(e.type)&&ff(),Kt(e),null;case 19:if(Le(Ye),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)au(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wf(t),o!==null){for(e.flags|=128,au(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Za&&(e.flags|=128,r=!0,au(s,!1),e.lanes=4194304)}else{if(!r)if(t=wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Kt(e),null}else 2*dt()-s.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,au(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Ye.current,De(Ye,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function iV(t,e){switch(Cv(e),e.tag){case 1:return En(e.type)&&ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ja(),Le(In),Le(Zt),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fv(e),null;case 13:if(Le(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ye),null;case 4:return Ja(),null;case 10:return Ov(e.type._context),null;case 22:case 23:return Qv(),null;case 24:return null;default:return null}}var sh=!1,Jt=!1,sV=typeof WeakSet=="function"?WeakSet:Set,X=null;function Pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function t_(t,e,n){try{n()}catch(r){nt(t,e,r)}}var IT=!1;function oV(t,e){if(Fy=uf,t=aR(),kv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uy={focusedElem:t,selectionRange:n},uf=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,k=T.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?w:sr(e.type,w),k);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(O){nt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=IT,IT=!1,T}function Fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&t_(e,n,s)}i=i.next}while(i!==r)}}function mp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function n_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rA(t){var e=t.alternate;e!==null&&(t.alternate=null,rA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[lc],delete e[By],delete e[BM],delete e[zM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iA(t){return t.tag===5||t.tag===3||t.tag===4}function ET(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function r_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hf));else if(r!==4&&(t=t.child,t!==null))for(r_(t,e,n),t=t.sibling;t!==null;)r_(t,e,n),t=t.sibling}function i_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(i_(t,e,n),t=t.sibling;t!==null;)i_(t,e,n),t=t.sibling}var Lt=null,or=!1;function Mi(t,e,n){for(n=n.child;n!==null;)sA(t,e,n),n=n.sibling}function sA(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(ap,n)}catch{}switch(n.tag){case 5:Jt||Pa(n,e);case 6:var r=Lt,i=or;Lt=null,Mi(t,e,n),Lt=r,or=i,Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?Ng(t.parentNode,n):t.nodeType===1&&Ng(t,n),rc(t)):Ng(Lt,n.stateNode));break;case 4:r=Lt,i=or,Lt=n.stateNode.containerInfo,or=!0,Mi(t,e,n),Lt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&t_(n,e,o),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!Jt&&(Pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Mi(t,e,n),Jt=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function TT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sV),e.forEach(function(r){var i=mV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,or=!1;break e;case 3:Lt=a.stateNode.containerInfo,or=!0;break e;case 4:Lt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Lt===null)throw Error(B(160));sA(s,o,i),Lt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oA(e,t),e=e.sibling}function oA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),_r(t),r&4){try{Fu(3,t,t.return),mp(3,t)}catch(w){nt(t,t.return,w)}try{Fu(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:ir(e,t),_r(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(ir(e,t),_r(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var i=t.stateNode;try{Zu(i,"")}catch(w){nt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kP(i,s),ky(a,o);var c=ky(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NP(i,h):d==="dangerouslySetInnerHTML"?xP(i,h):d==="children"?Zu(i,h):mv(i,d,h,c)}switch(a){case"input":Ty(i,s);break;case"textarea":bP(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ca(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ca(i,!!s.multiple,s.defaultValue,!0):Ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[lc]=s}catch(w){nt(t,t.return,w)}}break;case 6:if(ir(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){nt(t,t.return,w)}}break;case 3:if(ir(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:ir(e,t),_r(t);break;case 13:ir(e,t),_r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kv=dt())),r&4&&TT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(c=Jt)||d,ir(e,t),Jt=c):ir(e,t),_r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(p=X,y=p.child,p.tag){case 0:case 11:case 14:case 15:Fu(4,p,p.return);break;case 1:Pa(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){nt(r,n,w)}}break;case 5:Pa(p,p.return);break;case 22:if(p.memoizedState!==null){PT(h);continue}}y!==null?(y.return=p,X=y):PT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DP("display",o))}catch(w){nt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){nt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(e,t),_r(t),r&4&&TT(t);break;case 21:break;default:ir(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iA(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zu(i,""),r.flags&=-33);var s=ET(t);i_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ET(t);r_(t,a,o);break;default:throw Error(B(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aV(t,e,n){X=t,aA(t)}function aA(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=sh;var c=Jt;if(sh=o,(Jt=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?RT(i):l!==null?(l.return=o,X=l):RT(i);for(;s!==null;)X=s,aA(s),s=s.sibling;X=i,sh=a,Jt=c}ST(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):ST(t)}}function ST(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||mp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&rc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Jt||e.flags&512&&n_(e)}catch(p){nt(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function PT(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function RT(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mp(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{n_(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{n_(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var lV=Math.ceil,Tf=Si.ReactCurrentDispatcher,Gv=Si.ReactCurrentOwner,Hn=Si.ReactCurrentBatchConfig,ge=0,bt=null,vt=null,$t=0,Rn=0,Ra=ks(0),Et=0,pc=null,yo=0,gp=0,Hv=0,Uu=null,gn=null,Kv=0,Za=1/0,Zr=null,Sf=!1,s_=null,os=null,oh=!1,Yi=null,Pf=0,ju=0,o_=null,Ch=-1,xh=0;function on(){return ge&6?dt():Ch!==-1?Ch:Ch=dt()}function as(t){return t.mode&1?ge&2&&$t!==0?$t&-$t:qM.transition!==null?(xh===0&&(xh=qP()),xh):(t=Se,t!==0||(t=window.event,t=t===void 0?16:XP(t.type)),t):1}function cr(t,e,n,r){if(50<ju)throw ju=0,o_=null,Error(B(185));Yc(t,n,r),(!(ge&2)||t!==bt)&&(t===bt&&(!(ge&2)&&(gp|=n),Et===4&&zi(t,$t)),Tn(t,r),n===1&&ge===0&&!(e.mode&1)&&(Za=dt()+500,hp&&bs()))}function Tn(t,e){var n=t.callbackNode;qO(t,e);var r=lf(t,t===bt?$t:0);if(r===0)n!==null&&ME(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ME(n),e===1)t.tag===0?WM(AT.bind(null,t)):yR(AT.bind(null,t)),jM(function(){!(ge&6)&&bs()}),n=null;else{switch(GP(r)){case 1:n=wv;break;case 4:n=zP;break;case 16:n=af;break;case 536870912:n=WP;break;default:n=af}n=mA(n,lA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lA(t,e){if(Ch=-1,xh=0,ge&6)throw Error(B(327));var n=t.callbackNode;if(Ma()&&t.callbackNode!==n)return null;var r=lf(t,t===bt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rf(t,r);else{e=r;var i=ge;ge|=2;var s=cA();(bt!==t||$t!==e)&&(Zr=null,Za=dt()+500,ao(t,e));do try{dV();break}catch(a){uA(t,a)}while(!0);Nv(),Tf.current=s,ge=i,vt!==null?e=0:(bt=null,$t=0,e=Et)}if(e!==0){if(e===2&&(i=Ny(t),i!==0&&(r=i,e=a_(t,i))),e===1)throw n=pc,ao(t,0),zi(t,r),Tn(t,dt()),n;if(e===6)zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!uV(i)&&(e=Rf(t,r),e===2&&(s=Ny(t),s!==0&&(r=s,e=a_(t,s))),e===1))throw n=pc,ao(t,0),zi(t,r),Tn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Gs(t,gn,Zr);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=Kv+500-dt(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(Gs.bind(null,t,gn,Zr),e);break}Gs(t,gn,Zr);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ur(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lV(r/1960))-r,10<r){t.timeoutHandle=$y(Gs.bind(null,t,gn,Zr),r);break}Gs(t,gn,Zr);break;case 5:Gs(t,gn,Zr);break;default:throw Error(B(329))}}}return Tn(t,dt()),t.callbackNode===n?lA.bind(null,t):null}function a_(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Rf(t,e),t!==2&&(e=gn,gn=n,e!==null&&l_(e)),t}function l_(t){gn===null?gn=t:gn.push.apply(gn,t)}function uV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~Hv,e&=~gp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function AT(t){if(ge&6)throw Error(B(327));Ma();var e=lf(t,0);if(!(e&1))return Tn(t,dt()),null;var n=Rf(t,e);if(t.tag!==0&&n===2){var r=Ny(t);r!==0&&(e=r,n=a_(t,r))}if(n===1)throw n=pc,ao(t,0),zi(t,e),Tn(t,dt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,gn,Zr),Tn(t,dt()),null}function Yv(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Za=dt()+500,hp&&bs())}}function _o(t){Yi!==null&&Yi.tag===0&&!(ge&6)&&Ma();var e=ge;ge|=1;var n=Hn.transition,r=Se;try{if(Hn.transition=null,Se=1,t)return t()}finally{Se=r,Hn.transition=n,ge=e,!(ge&6)&&bs()}}function Qv(){Rn=Ra.current,Le(Ra)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UM(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ff();break;case 3:Ja(),Le(In),Le(Zt),Uv();break;case 5:Fv(r);break;case 4:Ja();break;case 13:Le(Ye);break;case 19:Le(Ye);break;case 10:Ov(r.type._context);break;case 22:case 23:Qv()}n=n.return}if(bt=t,vt=t=ls(t.current,null),$t=Rn=e,Et=0,pc=null,Hv=gp=yo=0,gn=Uu=null,to!==null){for(e=0;e<to.length;e++)if(n=to[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}to=null}return t}function uA(t,e){do{var n=vt;try{if(Nv(),Ah.current=Ef,If){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}If=!1}if(go=0,At=It=Qe=null,Lu=!1,dc=0,Gv.current=null,n===null||n.return===null){Et=1,pc=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=pT(o);if(y!==null){y.flags&=-257,mT(y,o,a,s,e),y.mode&1&&fT(s,c,e),e=y,l=c;var T=e.updateQueue;if(T===null){var w=new Set;w.add(l),e.updateQueue=w}else T.add(l);break e}else{if(!(e&1)){fT(s,c,e),Jv();break e}l=Error(B(426))}}else if(ze&&a.mode&1){var k=pT(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),mT(k,o,a,s,e),xv(Xa(l,a));break e}}s=l=Xa(l,a),Et!==4&&(Et=2),Uu===null?Uu=[s]:Uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=GR(s,l,e);aT(s,I);break e;case 1:a=l;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(os===null||!os.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=HR(s,a,e);aT(s,O);break e}}s=s.return}while(s!==null)}hA(n)}catch(M){e=M,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function cA(){var t=Tf.current;return Tf.current=Ef,t===null?Ef:t}function Jv(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||!(yo&268435455)&&!(gp&268435455)||zi(bt,$t)}function Rf(t,e){var n=ge;ge|=2;var r=cA();(bt!==t||$t!==e)&&(Zr=null,ao(t,e));do try{cV();break}catch(i){uA(t,i)}while(!0);if(Nv(),ge=n,Tf.current=r,vt!==null)throw Error(B(261));return bt=null,$t=0,Et}function cV(){for(;vt!==null;)dA(vt)}function dV(){for(;vt!==null&&!VO();)dA(vt)}function dA(t){var e=pA(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?hA(t):vt=e,Gv.current=null}function hA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iV(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,vt=null;return}}else if(n=rV(n,e,Rn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Et===0&&(Et=5)}function Gs(t,e,n){var r=Se,i=Hn.transition;try{Hn.transition=null,Se=1,hV(t,e,n,r)}finally{Hn.transition=i,Se=r}return null}function hV(t,e,n,r){do Ma();while(Yi!==null);if(ge&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(GO(t,s),t===bt&&(vt=bt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oh||(oh=!0,mA(af,function(){return Ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=Se;Se=1;var a=ge;ge|=4,Gv.current=null,oV(t,n),oA(n,t),DM(Uy),uf=!!Fy,Uy=Fy=null,t.current=n,aV(n),LO(),ge=a,Se=o,Hn.transition=s}else t.current=n;if(oh&&(oh=!1,Yi=t,Pf=i),s=t.pendingLanes,s===0&&(os=null),jO(n.stateNode),Tn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sf)throw Sf=!1,t=s_,s_=null,t;return Pf&1&&t.tag!==0&&Ma(),s=t.pendingLanes,s&1?t===o_?ju++:(ju=0,o_=t):ju=0,bs(),null}function Ma(){if(Yi!==null){var t=GP(Pf),e=Hn.transition,n=Se;try{if(Hn.transition=null,Se=16>t?16:t,Yi===null)var r=!1;else{if(t=Yi,Yi=null,Pf=0,ge&6)throw Error(B(331));var i=ge;for(ge|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Fu(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var p=d.sibling,y=d.return;if(rA(d),d===c){X=null;break}if(p!==null){p.return=y,X=p;break}X=y}}}var T=s.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fu(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,X=I;break e}X=s.return}}var v=t.current;for(X=v;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mp(9,a)}}catch(M){nt(a,a.return,M)}if(a===o){X=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,X=O;break e}X=a.return}}if(ge=i,bs(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(ap,t)}catch{}r=!0}return r}finally{Se=n,Hn.transition=e}}return!1}function kT(t,e,n){e=Xa(n,e),e=GR(t,e,1),t=ss(t,e,1),e=on(),t!==null&&(Yc(t,1,e),Tn(t,e))}function nt(t,e,n){if(t.tag===3)kT(t,t,n);else for(;e!==null;){if(e.tag===3){kT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=Xa(n,t),t=HR(e,t,1),e=ss(e,t,1),t=on(),e!==null&&(Yc(e,1,t),Tn(e,t));break}}e=e.return}}function fV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&($t&n)===n&&(Et===4||Et===3&&($t&130023424)===$t&&500>dt()-Kv?ao(t,0):Hv|=n),Tn(t,e)}function fA(t,e){e===0&&(t.mode&1?(e=Qd,Qd<<=1,!(Qd&130023424)&&(Qd=4194304)):e=1);var n=on();t=gi(t,e),t!==null&&(Yc(t,e,n),Tn(t,n))}function pV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fA(t,n)}function mV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),fA(t,n)}var pA;pA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,nV(t,e,n);yn=!!(t.flags&131072)}else yn=!1,ze&&e.flags&1048576&&_R(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var i=Ka(e,Zt.current);Oa(e,n),i=$v(null,e,r,t,i,n);var s=Bv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(e),i.updater=pp,e.stateNode=i,i._reactInternals=e,Ky(e,r,t,n),e=Jy(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&bv(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yV(r),t=sr(r,t),i){case 0:e=Qy(null,e,r,t,n);break e;case 1:e=_T(null,e,r,t,n);break e;case 11:e=gT(null,e,r,t,n);break e;case 14:e=yT(null,e,r,sr(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Qy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),_T(t,e,r,i,n);case 3:e:{if(JR(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SR(t,e),vf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xa(Error(B(423)),e),e=vT(t,e,r,n,i);break e}else if(r!==i){i=Xa(Error(B(424)),e),e=vT(t,e,r,n,i);break e}else for(bn=is(e.stateNode.containerInfo.firstChild),xn=e,ze=!0,ar=null,n=ER(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),r===i){e=yi(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return PR(e),t===null&&qy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jy(r,i)?o=null:s!==null&&jy(r,s)&&(e.flags|=32),QR(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&qy(e),null;case 13:return XR(t,e,n);case 4:return Lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qa(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),gT(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(yf,r._currentValue),r._currentValue=o,s!==null)if(hr(s.value,o)){if(s.children===i.children&&!In.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ci(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oa(e,n),i=Yn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),yT(t,e,r,i,n);case 15:return KR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),bh(t,e),e.tag=1,En(r)?(t=!0,pf(e)):t=!1,Oa(e,n),qR(e,r,i),Ky(e,r,i,n),Jy(null,e,r,!0,t,n);case 19:return ZR(t,e,n);case 22:return YR(t,e,n)}throw Error(B(156,e.tag))};function mA(t,e){return BP(t,e)}function gV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new gV(t,e,n,r)}function Xv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yV(t){if(typeof t=="function")return Xv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yv)return 11;if(t===_v)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ga:return lo(n.children,i,s,e);case gv:o=8,i|=8;break;case _y:return t=qn(12,n,e,i|2),t.elementType=_y,t.lanes=s,t;case vy:return t=qn(13,n,e,i),t.elementType=vy,t.lanes=s,t;case wy:return t=qn(19,n,e,i),t.elementType=wy,t.lanes=s,t;case PP:return yp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TP:o=10;break e;case SP:o=9;break e;case yv:o=11;break e;case _v:o=14;break e;case ji:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function yp(t,e,n,r){return t=qn(22,t,r,e),t.elementType=PP,t.lanes=n,t.stateNode={isHidden:!1},t}function $g(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Bg(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _V(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zv(t,e,n,r,i,s,o,a,l){return t=new _V(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(s),t}function vV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gA(t){if(!t)return ps;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(En(n))return gR(t,n,e)}return e}function yA(t,e,n,r,i,s,o,a,l){return t=Zv(n,r,!0,t,i,s,o,a,l),t.context=gA(null),n=t.current,r=on(),i=as(n),s=ci(r,i),s.callback=e??null,ss(n,s,i),t.current.lanes=i,Yc(t,i,r),Tn(t,r),t}function _p(t,e,n,r){var i=e.current,s=on(),o=as(i);return n=gA(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(i,e,o),t!==null&&(cr(t,i,o,s),Rh(t,i,o)),o}function Af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function e0(t,e){bT(t,e),(t=t.alternate)&&bT(t,e)}function wV(){return null}var _A=typeof reportError=="function"?reportError:function(t){console.error(t)};function t0(t){this._internalRoot=t}vp.prototype.render=t0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));_p(t,e,null,null)};vp.prototype.unmount=t0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_o(function(){_p(null,t,null,null)}),e[mi]=null}};function vp(t){this._internalRoot=t}vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=YP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&JP(t)}};function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CT(){}function IV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Af(o);s.call(c)}}var o=yA(e,r,t,0,null,!1,!1,"",CT);return t._reactRootContainer=o,t[mi]=o.current,oc(t.nodeType===8?t.parentNode:t),_o(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Af(l);a.call(c)}}var l=Zv(t,0,!1,null,null,!1,!1,"",CT);return t._reactRootContainer=l,t[mi]=l.current,oc(t.nodeType===8?t.parentNode:t),_o(function(){_p(e,l,n,r)}),l}function Ip(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Af(o);a.call(l)}}_p(e,o,t,i)}else o=IV(n,e,t,i,r);return Af(o)}HP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tu(e.pendingLanes);n!==0&&(Iv(e,n|1),Tn(e,dt()),!(ge&6)&&(Za=dt()+500,bs()))}break;case 13:_o(function(){var r=gi(t,1);if(r!==null){var i=on();cr(r,t,1,i)}}),e0(t,1)}};Ev=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=on();cr(e,t,134217728,n)}e0(t,134217728)}};KP=function(t){if(t.tag===13){var e=as(t),n=gi(t,e);if(n!==null){var r=on();cr(n,t,e,r)}e0(t,e)}};YP=function(){return Se};QP=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Cy=function(t,e,n){switch(e){case"input":if(Ty(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dp(r);if(!i)throw Error(B(90));AP(r),Ty(r,i)}}}break;case"textarea":bP(t,n);break;case"select":e=n.value,e!=null&&Ca(t,!!n.multiple,e,!1)}};VP=Yv;LP=_o;var EV={usingClientEntryPoint:!1,Events:[Jc,wa,dp,OP,MP,Yv]},lu={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TV={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jP(t),t===null?null:t.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ap=ah.inject(TV),xr=ah}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(e))throw Error(B(200));return vV(t,e,null,n)};Mn.createRoot=function(t,e){if(!n0(t))throw Error(B(299));var n=!1,r="",i=_A;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zv(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,oc(t.nodeType===8?t.parentNode:t),new t0(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=jP(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return _o(t)};Mn.hydrate=function(t,e,n){if(!wp(e))throw Error(B(200));return Ip(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!n0(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_A;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yA(e,null,t,1,n??null,i,!1,s,o),t[mi]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vp(e)};Mn.render=function(t,e,n){if(!wp(e))throw Error(B(200));return Ip(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!wp(t))throw Error(B(40));return t._reactRootContainer?(_o(function(){Ip(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Mn.unstable_batchedUpdates=Yv;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wp(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Ip(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),vP.exports=Mn;var SV=vP.exports,xT=SV;gy.createRoot=xT.createRoot,gy.hydrateRoot=xT.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const DT="popstate";function PV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return u_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kf(i)}return AV(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RV(){return Math.random().toString(36).substr(2,8)}function NT(t,e){return{usr:t.state,key:t.key,idx:e}}function u_(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:n,key:e&&e.key||r||RV()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(mc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Qi.Pop;let k=d(),I=k==null?null:k-c;c=k,l&&l({action:a,location:w.location,delta:I})}function p(k,I){a=Qi.Push;let v=u_(w.location,k,I);c=d()+1;let S=NT(v,c),O=w.createHref(v);try{o.pushState(S,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}s&&l&&l({action:a,location:w.location,delta:1})}function y(k,I){a=Qi.Replace;let v=u_(w.location,k,I);c=d();let S=NT(v,c),O=w.createHref(v);o.replaceState(S,"",O),s&&l&&l({action:a,location:w.location,delta:0})}function T(k){let I=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof k=="string"?k:kf(k);return v=v.replace(/ $/,"%20"),wt(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let w={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DT,h),l=k,()=>{i.removeEventListener(DT,h),l=null}},createHref(k){return e(i,k)},createURL:T,encodeLocation(k){let I=T(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:y,go(k){return o.go(k)}};return w}var OT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OT||(OT={}));function kV(t,e,n){return n===void 0&&(n="/"),bV(t,e,n,!1)}function bV(t,e,n,r){let i=typeof e=="string"?Il(e):e,s=r0(i.pathname||"/",n);if(s==null)return null;let o=IA(t);CV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=$V(s);a=UV(o[l],c,r)}return a}function IA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=us([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IA(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:LV(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of EA(s.path))i(s,o,l)}),e}function EA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=EA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function CV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xV=/^:[\w-]+$/,DV=3,NV=2,OV=1,MV=10,VV=-2,MT=t=>t==="*";function LV(t,e){let n=t.split("/"),r=n.length;return n.some(MT)&&(r+=VV),e&&(r+=NV),n.filter(i=>!MT(i)).reduce((i,s)=>i+(xV.test(s)?DV:s===""?OV:MV),r)}function FV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UV(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=VT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=VT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:us([s,h.pathname]),pathnameBase:qV(us([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=us([s,h.pathnameBase]))}return o}function VT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return y&&!T?c[p]=void 0:c[p]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function jV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $V(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:zV(n,e):e,search:GV(r),hash:HV(i)}}function zV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TA(t,e){let n=WV(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Il(t):(i=mc({},t),wt(!i.pathname||!i.pathname.includes("?"),zg("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),zg("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),zg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=BV(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const us=t=>t.join("/").replace(/\/\/+/g,"/"),qV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PA=["post","put","patch","delete"];new Set(PA);const YV=["get",...PA];new Set(YV);/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}const i0=$.createContext(null),QV=$.createContext(null),Oo=$.createContext(null),Ep=$.createContext(null),Mo=$.createContext({outlet:null,matches:[],isDataRoute:!1}),RA=$.createContext(null);function JV(t,e){let{relative:n}=e===void 0?{}:e;Zc()||wt(!1);let{basename:r,navigator:i}=$.useContext(Oo),{hash:s,pathname:o,search:a}=kA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:us([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Zc(){return $.useContext(Ep)!=null}function Tp(){return Zc()||wt(!1),$.useContext(Ep).location}function AA(t){$.useContext(Oo).static||$.useLayoutEffect(t)}function Sp(){let{isDataRoute:t}=$.useContext(Mo);return t?c2():XV()}function XV(){Zc()||wt(!1);let t=$.useContext(i0),{basename:e,future:n,navigator:r}=$.useContext(Oo),{matches:i}=$.useContext(Mo),{pathname:s}=Tp(),o=JSON.stringify(TA(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return AA(()=>{a.current=!0}),$.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=SA(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:us([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function kA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(Oo),{matches:i}=$.useContext(Mo),{pathname:s}=Tp(),o=JSON.stringify(TA(i,r.v7_relativeSplatPath));return $.useMemo(()=>SA(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ZV(t,e){return e2(t,e)}function e2(t,e,n,r){Zc()||wt(!1);let{navigator:i}=$.useContext(Oo),{matches:s}=$.useContext(Mo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Tp(),d;if(e){var h;let k=typeof e=="string"?Il(e):e;l==="/"||(h=k.pathname)!=null&&h.startsWith(l)||wt(!1),d=k}else d=c;let p=d.pathname||"/",y=p;if(l!=="/"){let k=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=kV(t,{pathname:y}),w=s2(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:us([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:us([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&w?$.createElement(Ep.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qi.Pop}},w):w}function t2(){let t=u2(),e=KV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const n2=$.createElement(t2,null);class r2 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(Mo.Provider,{value:this.props.routeContext},$.createElement(RA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(i0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Mo.Provider,{value:e},r)}function s2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||wt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:y}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let y,T=!1,w=null,k=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||n2,l&&(c<0&&p===0?(T=!0,k=null):c===p&&(T=!0,k=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,p+1)),v=()=>{let S;return y?S=w:T?S=k:h.route.Component?S=$.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,$.createElement(i2,{match:h,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?$.createElement(r2,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var bA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bA||{}),bf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bf||{});function o2(t){let e=$.useContext(i0);return e||wt(!1),e}function a2(t){let e=$.useContext(QV);return e||wt(!1),e}function l2(t){let e=$.useContext(Mo);return e||wt(!1),e}function CA(t){let e=l2(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function u2(){var t;let e=$.useContext(RA),n=a2(bf.UseRouteError),r=CA(bf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function c2(){let{router:t}=o2(bA.UseNavigateStable),e=CA(bf.UseNavigateStable),n=$.useRef(!1);return AA(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gc({fromRouteId:e},s)))},[t,e])}function la(t){wt(!1)}function d2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:s,static:o=!1,future:a}=t;Zc()&&wt(!1);let l=e.replace(/^\/*/,"/"),c=$.useMemo(()=>({basename:l,navigator:s,static:o,future:gc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Il(r));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:T="default"}=r,w=$.useMemo(()=>{let k=r0(d,l);return k==null?null:{location:{pathname:k,search:h,hash:p,state:y,key:T},navigationType:i}},[l,d,h,p,y,T,i]);return w==null?null:$.createElement(Oo.Provider,{value:c},$.createElement(Ep.Provider,{children:n,value:w}))}function h2(t){let{children:e,location:n}=t;return ZV(c_(e),n)}new Promise(()=>{});function c_(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,c_(r.props.children,s));return}r.type!==la&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=c_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function f2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function p2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m2(t,e){return t.button===0&&(!e||e==="_self")&&!p2(t)}const g2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],y2="6";try{window.__reactRouterVersion=y2}catch{}const _2="startTransition",LT=nf[_2];function v2(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=PV({window:i,v5Compat:!0}));let o=s.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=$.useCallback(h=>{c&&LT?LT(()=>l(h)):l(h)},[l,c]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(d2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,p=f2(e,g2),{basename:y}=$.useContext(Oo),T,w=!1;if(typeof c=="string"&&I2.test(c)&&(T=c,w2))try{let S=new URL(window.location.href),O=c.startsWith("//")?new URL(S.protocol+c):new URL(c),M=r0(O.pathname,y);O.origin===S.origin&&M!=null?c=M+O.search+O.hash:w=!0}catch{}let k=JV(c,{relative:i}),I=E2(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(S){r&&r(S),S.defaultPrevented||I(S)}return $.createElement("a",d_({},p,{href:T||k,onClick:w||s?r:v,ref:n,target:l}))});var FT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FT||(FT={}));var UT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(UT||(UT={}));function E2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sp(),c=Tp(),d=kA(t,{relative:o});return $.useCallback(h=>{if(m2(h,n)){h.preventDefault();let p=r!==void 0?r:kf(c)===kf(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const T2="/assets/amazone-logo-DqYhlZXF.png";var s0={},xA={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(xA);var Pp=xA.exports,Wg={};function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pe.apply(null,arguments)}function qi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function DA(t){if(!qi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=DA(t[n])}),e}function Nr(t,e,n={clone:!0}){const r=n.clone?Pe({},t):t;return qi(t)&&qi(e)&&Object.keys(e).forEach(i=>{qi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&qi(t[i])?r[i]=Nr(t[i],e[i],n):n.clone?r[i]=qi(e[i])?DA(e[i]):e[i]:r[i]=e[i]}),r}const S2=Object.freeze(Object.defineProperty({__proto__:null,default:Nr,isPlainObject:qi},Symbol.toStringTag,{value:"Module"}));var NA={exports:{}},P2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R2=P2,A2=R2;function OA(){}function MA(){}MA.resetWarningCache=OA;var k2=function(){function t(r,i,s,o,a,l){if(l!==A2){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MA,resetWarningCache:OA};return n.PropTypes=n,n};NA.exports=k2();var b2=NA.exports;function yc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const C2=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"}));var VA={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=Symbol.for("react.element"),a0=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),x2=Symbol.for("react.server_context"),xp=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Mp=Symbol.for("react.lazy"),D2=Symbol.for("react.offscreen"),LA;LA=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o0:switch(t=t.type,t){case Rp:case kp:case Ap:case Dp:case Np:return t;default:switch(t=t&&t.$$typeof,t){case x2:case Cp:case xp:case Mp:case Op:case bp:return t;default:return e}}case a0:return e}}}Re.ContextConsumer=Cp;Re.ContextProvider=bp;Re.Element=o0;Re.ForwardRef=xp;Re.Fragment=Rp;Re.Lazy=Mp;Re.Memo=Op;Re.Portal=a0;Re.Profiler=kp;Re.StrictMode=Ap;Re.Suspense=Dp;Re.SuspenseList=Np;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return Zn(t)===Cp};Re.isContextProvider=function(t){return Zn(t)===bp};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0};Re.isForwardRef=function(t){return Zn(t)===xp};Re.isFragment=function(t){return Zn(t)===Rp};Re.isLazy=function(t){return Zn(t)===Mp};Re.isMemo=function(t){return Zn(t)===Op};Re.isPortal=function(t){return Zn(t)===a0};Re.isProfiler=function(t){return Zn(t)===kp};Re.isStrictMode=function(t){return Zn(t)===Ap};Re.isSuspense=function(t){return Zn(t)===Dp};Re.isSuspenseList=function(t){return Zn(t)===Np};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rp||t===kp||t===Ap||t===Dp||t===Np||t===D2||typeof t=="object"&&t!==null&&(t.$$typeof===Mp||t.$$typeof===Op||t.$$typeof===bp||t.$$typeof===Cp||t.$$typeof===xp||t.$$typeof===LA||t.getModuleId!==void 0)};Re.typeOf=Zn;VA.exports=Re;var jT=VA.exports;const N2=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function FA(t){const e=`${t}`.match(N2);return e&&e[1]||""}function UA(t,e=""){return t.displayName||t.name||FA(t)||e}function $T(t,e,n){const r=UA(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function O2(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return UA(t,"Component");if(typeof t=="object")switch(t.$$typeof){case jT.ForwardRef:return $T(t,t.render,"ForwardRef");case jT.Memo:return $T(t,t.type,"memo");default:return}}}const M2=Object.freeze(Object.defineProperty({__proto__:null,default:O2,getFunctionName:FA},Symbol.toStringTag,{value:"Module"}));function ms(t){if(typeof t!="string")throw new Error(yc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const V2=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));function L2(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function F2(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function U2(t,e){return()=>null}function j2(t,e){var n,r;return $.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function jA(t){return t&&t.ownerDocument||document}function $2(t){return jA(t).defaultView||window}function B2(t,e){return()=>null}function $A(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const BA=typeof window<"u"?$.useLayoutEffect:$.useEffect;let BT=0;function z2(t){const[e,n]=$.useState(t),r=t||e;return $.useEffect(()=>{e==null&&(BT+=1,n(`mui-${BT}`))},[e]),r}const zT=nf.useId;function W2(t){if(zT!==void 0){const e=zT();return t??e}return z2(t)}function q2(t,e,n,r,i){return null}function G2({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=$.useRef(t!==void 0),[s,o]=$.useState(e),a=i?t:s,l=$.useCallback(c=>{i||o(c)},[]);return[a,l]}function H2(t){const e=$.useRef(t);return BA(()=>{e.current=t}),$.useRef((...n)=>(0,e.current)(...n)).current}function K2(...t){return $.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{$A(n,e)})},t)}class l0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new l0}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let Vp=!0,h_=!1;const Y2=new l0,Q2={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function J2(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Q2[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function X2(t){t.metaKey||t.altKey||t.ctrlKey||(Vp=!0)}function qg(){Vp=!1}function Z2(){this.visibilityState==="hidden"&&h_&&(Vp=!0)}function eL(t){t.addEventListener("keydown",X2,!0),t.addEventListener("mousedown",qg,!0),t.addEventListener("pointerdown",qg,!0),t.addEventListener("touchstart",qg,!0),t.addEventListener("visibilitychange",Z2,!0)}function tL(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Vp||J2(e)}function nL(){const t=$.useCallback(i=>{i!=null&&eL(i.ownerDocument)},[]),e=$.useRef(!1);function n(){return e.current?(h_=!0,Y2.start(100,()=>{h_=!1}),e.current=!1,!0):!1}function r(i){return tL(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function zA(t,e){const n=Pe({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Pe({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Pe({},s),Object.keys(i).forEach(o=>{n[r][o]=zA(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function rL(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const WT=t=>t,iL=()=>{let t=WT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=WT}}},WA=iL(),sL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qA(t,e,n="Mui"){const r=sL[e];return r?`${n}-${r}`:`${WA.generate(t)}-${e}`}function oL(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=qA(t,i,n)}),r}function aL(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const lL=Object.freeze(Object.defineProperty({__proto__:null,default:aL},Symbol.toStringTag,{value:"Module"}));function Cs(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uL(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GA(t))&&(r&&(r+=" "),r+=e);return r}function cL(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:zA(e.components[n].defaultProps,r)}const dL=["values","unit","step"],hL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Pe({},n,{[r.key]:r.val}),{})};function HA(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Cs(t,dL),s=hL(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,y){const T=o.indexOf(y);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:y)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function h(p){const y=o.indexOf(p);return y===0?a(o[1]):y===o.length-1?l(o[y]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Pe({keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n},i)}const fL={borderRadius:4};function $u(t,e){return e?Nr(t,e,{clone:!1}):t}const u0={xs:0,sm:600,md:900,lg:1200,xl:1536},qT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${u0[t]}px)`};function _i(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||qT;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||qT;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||u0).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function pL(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function mL(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Lp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Cf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Lp(t,n)||r,e&&(i=e(i,r,t)),i}function pt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Lp(l,r)||{};return _i(o,a,h=>{let p=Cf(c,i,h);return h===p&&typeof h=="string"&&(p=Cf(c,i,`${e}${h==="default"?"":ms(h)}`,h)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function gL(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const yL={m:"margin",p:"padding"},_L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vL=gL(t=>{if(t.length>2)if(GT[t])t=GT[t];else return[t];const[e,n]=t.split(""),r=yL[e],i=_L[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),c0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...c0,...d0];function ed(t,e,n,r){var i;const s=(i=Lp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function KA(t){return ed(t,"spacing",8)}function td(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function wL(t,e){return n=>t.reduce((r,i)=>(r[i]=td(e,n),r),{})}function IL(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=vL(n),s=wL(i,r),o=t[n];return _i(t,o,s)}function YA(t,e){const n=KA(t.theme);return Object.keys(t).map(r=>IL(t,e,r,n)).reduce($u,{})}function et(t){return YA(t,c0)}et.propTypes={};et.filterProps=c0;function tt(t){return YA(t,d0)}tt.propTypes={};tt.filterProps=d0;function EL(t=8){if(t.mui)return t;const e=KA({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Fp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?$u(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function zn(t){return typeof t!="number"?t:`${t}px solid`}function er(t,e){return pt({prop:t,themeKey:"borders",transform:e})}const TL=er("border",zn),SL=er("borderTop",zn),PL=er("borderRight",zn),RL=er("borderBottom",zn),AL=er("borderLeft",zn),kL=er("borderColor"),bL=er("borderTopColor"),CL=er("borderRightColor"),xL=er("borderBottomColor"),DL=er("borderLeftColor"),NL=er("outline",zn),OL=er("outlineColor"),Up=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ed(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:td(e,r)});return _i(t,t.borderRadius,n)}return null};Up.propTypes={};Up.filterProps=["borderRadius"];Fp(TL,SL,PL,RL,AL,kL,bL,CL,xL,DL,Up,NL,OL);const jp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ed(t.theme,"spacing",8),n=r=>({gap:td(e,r)});return _i(t,t.gap,n)}return null};jp.propTypes={};jp.filterProps=["gap"];const $p=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ed(t.theme,"spacing",8),n=r=>({columnGap:td(e,r)});return _i(t,t.columnGap,n)}return null};$p.propTypes={};$p.filterProps=["columnGap"];const Bp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ed(t.theme,"spacing",8),n=r=>({rowGap:td(e,r)});return _i(t,t.rowGap,n)}return null};Bp.propTypes={};Bp.filterProps=["rowGap"];const ML=pt({prop:"gridColumn"}),VL=pt({prop:"gridRow"}),LL=pt({prop:"gridAutoFlow"}),FL=pt({prop:"gridAutoColumns"}),UL=pt({prop:"gridAutoRows"}),jL=pt({prop:"gridTemplateColumns"}),$L=pt({prop:"gridTemplateRows"}),BL=pt({prop:"gridTemplateAreas"}),zL=pt({prop:"gridArea"});Fp(jp,$p,Bp,ML,VL,LL,FL,UL,jL,$L,BL,zL);function Va(t,e){return e==="grey"?e:t}const WL=pt({prop:"color",themeKey:"palette",transform:Va}),qL=pt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Va}),GL=pt({prop:"backgroundColor",themeKey:"palette",transform:Va});Fp(WL,qL,GL);function kn(t){return t<=1&&t!==0?`${t*100}%`:t}const HL=pt({prop:"width",transform:kn}),h0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||u0[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:kn(n)}};return _i(t,t.maxWidth,e)}return null};h0.filterProps=["maxWidth"];const KL=pt({prop:"minWidth",transform:kn}),YL=pt({prop:"height",transform:kn}),QL=pt({prop:"maxHeight",transform:kn}),JL=pt({prop:"minHeight",transform:kn});pt({prop:"size",cssProperty:"width",transform:kn});pt({prop:"size",cssProperty:"height",transform:kn});const XL=pt({prop:"boxSizing"});Fp(HL,h0,KL,YL,QL,JL,XL);const nd={border:{themeKey:"borders",transform:zn},borderTop:{themeKey:"borders",transform:zn},borderRight:{themeKey:"borders",transform:zn},borderBottom:{themeKey:"borders",transform:zn},borderLeft:{themeKey:"borders",transform:zn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Up},color:{themeKey:"palette",transform:Va},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Va},backgroundColor:{themeKey:"palette",transform:Va},p:{style:tt},pt:{style:tt},pr:{style:tt},pb:{style:tt},pl:{style:tt},px:{style:tt},py:{style:tt},padding:{style:tt},paddingTop:{style:tt},paddingRight:{style:tt},paddingBottom:{style:tt},paddingLeft:{style:tt},paddingX:{style:tt},paddingY:{style:tt},paddingInline:{style:tt},paddingInlineStart:{style:tt},paddingInlineEnd:{style:tt},paddingBlock:{style:tt},paddingBlockStart:{style:tt},paddingBlockEnd:{style:tt},m:{style:et},mt:{style:et},mr:{style:et},mb:{style:et},ml:{style:et},mx:{style:et},my:{style:et},margin:{style:et},marginTop:{style:et},marginRight:{style:et},marginBottom:{style:et},marginLeft:{style:et},marginX:{style:et},marginY:{style:et},marginInline:{style:et},marginInlineStart:{style:et},marginInlineEnd:{style:et},marginBlock:{style:et},marginBlockStart:{style:et},marginBlockEnd:{style:et},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:jp},rowGap:{style:Bp},columnGap:{style:$p},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kn},maxWidth:{style:h0},minWidth:{transform:kn},height:{transform:kn},maxHeight:{transform:kn},minHeight:{transform:kn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ZL(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function eF(t,e){return typeof t=="function"?t(e):t}function QA(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=Lp(i,c)||{};return h?h(o):_i(o,r,T=>{let w=Cf(p,d,T);return T===w&&typeof T=="string"&&(w=Cf(p,d,`${n}${T==="default"?"":ms(T)}`,T)),l===!1?w:{[l]:w}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:nd;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const d=pL(s.breakpoints),h=Object.keys(d);let p=d;return Object.keys(c).forEach(y=>{const T=eF(c[y],s);if(T!=null)if(typeof T=="object")if(o[y])p=$u(p,t(y,T,s,o));else{const w=_i({theme:s},T,k=>({[y]:k}));ZL(w,T)?p[y]=e({sx:T,theme:s}):p=$u(p,w)}else p=$u(p,t(y,T,s,o))}),mL(h,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const zp=QA();zp.filterProps=["sx"];function JA(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const tF=["breakpoints","palette","spacing","shape"];function f0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Cs(t,tF),a=HA(n),l=EL(i);let c=Nr({breakpoints:a,direction:"ltr",components:{},palette:Pe({mode:"light"},r),spacing:l,shape:Pe({},fL,s)},o);return c.applyStyles=JA,c=e.reduce((d,h)=>Nr(d,h),c),c.unstable_sxConfig=Pe({},nd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return zp({sx:h,theme:this})},c}const nF=Object.freeze(Object.defineProperty({__proto__:null,default:f0,private_createBreakpoints:HA,unstable_applyStyles:JA},Symbol.toStringTag,{value:"Module"}));function XA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iF=XA(function(t){return rF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function sF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function oF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=sF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Qt="-ms-",xf="-moz-",Ie="-webkit-",ZA="comm",p0="rule",m0="decl",lF="@import",ek="@keyframes",uF="@layer",cF=Math.abs,Wp=String.fromCharCode,dF=Object.assign;function hF(t,e){return Ut(t,0)^45?(((e<<2^Ut(t,0))<<2^Ut(t,1))<<2^Ut(t,2))<<2^Ut(t,3):0}function tk(t){return t.trim()}function fF(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function f_(t,e){return t.indexOf(e)}function Ut(t,e){return t.charCodeAt(e)|0}function _c(t,e,n){return t.slice(e,n)}function wr(t){return t.length}function g0(t){return t.length}function lh(t,e){return e.push(t),t}function pF(t,e){return t.map(e).join("")}var qp=1,el=1,nk=0,Sn=0,_t=0,El="";function Gp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:qp,column:el,length:o,return:""}}function uu(t,e){return dF(Gp("",null,null,"",null,null,0),t,{length:-t.length},e)}function mF(){return _t}function gF(){return _t=Sn>0?Ut(El,--Sn):0,el--,_t===10&&(el=1,qp--),_t}function Dn(){return _t=Sn<nk?Ut(El,Sn++):0,el++,_t===10&&(el=1,qp++),_t}function Or(){return Ut(El,Sn)}function Nh(){return Sn}function rd(t,e){return _c(El,t,e)}function vc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rk(t){return qp=el=1,nk=wr(El=t),Sn=0,[]}function ik(t){return El="",t}function Oh(t){return tk(rd(Sn-1,p_(t===91?t+2:t===40?t+1:t)))}function yF(t){for(;(_t=Or())&&_t<33;)Dn();return vc(t)>2||vc(_t)>3?"":" "}function _F(t,e){for(;--e&&Dn()&&!(_t<48||_t>102||_t>57&&_t<65||_t>70&&_t<97););return rd(t,Nh()+(e<6&&Or()==32&&Dn()==32))}function p_(t){for(;Dn();)switch(_t){case t:return Sn;case 34:case 39:t!==34&&t!==39&&p_(_t);break;case 40:t===41&&p_(t);break;case 92:Dn();break}return Sn}function vF(t,e){for(;Dn()&&t+_t!==57;)if(t+_t===84&&Or()===47)break;return"/*"+rd(e,Sn-1)+"*"+Wp(t===47?t:Dn())}function wF(t){for(;!vc(Or());)Dn();return rd(t,Sn)}function IF(t){return ik(Mh("",null,null,null,[""],t=rk(t),0,[0],t))}function Mh(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,p=0,y=0,T=0,w=1,k=1,I=1,v=0,S="",O=i,M=s,F=r,E=S;k;)switch(T=v,v=Dn()){case 40:if(T!=108&&Ut(E,h-1)==58){f_(E+=Ee(Oh(v),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:E+=Oh(v);break;case 9:case 10:case 13:case 32:E+=yF(T);break;case 92:E+=_F(Nh()-1,7);continue;case 47:switch(Or()){case 42:case 47:lh(EF(vF(Dn(),Nh()),e,n),l);break;default:E+="/"}break;case 123*w:a[c++]=wr(E)*I;case 125*w:case 59:case 0:switch(v){case 0:case 125:k=0;case 59+d:I==-1&&(E=Ee(E,/\f/g,"")),y>0&&wr(E)-h&&lh(y>32?KT(E+";",r,n,h-1):KT(Ee(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(lh(F=HT(E,e,n,c,d,i,a,S,O=[],M=[],h),s),v===123)if(d===0)Mh(E,e,F,F,O,s,h,a,M);else switch(p===99&&Ut(E,3)===110?100:p){case 100:case 108:case 109:case 115:Mh(t,F,F,r&&lh(HT(t,F,F,0,0,i,a,S,i,O=[],h),M),i,M,h,a,r?O:M);break;default:Mh(E,F,F,F,[""],M,0,a,M)}}c=d=y=0,w=I=1,S=E="",h=o;break;case 58:h=1+wr(E),y=T;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&gF()==125)continue}switch(E+=Wp(v),v*w){case 38:I=d>0?1:(E+="\f",-1);break;case 44:a[c++]=(wr(E)-1)*I,I=1;break;case 64:Or()===45&&(E+=Oh(Dn())),p=Or(),d=h=wr(S=E+=wF(Nh())),v++;break;case 45:T===45&&wr(E)==2&&(w=0)}}return s}function HT(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,p=i===0?s:[""],y=g0(p),T=0,w=0,k=0;T<r;++T)for(var I=0,v=_c(t,h+1,h=cF(w=o[T])),S=t;I<y;++I)(S=tk(w>0?p[I]+" "+v:Ee(v,/&\f/g,p[I])))&&(l[k++]=S);return Gp(t,e,n,i===0?p0:a,l,c,d)}function EF(t,e,n){return Gp(t,e,n,ZA,Wp(mF()),_c(t,2,-2),0)}function KT(t,e,n,r){return Gp(t,e,n,m0,_c(t,0,r),_c(t,r+1,-1),r)}function La(t,e){for(var n="",r=g0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function TF(t,e,n,r){switch(t.type){case uF:if(t.children.length)break;case lF:case m0:return t.return=t.return||t.value;case ZA:return"";case ek:return t.return=t.value+"{"+La(t.children,r)+"}";case p0:t.value=t.props.join(",")}return wr(n=La(t.children,r))?t.return=t.value+"{"+n+"}":""}function SF(t){var e=g0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function PF(t){return function(e){e.root||(e=e.return)&&t(e)}}var RF=function(e,n,r){for(var i=0,s=0;i=s,s=Or(),i===38&&s===12&&(n[r]=1),!vc(s);)Dn();return rd(e,Sn)},AF=function(e,n){var r=-1,i=44;do switch(vc(i)){case 0:i===38&&Or()===12&&(n[r]=1),e[r]+=RF(Sn-1,n,r);break;case 2:e[r]+=Oh(i);break;case 4:if(i===44){e[++r]=Or()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Wp(i)}while(i=Dn());return e},kF=function(e,n){return ik(AF(rk(e),n))},YT=new WeakMap,bF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!YT.get(r))&&!i){YT.set(e,!0);for(var s=[],o=kF(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},CF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function sk(t,e){switch(hF(t,e)){case 5103:return Ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+t+xf+t+Qt+t+t;case 6828:case 4268:return Ie+t+Qt+t+t;case 6165:return Ie+t+Qt+"flex-"+t+t;case 5187:return Ie+t+Ee(t,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+Qt+"flex-$1$2")+t;case 5443:return Ie+t+Qt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return Ie+t+Qt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return Ie+t+Qt+Ee(t,"shrink","negative")+t;case 5292:return Ie+t+Qt+Ee(t,"basis","preferred-size")+t;case 6060:return Ie+"box-"+Ee(t,"-grow","")+Ie+t+Qt+Ee(t,"grow","positive")+t;case 4554:return Ie+Ee(t,/([^-])(transform)/g,"$1"+Ie+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,Ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(t)-1-e>6)switch(Ut(t,e+1)){case 109:if(Ut(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+xf+(Ut(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~f_(t,"stretch")?sk(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ut(t,e+1)!==115)break;case 6444:switch(Ut(t,wr(t)-3-(~f_(t,"!important")&&10))){case 107:return Ee(t,":",":"+Ie)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ie+(Ut(t,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+Qt+"$2box$3")+t}break;case 5936:switch(Ut(t,e+11)){case 114:return Ie+t+Qt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ie+t+Qt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ie+t+Qt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ie+t+Qt+t+t}return t}var xF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case m0:e.return=sk(e.value,e.length);break;case ek:return La([uu(e,{value:Ee(e.value,"@","@"+Ie)})],i);case p0:if(e.length)return pF(e.props,function(s){switch(fF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return La([uu(e,{props:[Ee(s,/:(read-\w+)/,":"+xf+"$1")]})],i);case"::placeholder":return La([uu(e,{props:[Ee(s,/:(plac\w+)/,":"+Ie+"input-$1")]}),uu(e,{props:[Ee(s,/:(plac\w+)/,":"+xf+"$1")]}),uu(e,{props:[Ee(s,/:(plac\w+)/,Qt+"input-$1")]})],i)}return""})}},DF=[xF],ok=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var k=w.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||DF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var k=w.getAttribute("data-emotion").split(" "),I=1;I<k.length;I++)s[k[I]]=!0;a.push(w)});var l,c=[bF,CF];{var d,h=[TF,PF(function(w){d.insert(w)})],p=SF(c.concat(i,h)),y=function(k){return La(IF(k),p)};l=function(k,I,v,S){d=v,y(k?k+"{"+I.styles+"}":I.styles),S&&(T.inserted[I.name]=!0)}}var T={key:n,sheet:new aF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return T.sheet.hydrate(a),T},ak={exports:{}},Ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,y0=Dt?Symbol.for("react.element"):60103,_0=Dt?Symbol.for("react.portal"):60106,Hp=Dt?Symbol.for("react.fragment"):60107,Kp=Dt?Symbol.for("react.strict_mode"):60108,Yp=Dt?Symbol.for("react.profiler"):60114,Qp=Dt?Symbol.for("react.provider"):60109,Jp=Dt?Symbol.for("react.context"):60110,v0=Dt?Symbol.for("react.async_mode"):60111,Xp=Dt?Symbol.for("react.concurrent_mode"):60111,Zp=Dt?Symbol.for("react.forward_ref"):60112,em=Dt?Symbol.for("react.suspense"):60113,NF=Dt?Symbol.for("react.suspense_list"):60120,tm=Dt?Symbol.for("react.memo"):60115,nm=Dt?Symbol.for("react.lazy"):60116,OF=Dt?Symbol.for("react.block"):60121,MF=Dt?Symbol.for("react.fundamental"):60117,VF=Dt?Symbol.for("react.responder"):60118,LF=Dt?Symbol.for("react.scope"):60119;function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y0:switch(t=t.type,t){case v0:case Xp:case Hp:case Yp:case Kp:case em:return t;default:switch(t=t&&t.$$typeof,t){case Jp:case Zp:case nm:case tm:case Qp:return t;default:return e}}case _0:return e}}}function lk(t){return Ln(t)===Xp}Ae.AsyncMode=v0;Ae.ConcurrentMode=Xp;Ae.ContextConsumer=Jp;Ae.ContextProvider=Qp;Ae.Element=y0;Ae.ForwardRef=Zp;Ae.Fragment=Hp;Ae.Lazy=nm;Ae.Memo=tm;Ae.Portal=_0;Ae.Profiler=Yp;Ae.StrictMode=Kp;Ae.Suspense=em;Ae.isAsyncMode=function(t){return lk(t)||Ln(t)===v0};Ae.isConcurrentMode=lk;Ae.isContextConsumer=function(t){return Ln(t)===Jp};Ae.isContextProvider=function(t){return Ln(t)===Qp};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y0};Ae.isForwardRef=function(t){return Ln(t)===Zp};Ae.isFragment=function(t){return Ln(t)===Hp};Ae.isLazy=function(t){return Ln(t)===nm};Ae.isMemo=function(t){return Ln(t)===tm};Ae.isPortal=function(t){return Ln(t)===_0};Ae.isProfiler=function(t){return Ln(t)===Yp};Ae.isStrictMode=function(t){return Ln(t)===Kp};Ae.isSuspense=function(t){return Ln(t)===em};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hp||t===Xp||t===Yp||t===Kp||t===em||t===NF||typeof t=="object"&&t!==null&&(t.$$typeof===nm||t.$$typeof===tm||t.$$typeof===Qp||t.$$typeof===Jp||t.$$typeof===Zp||t.$$typeof===MF||t.$$typeof===VF||t.$$typeof===LF||t.$$typeof===OF)};Ae.typeOf=Ln;ak.exports=Ae;var FF=ak.exports,uk=FF,UF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ck={};ck[uk.ForwardRef]=UF;ck[uk.Memo]=jF;var $F=!0;function BF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var dk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||$F===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},hk=function(e,n,r){dk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function zF(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qF=/[A-Z]|^ms/g,GF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fk=function(e){return e.charCodeAt(1)===45},QT=function(e){return e!=null&&typeof e!="boolean"},Gg=XA(function(t){return fk(t)?t:t.replace(qF,"-$&").toLowerCase()}),JT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GF,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return WF[e]!==1&&!fk(e)&&typeof n=="number"&&n!==0?n+"px":n};function wc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ir={name:n.name,styles:n.styles,next:Ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ir={name:r.name,styles:r.styles,next:Ir},r=r.next;var i=n.styles+";";return i}return HF(t,e,n)}case"function":{if(t!==void 0){var s=Ir,o=n(t);return Ir=s,wc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function HF(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":QT(o)&&(r+=Gg(s)+":"+JT(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)QT(o[a])&&(r+=Gg(s)+":"+JT(s,o[a])+";");else{var l=wc(t,e,o);switch(s){case"animation":case"animationName":{r+=Gg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var XT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ir,w0=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=wc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=wc(r,n,e[a]),i&&(s+=o[a]);XT.lastIndex=0;for(var l="",c;(c=XT.exec(s))!==null;)l+="-"+c[1];var d=zF(s)+l;return{name:d,styles:s,next:Ir}},KF=function(e){return e()},pk=nf.useInsertionEffect?nf.useInsertionEffect:!1,YF=pk||KF,ZT=pk||$.useLayoutEffect,mk=$.createContext(typeof HTMLElement<"u"?ok({key:"css"}):null),QF=mk.Provider,gk=function(e){return $.forwardRef(function(n,r){var i=$.useContext(mk);return e(n,i,r)})},rm=$.createContext({}),Hg={exports:{}},eS;function yk(){return eS||(eS=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Hg)),Hg.exports}yk();var JF=gk(function(t,e){var n=t.styles,r=w0([n],void 0,$.useContext(rm)),i=$.useRef();return ZT(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),ZT(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&hk(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function _k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w0(e)}var XF=function(){var e=_k.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ZF=iF,e4=function(e){return e!=="theme"},tS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ZF:e4},nS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},t4=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return dk(n,r,i),YF(function(){return hk(n,r,i)}),null},n4=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=nS(e,n,r),l=a||tS(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,y=1;y<p;y++)h.push(d[y],d[0][y])}var T=gk(function(w,k,I){var v=c&&w.as||i,S="",O=[],M=w;if(w.theme==null){M={};for(var F in w)M[F]=w[F];M.theme=$.useContext(rm)}typeof w.className=="string"?S=BF(k.registered,O,w.className):w.className!=null&&(S=w.className+" ");var E=w0(h.concat(O),k.registered,M);S+=k.key+"-"+E.name,o!==void 0&&(S+=" "+o);var _=c&&a===void 0?tS(v):l,P={};for(var R in w)c&&R==="as"||_(R)&&(P[R]=w[R]);return P.className=S,P.ref=I,$.createElement($.Fragment,null,$.createElement(t4,{cache:k,serialized:E,isStringTag:typeof v=="string"}),$.createElement(v,P))});return T.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=e.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=h,T.__emotion_forwardProp=a,Object.defineProperty(T,"toString",{value:function(){return"."+o}}),T.withComponent=function(w,k){return t(w,Pe({},n,k,{shouldForwardProp:nS(T,k,!0)})).apply(void 0,h)},T}},r4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],m_=n4.bind();r4.forEach(function(t){m_[t]=m_(t)});let g_;typeof document=="object"&&(g_=ok({key:"css",prepend:!0}));function i4(t){const{injectFirst:e,children:n}=t;return e&&g_?C.jsx(QF,{value:g_,children:n}):n}function s4(t){return t==null||Object.keys(t).length===0}function o4(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(s4(i)?n:i):e;return C.jsx(JF,{styles:r})}function a4(t,e){return m_(t,e)}const l4=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},u4=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:o4,StyledEngineProvider:i4,ThemeContext:rm,css:_k,default:a4,internal_processStyles:l4,keyframes:XF},Symbol.toStringTag,{value:"Module"}));function c4(t){return Object.keys(t).length===0}function d4(t=null){const e=$.useContext(rm);return!e||c4(e)?t:e}const h4=f0();function f4(t=h4){return d4(t)}function p4({props:t,name:e,defaultTheme:n,themeId:r}){let i=f4(n);return r&&(i=i[r]||i),cL({theme:i,name:e,props:t})}const m4=["sx"],g4=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:nd;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function y4(t){const{sx:e}=t,n=Cs(t,m4),{systemProps:r,otherProps:i}=g4(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return qi(a)?Pe({},r,a):r}:s=Pe({},r,e),Pe({},i,{sx:s})}const _4=Object.freeze(Object.defineProperty({__proto__:null,default:zp,extendSxProp:y4,unstable_createStyleFunctionSx:QA,unstable_defaultSxConfig:nd},Symbol.toStringTag,{value:"Module"}));function v4(t,e){return Pe({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var mt={};const w4=Ti(C2),I4=Ti(lL);var vk=Pp;Object.defineProperty(mt,"__esModule",{value:!0});mt.alpha=Tk;mt.blend=O4;mt.colorChannel=void 0;var E4=mt.darken=E0;mt.decomposeColor=Jn;mt.emphasize=Sk;var T4=mt.getContrastRatio=b4;mt.getLuminance=Df;mt.hexToRgb=wk;mt.hslToRgb=Ek;var S4=mt.lighten=T0;mt.private_safeAlpha=C4;mt.private_safeColorChannel=void 0;mt.private_safeDarken=x4;mt.private_safeEmphasize=N4;mt.private_safeLighten=D4;mt.recomposeColor=Tl;mt.rgbToHex=k4;var rS=vk(w4),P4=vk(I4);function I0(t,e=0,n=1){return(0,P4.default)(t,e,n)}function wk(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function R4(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Jn(t){if(t.type)return t;if(t.charAt(0)==="#")return Jn(wk(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,rS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,rS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Ik=t=>{const e=Jn(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};mt.colorChannel=Ik;const A4=(t,e)=>{try{return Ik(t)}catch{return t}};mt.private_safeColorChannel=A4;function Tl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function k4(t){if(t.indexOf("#")===0)return t;const{values:e}=Jn(t);return`#${e.map((n,r)=>R4(r===3?Math.round(255*n):n)).join("")}`}function Ek(t){t=Jn(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Tl({type:a,values:l})}function Df(t){t=Jn(t);let e=t.type==="hsl"||t.type==="hsla"?Jn(Ek(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function b4(t,e){const n=Df(t),r=Df(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Tk(t,e){return t=Jn(t),e=I0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Tl(t)}function C4(t,e,n){try{return Tk(t,e)}catch{return t}}function E0(t,e){if(t=Jn(t),e=I0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Tl(t)}function x4(t,e,n){try{return E0(t,e)}catch{return t}}function T0(t,e){if(t=Jn(t),e=I0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Tl(t)}function D4(t,e,n){try{return T0(t,e)}catch{return t}}function Sk(t,e=.15){return Df(t)>.5?E0(t,e):T0(t,e)}function N4(t,e,n){try{return Sk(t,e)}catch{return t}}function O4(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Jn(t),o=Jn(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Tl({type:"rgb",values:a})}const Ic={black:"#000",white:"#fff"},M4={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xo={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ea={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},V4=["mode","contrastThreshold","tonalOffset"],iS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ic.white,default:Ic.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kg={text:{primary:Ic.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ic.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=S4(t.main,i):e==="dark"&&(t.dark=E4(t.main,s)))}function L4(t="light"){return t==="dark"?{main:Xo[200],light:Xo[50],dark:Xo[400]}:{main:Xo[700],light:Xo[400],dark:Xo[800]}}function F4(t="light"){return t==="dark"?{main:Qo[200],light:Qo[50],dark:Qo[400]}:{main:Qo[500],light:Qo[300],dark:Qo[700]}}function U4(t="light"){return t==="dark"?{main:Jo[500],light:Jo[300],dark:Jo[700]}:{main:Jo[700],light:Jo[400],dark:Jo[800]}}function j4(t="light"){return t==="dark"?{main:Zo[400],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[500],dark:Zo[900]}}function $4(t="light"){return t==="dark"?{main:ea[400],light:ea[300],dark:ea[700]}:{main:ea[800],light:ea[500],dark:ea[900]}}function B4(t="light"){return t==="dark"?{main:cu[400],light:cu[300],dark:cu[700]}:{main:"#ed6c02",light:cu[500],dark:cu[900]}}function z4(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Cs(t,V4),s=t.primary||L4(e),o=t.secondary||F4(e),a=t.error||U4(e),l=t.info||j4(e),c=t.success||$4(e),d=t.warning||B4(e);function h(w){return T4(w,Kg.text.primary)>=n?Kg.text.primary:iS.text.primary}const p=({color:w,name:k,mainShade:I=500,lightShade:v=300,darkShade:S=700})=>{if(w=Pe({},w),!w.main&&w[I]&&(w.main=w[I]),!w.hasOwnProperty("main"))throw new Error(yc(11,k?` (${k})`:"",I));if(typeof w.main!="string")throw new Error(yc(12,k?` (${k})`:"",JSON.stringify(w.main)));return sS(w,"light",v,r),sS(w,"dark",S,r),w.contrastText||(w.contrastText=h(w.main)),w},y={dark:Kg,light:iS};return Nr(Pe({common:Pe({},Ic),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:M4,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},y[e]),i)}const W4=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function q4(t){return Math.round(t*1e5)/1e5}const oS={textTransform:"uppercase"},aS='"Roboto", "Helvetica", "Arial", sans-serif';function G4(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=aS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:h}=n,p=Cs(n,W4),y=i/14,T=h||(I=>`${I/c*y}rem`),w=(I,v,S,O,M)=>Pe({fontFamily:r,fontWeight:I,fontSize:T(v),lineHeight:S},r===aS?{letterSpacing:`${q4(O/v)}em`}:{},M,d),k={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(a,14,1.75,.4,oS),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,oS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Nr(Pe({htmlFontSize:c,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},k),p,{clone:!1})}const H4=.2,K4=.14,Y4=.12;function je(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${H4})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${K4})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Y4})`].join(",")}const Q4=["none",je(0,2,1,-1,0,1,1,0,0,1,3,0),je(0,3,1,-2,0,2,2,0,0,1,5,0),je(0,3,3,-2,0,3,4,0,0,1,8,0),je(0,2,4,-1,0,4,5,0,0,1,10,0),je(0,3,5,-1,0,5,8,0,0,1,14,0),je(0,3,5,-1,0,6,10,0,0,1,18,0),je(0,4,5,-2,0,7,10,1,0,2,16,1),je(0,5,5,-3,0,8,10,1,0,3,14,2),je(0,5,6,-3,0,9,12,1,0,3,16,2),je(0,6,6,-3,0,10,14,1,0,4,18,3),je(0,6,7,-4,0,11,15,1,0,4,20,3),je(0,7,8,-4,0,12,17,2,0,5,22,4),je(0,7,8,-4,0,13,19,2,0,5,24,4),je(0,7,9,-4,0,14,21,2,0,5,26,4),je(0,8,9,-5,0,15,22,2,0,6,28,5),je(0,8,10,-5,0,16,24,2,0,6,30,5),je(0,8,11,-5,0,17,26,2,0,6,32,5),je(0,9,11,-5,0,18,28,2,0,7,34,6),je(0,9,12,-6,0,19,29,2,0,7,36,6),je(0,10,13,-6,0,20,31,3,0,8,38,7),je(0,10,13,-6,0,21,33,3,0,8,40,7),je(0,10,14,-6,0,22,35,3,0,8,42,7),je(0,11,14,-7,0,23,36,3,0,9,44,8),je(0,11,15,-7,0,24,38,3,0,9,46,8)],J4=["duration","easing","delay"],X4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Z4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lS(t){return`${Math.round(t)}ms`}function eU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function tU(t){const e=Pe({},X4,t.easing),n=Pe({},Z4,t.duration);return Pe({getAutoHeightDuration:eU,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Cs(s,J4),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:lS(o)} ${a} ${typeof l=="string"?l:lS(l)}`).join(",")}},t,{easing:e,duration:n})}const nU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function iU(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Cs(t,rU);if(t.vars)throw new Error(yc(18));const a=z4(r),l=f0(t);let c=Nr(l,{mixins:v4(l.breakpoints,n),palette:a,shadows:Q4.slice(),typography:G4(a,s),transitions:tU(i),zIndex:Pe({},nU)});return c=Nr(c,o),c=e.reduce((d,h)=>Nr(d,h),c),c.unstable_sxConfig=Pe({},nd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return zp({sx:h,theme:this})},c}const Pk=iU(),Rk="$$material";function sU({props:t,name:e}){return p4({props:t,name:e,defaultTheme:Pk,themeId:Rk})}var id={},Yg={exports:{}},uS;function oU(){return uS||(uS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Yg)),Yg.exports}const aU=Ti(u4),lU=Ti(S2),uU=Ti(V2),cU=Ti(M2),dU=Ti(nF),hU=Ti(_4);var Sl=Pp;Object.defineProperty(id,"__esModule",{value:!0});var fU=id.default=RU;id.shouldForwardProp=Vh;id.systemDefaultTheme=void 0;var jn=Sl(yk()),y_=Sl(oU()),cS=wU(aU),pU=lU;Sl(uU);Sl(cU);var mU=Sl(dU),gU=Sl(hU);const yU=["ownerState"],_U=["variants"],vU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Ak(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Ak=function(r){return r?n:e})(t)}function wU(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Ak(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function IU(t){return Object.keys(t).length===0}function EU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Vh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const TU=id.systemDefaultTheme=(0,mU.default)(),SU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function uh({defaultTheme:t,theme:e,themeId:n}){return IU(e)?t:e[n]||e}function PU(t){return t?(e,n)=>n[t]:null}function Lh(t,e){let{ownerState:n}=e,r=(0,y_.default)(e,yU);const i=typeof t=="function"?t((0,jn.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Lh(s,(0,jn.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,y_.default)(i,_U);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,jn.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,jn.default)({ownerState:n},r,n)):l.style))}),a}return i}function RU(t={}){const{themeId:e,defaultTheme:n=TU,rootShouldForwardProp:r=Vh,slotShouldForwardProp:i=Vh}=t,s=o=>(0,gU.default)((0,jn.default)({},o,{theme:uh((0,jn.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,cS.internal_processStyles)(o,M=>M.filter(F=>!(F!=null&&F.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:p=PU(SU(c))}=a,y=(0,y_.default)(a,vU),T=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,w=h||!1;let k,I=Vh;c==="Root"||c==="root"?I=r:c?I=i:EU(o)&&(I=void 0);const v=(0,cS.default)(o,(0,jn.default)({shouldForwardProp:I,label:k},y)),S=M=>typeof M=="function"&&M.__emotion_real!==M||(0,pU.isPlainObject)(M)?F=>Lh(M,(0,jn.default)({},F,{theme:uh({theme:F.theme,defaultTheme:n,themeId:e})})):M,O=(M,...F)=>{let E=S(M);const _=F?F.map(S):[];l&&p&&_.push(b=>{const x=uh((0,jn.default)({},b,{defaultTheme:n,themeId:e}));if(!x.components||!x.components[l]||!x.components[l].styleOverrides)return null;const A=x.components[l].styleOverrides,Mt={};return Object.entries(A).forEach(([Wr,Fs])=>{Mt[Wr]=Lh(Fs,(0,jn.default)({},b,{theme:x}))}),p(b,Mt)}),l&&!T&&_.push(b=>{var x;const A=uh((0,jn.default)({},b,{defaultTheme:n,themeId:e})),Mt=A==null||(x=A.components)==null||(x=x[l])==null?void 0:x.variants;return Lh({variants:Mt},(0,jn.default)({},b,{theme:A}))}),w||_.push(s);const P=_.length-F.length;if(Array.isArray(M)&&P>0){const b=new Array(P).fill("");E=[...M,...b],E.raw=[...M.raw,...b]}const R=v(E,..._);return o.muiName&&(R.muiName=o.muiName),R};return v.withConfig&&(O.withConfig=v.withConfig),O}}function AU(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kU=t=>AU(t)&&t!=="classes",bU=fU({themeId:Rk,defaultTheme:Pk,rootShouldForwardProp:kU});function CU(t){return qA("MuiSvgIcon",t)}oL("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const xU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],DU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ms(e)}`,`fontSize${ms(n)}`]};return rL(i,CU,r)},NU=bU("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ms(n.color)}`],e[`fontSize${ms(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,d,h,p,y,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?h:{action:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),__=$.forwardRef(function(e,n){const r=sU({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,y=Cs(r,xU),T=$.isValidElement(i)&&i.type==="svg",w=Pe({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:T}),k={};d||(k.viewBox=p);const I=DU(w);return C.jsxs(NU,Pe({as:a,className:uL(I.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},k,y,T&&i.props,{ownerState:w,children:[T?i.props.children:i,h?C.jsx("title",{children:h}):null]}))});__.muiName="SvgIcon";function OU(t,e){function n(r,i){return C.jsx(__,Pe({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=__.muiName,$.memo($.forwardRef(n))}const MU={configure:t=>{WA.configure(t)}},VU=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ms,createChainedFunction:L2,createSvgIcon:OU,debounce:F2,deprecatedPropType:U2,isMuiElement:j2,ownerDocument:jA,ownerWindow:$2,requirePropFactory:B2,setRef:$A,unstable_ClassNameGenerator:MU,unstable_useEnhancedEffect:BA,unstable_useId:W2,unsupportedProp:q2,useControlled:G2,useEventCallback:H2,useForkRef:K2,useIsFocusVisible:nL},Symbol.toStringTag,{value:"Module"})),LU=Ti(VU);var dS;function kk(){return dS||(dS=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=LU}(Wg)),Wg}var FU=Pp;Object.defineProperty(s0,"__esModule",{value:!0});var bk=s0.default=void 0,UU=FU(kk()),jU=C;bk=s0.default=(0,UU.default)((0,jU.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchSharp");var S0={},$U=Pp;Object.defineProperty(S0,"__esModule",{value:!0});var Ck=S0.default=void 0,BU=$U(kk()),zU=C;Ck=S0.default=(0,BU.default)((0,zU.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1zM9 9l3-4.4L15 9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"ShoppingBasket");const Aa=t=>t==null?void 0:t.reduce((e,n)=>n.price+e,0),WU={basket:[]};function qU(t,e){switch(e.type){case"ADD_TO_BASKET":return{...t,basket:[...t.basket,e.item]};case"REMOVE_FROM_BASKET":{let n=[...t.basket];const r=t.basket.findIndex(i=>i.id===e.id);return r>=0?n.splice(r,1):console.warn(`Can't remove the product(id:${e.id} as its not in basket )`),{...t,basket:n}}case"SET_USER":return{...t,user:e.user};default:return t}}const xk=$.createContext(),GU=({reducer:t,initialState:e,children:n})=>C.jsx(xk.Provider,{value:$.useReducer(t,e),children:n}),xs=()=>$.useContext(xk);var hS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new KU;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YU=function(t){const e=Dk(t);return Nk.encodeByteArray(e,!0)},Nf=function(t){return YU(t).replace(/\./g,"")},Ok=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Of(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QU(n)||(t[n]=Of(t[n],e[n]));return t}function QU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=()=>JU().__FIREBASE_DEFAULTS__,ZU=()=>{if(typeof process>"u"||typeof hS>"u")return;const t=hS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ej=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ok(t[1]);return e&&JSON.parse(e)},P0=()=>{try{return XU()||ZU()||ej()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mk=()=>{var t;return(t=P0())===null||t===void 0?void 0:t.config},tj=t=>{var e;return(e=P0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ij(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function R0(){var t;const e=(t=P0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vk(){return typeof window<"u"||Lk()}function Lk(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uk(){const t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jk(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ec(){try{return typeof indexedDB=="object"}catch{return!1}}function sj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="FirebaseError";class an extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oj,Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new an(i,a,r)}}function aj(t,e){return t.replace(lj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pS(s)&&pS(o)){if(!Tc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $k(t,e){const n=new cj(t,e);return n.subscribe.bind(n)}class cj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pj(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fj(t){return t===Hs?void 0:t}function pj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=[];var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const zk={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},mj=le.INFO,gj={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},yj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=mj,this._logHandler=yj,this._userLogHandler=null,k0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}function _j(t){k0.forEach(e=>{e.setLogLevel(t)})}function vj(t,e){for(const n of k0){let r=null;e&&e.level&&(r=zk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:le[s].toLowerCase(),message:a,args:o,type:i.name})}}}const wj=(t,e)=>e.some(n=>t instanceof n);let mS,gS;function Ij(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ej(){return gS||(gS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wk=new WeakMap,v_=new WeakMap,qk=new WeakMap,Jg=new WeakMap,b0=new WeakMap;function Tj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wk.set(n,t)}).catch(()=>{}),b0.set(e,t),e}function Sj(t){if(v_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});v_.set(t,e)}let w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pj(t){w_=t(w_)}function Rj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return qk.set(r,e.sort?e.sort():[e]),cs(r)}:Ej().includes(t)?function(...e){return t.apply(Xg(this),e),cs(Wk.get(this))}:function(...e){return cs(t.apply(Xg(this),e))}}function Aj(t){return typeof t=="function"?Rj(t):(t instanceof IDBTransaction&&Sj(t),wj(t,Ij())?new Proxy(t,w_):t)}function cs(t){if(t instanceof IDBRequest)return Tj(t);if(Jg.has(t))return Jg.get(t);const e=Aj(t);return e!==t&&(Jg.set(t,e),b0.set(e,t)),e}const Xg=t=>b0.get(t);function kj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cs(o.result),l.oldVersion,l.newVersion,cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bj=["get","getKey","getAll","getAllKeys","count"],Cj=["put","add","delete","clear"],Zg=new Map;function yS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Zg.set(e,s),s}Pj(t=>({...t,get:(e,n,r)=>yS(e,n)||t.get(e,n,r),has:(e,n)=>!!yS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",I_="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new im("@firebase/app"),Nj="@firebase/app-compat",Oj="@firebase/analytics-compat",Mj="@firebase/analytics",Vj="@firebase/app-check-compat",Lj="@firebase/app-check",Fj="@firebase/auth",Uj="@firebase/auth-compat",jj="@firebase/database",$j="@firebase/database-compat",Bj="@firebase/functions",zj="@firebase/functions-compat",Wj="@firebase/installations",qj="@firebase/installations-compat",Gj="@firebase/messaging",Hj="@firebase/messaging-compat",Kj="@firebase/performance",Yj="@firebase/performance-compat",Qj="@firebase/remote-config",Jj="@firebase/remote-config-compat",Xj="@firebase/storage",Zj="@firebase/storage-compat",e$="@firebase/firestore",t$="@firebase/vertexai-preview",n$="@firebase/firestore-compat",r$="firebase",i$="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]",s$={[Mf]:"fire-core",[Nj]:"fire-core-compat",[Mj]:"fire-analytics",[Oj]:"fire-analytics-compat",[Lj]:"fire-app-check",[Vj]:"fire-app-check-compat",[Fj]:"fire-auth",[Uj]:"fire-auth-compat",[jj]:"fire-rtdb",[$j]:"fire-rtdb-compat",[Bj]:"fire-fn",[zj]:"fire-fn-compat",[Wj]:"fire-iid",[qj]:"fire-iid-compat",[Gj]:"fire-fcm",[Hj]:"fire-fcm-compat",[Kj]:"fire-perf",[Yj]:"fire-perf-compat",[Qj]:"fire-rc",[Jj]:"fire-rc-compat",[Xj]:"fire-gcs",[Zj]:"fire-gcs-compat",[e$]:"fire-fst",[n$]:"fire-fst-compat",[t$]:"fire-vertex","fire-js":"fire-js",[r$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Map,tl=new Map,nl=new Map;function Sc(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gk(t,e){t.container.addOrOverwriteComponent(e)}function _s(t){const e=t.name;if(nl.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;nl.set(e,t);for(const n of ys.values())Sc(n,t);for(const n of tl.values())Sc(n,t);return!0}function Hk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function o$(t,e,n=gs){Hk(t,e).clearInstance(n)}function Kk(t){return t.options!==void 0}function it(t){return t.settings!==void 0}function a$(){nl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kn=new Vo("app","Firebase",l$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yk=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u$ extends Yk{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,dr(Mf,I_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){x0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Kn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=i$;function C0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=Mk()),!n)throw Kn.create("no-options");const s=ys.get(i);if(s){if(Tc(n,s.options)&&Tc(r,s.config))return s;throw Kn.create("duplicate-app",{appName:i})}const o=new Bk(i);for(const l of nl.values())o.addComponent(l);const a=new Yk(n,r,o);return ys.set(i,a),a}function c$(t,e){if(Vk()&&!Lk())throw Kn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;Kk(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Kn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=tl.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new Bk(s);for(const c of nl.values())a.addComponent(c);const l=new u$(n,e,s,a);return tl.set(s,l),l}function d$(t=gs){const e=ys.get(t);if(!e&&t===gs&&Mk())return C0();if(!e)throw Kn.create("no-app",{appName:t});return e}function h$(){return Array.from(ys.values())}async function x0(t){let e=!1;const n=t.name;ys.has(n)?(e=!0,ys.delete(n)):tl.has(n)&&t.decRefCount()<=0&&(tl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function dr(t,e,n){var r;let i=(r=s$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(a.join(" "));return}_s(new Lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Qk(t,e){if(t!==null&&typeof t!="function")throw Kn.create("invalid-log-argument");vj(t,e)}function Jk(t){_j(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="firebase-heartbeat-database",p$=1,Pc="firebase-heartbeat-store";let ey=null;function Xk(){return ey||(ey=kj(f$,p$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),ey}async function m$(t){try{const n=(await Xk()).transaction(Pc),r=await n.objectStore(Pc).get(Zk(t));return await n.done,r}catch(e){if(e instanceof an)vo.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vo.warn(n.message)}}}async function _S(t,e){try{const r=(await Xk()).transaction(Pc,"readwrite");await r.objectStore(Pc).put(e,Zk(t)),await r.done}catch(n){if(n instanceof an)vo.warn(n.message);else{const r=Kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(r.message)}}}function Zk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=1024,y$=30*24*60*60*1e3;class _${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=y$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vS(),{heartbeatsToSend:r,unsentEntries:i}=v$(this._heartbeatsCache.heartbeats),s=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function vS(){return new Date().toISOString().substring(0,10)}function v$(t,e=g$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ec()?sj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wS(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){_s(new Lr("platform-logger",e=>new xj(e),"PRIVATE")),_s(new Lr("heartbeat",e=>new _$(e),"PRIVATE")),dr(Mf,I_,t),dr(Mf,I_,"esm2017"),dr("fire-js","")}I$("");const E$=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:an,SDK_VERSION:Ds,_DEFAULT_ENTRY_NAME:gs,_addComponent:Sc,_addOrOverwriteComponent:Gk,_apps:ys,_clearComponents:a$,_components:nl,_getProvider:Hk,_isFirebaseApp:Kk,_isFirebaseServerApp:it,_registerComponent:_s,_removeServiceInstance:o$,_serverApps:tl,deleteApp:x0,getApp:d$,getApps:h$,initializeApp:C0,initializeServerApp:c$,onLog:Qk,registerVersion:dr,setLogLevel:Jk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n){this._delegate=e,this.firebase=n,Sc(e,new Lr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),x0(this._delegate)))}_getService(e,n=gs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=gs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Sc(this._delegate,e)}_addOrOverwriteComponent(e){Gk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},IS=new Vo("app-compat","Firebase",S$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:dr,setLogLevel:Jk,onLog:Qk,apps:null,SDK_VERSION:Ds,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:E$}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||gs,!fS(e,c))throw IS.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const h=C0(c,d);if(fS(e,h.name))return e[h.name];const p=new t(h,n);return e[h.name]=p,p}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,h=d.replace("-compat","");if(_s(c)&&c.type==="PUBLIC"){const p=(y=i())=>{if(typeof y[h]!="function")throw IS.create("invalid-app-argument",{appName:d});return y[h]()};c.serviceProps!==void 0&&Of(p,c.serviceProps),n[h]=p,t.prototype[h]=function(...y){return this._getService.bind(this,d).apply(this,c.multipleInstances?y:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){const t=P$(T$);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:eb,extendNamespace:e,createSubscribe:$k,ErrorFactory:Vo,deepExtend:Of});function e(n){Of(t,n)}return t}const R$=eb();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new im("@firebase/app-compat"),A$="@firebase/app-compat",k$="0.2.36";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){dr(A$,k$,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Vk()&&self.firebase!==void 0){ES.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ES.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Lo=R$;b$();var C$="firebase",x$="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo.registerVersion(C$,x$,"app-compat");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,tb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,_){function P(){}P.prototype=_.prototype,E.D=_.prototype,E.prototype=new P,E.prototype.constructor=E,E.C=function(R,b,x){for(var A=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)A[Mt-2]=arguments[Mt];return _.prototype[b].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,_,P){P||(P=0);var R=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)R[b]=_.charCodeAt(P++)|_.charCodeAt(P++)<<8|_.charCodeAt(P++)<<16|_.charCodeAt(P++)<<24;else for(b=0;16>b;++b)R[b]=_[P++]|_[P++]<<8|_[P++]<<16|_[P++]<<24;_=E.g[0],P=E.g[1],b=E.g[2];var x=E.g[3],A=_+(x^P&(b^x))+R[0]+3614090360&4294967295;_=P+(A<<7&4294967295|A>>>25),A=x+(b^_&(P^b))+R[1]+3905402710&4294967295,x=_+(A<<12&4294967295|A>>>20),A=b+(P^x&(_^P))+R[2]+606105819&4294967295,b=x+(A<<17&4294967295|A>>>15),A=P+(_^b&(x^_))+R[3]+3250441966&4294967295,P=b+(A<<22&4294967295|A>>>10),A=_+(x^P&(b^x))+R[4]+4118548399&4294967295,_=P+(A<<7&4294967295|A>>>25),A=x+(b^_&(P^b))+R[5]+1200080426&4294967295,x=_+(A<<12&4294967295|A>>>20),A=b+(P^x&(_^P))+R[6]+2821735955&4294967295,b=x+(A<<17&4294967295|A>>>15),A=P+(_^b&(x^_))+R[7]+4249261313&4294967295,P=b+(A<<22&4294967295|A>>>10),A=_+(x^P&(b^x))+R[8]+1770035416&4294967295,_=P+(A<<7&4294967295|A>>>25),A=x+(b^_&(P^b))+R[9]+2336552879&4294967295,x=_+(A<<12&4294967295|A>>>20),A=b+(P^x&(_^P))+R[10]+4294925233&4294967295,b=x+(A<<17&4294967295|A>>>15),A=P+(_^b&(x^_))+R[11]+2304563134&4294967295,P=b+(A<<22&4294967295|A>>>10),A=_+(x^P&(b^x))+R[12]+1804603682&4294967295,_=P+(A<<7&4294967295|A>>>25),A=x+(b^_&(P^b))+R[13]+4254626195&4294967295,x=_+(A<<12&4294967295|A>>>20),A=b+(P^x&(_^P))+R[14]+2792965006&4294967295,b=x+(A<<17&4294967295|A>>>15),A=P+(_^b&(x^_))+R[15]+1236535329&4294967295,P=b+(A<<22&4294967295|A>>>10),A=_+(b^x&(P^b))+R[1]+4129170786&4294967295,_=P+(A<<5&4294967295|A>>>27),A=x+(P^b&(_^P))+R[6]+3225465664&4294967295,x=_+(A<<9&4294967295|A>>>23),A=b+(_^P&(x^_))+R[11]+643717713&4294967295,b=x+(A<<14&4294967295|A>>>18),A=P+(x^_&(b^x))+R[0]+3921069994&4294967295,P=b+(A<<20&4294967295|A>>>12),A=_+(b^x&(P^b))+R[5]+3593408605&4294967295,_=P+(A<<5&4294967295|A>>>27),A=x+(P^b&(_^P))+R[10]+38016083&4294967295,x=_+(A<<9&4294967295|A>>>23),A=b+(_^P&(x^_))+R[15]+3634488961&4294967295,b=x+(A<<14&4294967295|A>>>18),A=P+(x^_&(b^x))+R[4]+3889429448&4294967295,P=b+(A<<20&4294967295|A>>>12),A=_+(b^x&(P^b))+R[9]+568446438&4294967295,_=P+(A<<5&4294967295|A>>>27),A=x+(P^b&(_^P))+R[14]+3275163606&4294967295,x=_+(A<<9&4294967295|A>>>23),A=b+(_^P&(x^_))+R[3]+4107603335&4294967295,b=x+(A<<14&4294967295|A>>>18),A=P+(x^_&(b^x))+R[8]+1163531501&4294967295,P=b+(A<<20&4294967295|A>>>12),A=_+(b^x&(P^b))+R[13]+2850285829&4294967295,_=P+(A<<5&4294967295|A>>>27),A=x+(P^b&(_^P))+R[2]+4243563512&4294967295,x=_+(A<<9&4294967295|A>>>23),A=b+(_^P&(x^_))+R[7]+1735328473&4294967295,b=x+(A<<14&4294967295|A>>>18),A=P+(x^_&(b^x))+R[12]+2368359562&4294967295,P=b+(A<<20&4294967295|A>>>12),A=_+(P^b^x)+R[5]+4294588738&4294967295,_=P+(A<<4&4294967295|A>>>28),A=x+(_^P^b)+R[8]+2272392833&4294967295,x=_+(A<<11&4294967295|A>>>21),A=b+(x^_^P)+R[11]+1839030562&4294967295,b=x+(A<<16&4294967295|A>>>16),A=P+(b^x^_)+R[14]+4259657740&4294967295,P=b+(A<<23&4294967295|A>>>9),A=_+(P^b^x)+R[1]+2763975236&4294967295,_=P+(A<<4&4294967295|A>>>28),A=x+(_^P^b)+R[4]+1272893353&4294967295,x=_+(A<<11&4294967295|A>>>21),A=b+(x^_^P)+R[7]+4139469664&4294967295,b=x+(A<<16&4294967295|A>>>16),A=P+(b^x^_)+R[10]+3200236656&4294967295,P=b+(A<<23&4294967295|A>>>9),A=_+(P^b^x)+R[13]+681279174&4294967295,_=P+(A<<4&4294967295|A>>>28),A=x+(_^P^b)+R[0]+3936430074&4294967295,x=_+(A<<11&4294967295|A>>>21),A=b+(x^_^P)+R[3]+3572445317&4294967295,b=x+(A<<16&4294967295|A>>>16),A=P+(b^x^_)+R[6]+76029189&4294967295,P=b+(A<<23&4294967295|A>>>9),A=_+(P^b^x)+R[9]+3654602809&4294967295,_=P+(A<<4&4294967295|A>>>28),A=x+(_^P^b)+R[12]+3873151461&4294967295,x=_+(A<<11&4294967295|A>>>21),A=b+(x^_^P)+R[15]+530742520&4294967295,b=x+(A<<16&4294967295|A>>>16),A=P+(b^x^_)+R[2]+3299628645&4294967295,P=b+(A<<23&4294967295|A>>>9),A=_+(b^(P|~x))+R[0]+4096336452&4294967295,_=P+(A<<6&4294967295|A>>>26),A=x+(P^(_|~b))+R[7]+1126891415&4294967295,x=_+(A<<10&4294967295|A>>>22),A=b+(_^(x|~P))+R[14]+2878612391&4294967295,b=x+(A<<15&4294967295|A>>>17),A=P+(x^(b|~_))+R[5]+4237533241&4294967295,P=b+(A<<21&4294967295|A>>>11),A=_+(b^(P|~x))+R[12]+1700485571&4294967295,_=P+(A<<6&4294967295|A>>>26),A=x+(P^(_|~b))+R[3]+2399980690&4294967295,x=_+(A<<10&4294967295|A>>>22),A=b+(_^(x|~P))+R[10]+4293915773&4294967295,b=x+(A<<15&4294967295|A>>>17),A=P+(x^(b|~_))+R[1]+2240044497&4294967295,P=b+(A<<21&4294967295|A>>>11),A=_+(b^(P|~x))+R[8]+1873313359&4294967295,_=P+(A<<6&4294967295|A>>>26),A=x+(P^(_|~b))+R[15]+4264355552&4294967295,x=_+(A<<10&4294967295|A>>>22),A=b+(_^(x|~P))+R[6]+2734768916&4294967295,b=x+(A<<15&4294967295|A>>>17),A=P+(x^(b|~_))+R[13]+1309151649&4294967295,P=b+(A<<21&4294967295|A>>>11),A=_+(b^(P|~x))+R[4]+4149444226&4294967295,_=P+(A<<6&4294967295|A>>>26),A=x+(P^(_|~b))+R[11]+3174756917&4294967295,x=_+(A<<10&4294967295|A>>>22),A=b+(_^(x|~P))+R[2]+718787259&4294967295,b=x+(A<<15&4294967295|A>>>17),A=P+(x^(b|~_))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+x&4294967295}r.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var P=_-this.blockSize,R=this.B,b=this.h,x=0;x<_;){if(b==0)for(;x<=P;)i(this,E,x),x+=this.blockSize;if(typeof E=="string"){for(;x<_;)if(R[b++]=E.charCodeAt(x++),b==this.blockSize){i(this,R),b=0;break}}else for(;x<_;)if(R[b++]=E[x++],b==this.blockSize){i(this,R),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var P=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=P&255,P/=256;for(this.u(E),E=Array(16),_=P=0;4>_;++_)for(var R=0;32>R;R+=8)E[P++]=this.g[_]>>>R&255;return E};function s(E,_){var P=a;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=_(E)}function o(E,_){this.h=_;for(var P=[],R=!0,b=E.length-1;0<=b;b--){var x=E[b]|0;R&&x==_||(P[b]=x,R=!1)}this.g=P}var a={};function l(E){return-128<=E&&128>E?s(E,function(_){return new o([_|0],0>_?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return k(c(-E));for(var _=[],P=1,R=0;E>=P;R++)_[R]=E/P|0,P*=4294967296;return new o(_,0)}function d(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return k(d(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(_,8)),R=h,b=0;b<E.length;b+=8){var x=Math.min(8,E.length-b),A=parseInt(E.substring(b,b+x),_);8>x?(x=c(Math.pow(_,x)),R=R.j(x).add(c(A))):(R=R.j(P),R=R.add(c(A)))}return R}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-k(this).m();for(var E=0,_=1,P=0;P<this.g.length;P++){var R=this.i(P);E+=(0<=R?R:4294967296+R)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(w(this))return"-"+k(this).toString(E);for(var _=c(Math.pow(E,6)),P=this,R="";;){var b=O(P,_).g;P=I(P,b.j(_));var x=((0<P.g.length?P.g[0]:P.h)>>>0).toString(E);if(P=b,T(P))return x+R;for(;6>x.length;)x="0"+x;R=x+R}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=I(this,E),w(E)?-1:T(E)?0:1};function k(E){for(var _=E.g.length,P=[],R=0;R<_;R++)P[R]=~E.g[R];return new o(P,~E.h).add(p)}t.abs=function(){return w(this)?k(this):this},t.add=function(E){for(var _=Math.max(this.g.length,E.g.length),P=[],R=0,b=0;b<=_;b++){var x=R+(this.i(b)&65535)+(E.i(b)&65535),A=(x>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);R=A>>>16,x&=65535,A&=65535,P[b]=A<<16|x}return new o(P,P[P.length-1]&-2147483648?-1:0)};function I(E,_){return E.add(k(_))}t.j=function(E){if(T(this)||T(E))return h;if(w(this))return w(E)?k(this).j(k(E)):k(k(this).j(E));if(w(E))return k(this.j(k(E)));if(0>this.l(y)&&0>E.l(y))return c(this.m()*E.m());for(var _=this.g.length+E.g.length,P=[],R=0;R<2*_;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<E.g.length;b++){var x=this.i(R)>>>16,A=this.i(R)&65535,Mt=E.i(b)>>>16,Wr=E.i(b)&65535;P[2*R+2*b]+=A*Wr,v(P,2*R+2*b),P[2*R+2*b+1]+=x*Wr,v(P,2*R+2*b+1),P[2*R+2*b+1]+=A*Mt,v(P,2*R+2*b+1),P[2*R+2*b+2]+=x*Mt,v(P,2*R+2*b+2)}for(R=0;R<_;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=_;R<2*_;R++)P[R]=0;return new o(P,0)};function v(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function S(E,_){this.g=E,this.h=_}function O(E,_){if(T(_))throw Error("division by zero");if(T(E))return new S(h,h);if(w(E))return _=O(k(E),_),new S(k(_.g),k(_.h));if(w(_))return _=O(E,k(_)),new S(k(_.g),_.h);if(30<E.g.length){if(w(E)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var P=p,R=_;0>=R.l(E);)P=M(P),R=M(R);var b=F(P,1),x=F(R,1);for(R=F(R,2),P=F(P,2);!T(R);){var A=x.add(R);0>=A.l(E)&&(b=b.add(P),x=A),R=F(R,1),P=F(P,1)}return _=I(E,b.j(_)),new S(b,_)}for(b=h;0<=E.l(_);){for(P=Math.max(1,Math.floor(E.m()/_.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),x=c(P),A=x.j(_);w(A)||0<A.l(E);)P-=R,x=c(P),A=x.j(_);T(x)&&(x=p),b=b.add(x),E=I(E,A)}return new S(b,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var _=Math.max(this.g.length,E.g.length),P=[],R=0;R<_;R++)P[R]=this.i(R)&E.i(R);return new o(P,this.h&E.h)},t.or=function(E){for(var _=Math.max(this.g.length,E.g.length),P=[],R=0;R<_;R++)P[R]=this.i(R)|E.i(R);return new o(P,this.h|E.h)},t.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),P=[],R=0;R<_;R++)P[R]=this.i(R)^E.i(R);return new o(P,this.h^E.h)};function M(E){for(var _=E.g.length+1,P=[],R=0;R<_;R++)P[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(P,E.h)}function F(E,_){var P=_>>5;_%=32;for(var R=E.g.length-P,b=[],x=0;x<R;x++)b[x]=0<_?E.i(x+P)>>>_|E.i(x+P+1)<<32-_:E.i(x+P);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,uo=o}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,rb,Ru,ib,Fh,E_,sb,ob,ab;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var g=0;g<u.length-1;g++){var D=u[g];if(!(D in m))break e;m=m[D]}u=u[u.length-1],g=m[u],f=f(g),f!=g&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,g=!1,D={next:function(){if(!g&&m<u.length){var L=m++;return{value:f(L,u[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function y(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var g=m.slice();return g.push.apply(g,arguments),u.apply(this,g)}}function T(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(g,D,L){for(var q=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)q[xe-2]=arguments[xe];return f.prototype[D].apply(g,q)}}function w(u){const f=u.length;if(0<f){const m=Array(f);for(let g=0;g<f;g++)m[g]=u[g];return m}return[]}function k(u,f){for(let m=1;m<arguments.length;m++){const g=arguments[m];if(l(g)){const D=u.length||0,L=g.length||0;u.length=D+L;for(let q=0;q<L;q++)u[D+q]=g[q]}else u.push(g)}}class I{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function F(u,f,m){for(const g in u)f.call(m,u[g],g,u)}function E(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function _(u){const f={};for(const m in u)f[m]=u[m];return f}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let m,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(m in g)u[m]=g[m];for(let L=0;L<P.length;L++)m=P[L],Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])}}function b(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function x(u){a.setTimeout(()=>{throw u},0)}function A(){var u=re;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Mt{constructor(){this.h=this.g=null}add(f,m){const g=Wr.get();g.set(f,m),this.h?this.h.next=g:this.g=g,this.h=g}}var Wr=new I(()=>new Fs,u=>u.reset());class Fs{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let qr,Y=!1,re=new Mt,oe=()=>{const u=a.Promise.resolve(void 0);qr=()=>{u.then(Ke)}};var Ke=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(m){x(m)}var f=Wr;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Y=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var Gr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Hr(u,f){if(ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,g=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(M){e:{try{O(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Kr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Hr.aa.h.call(this)}}T(Hr,ut);var Kr={2:"touch",3:"pen",4:"mouse"};Hr.prototype.h=function(){Hr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),wN=0;function IN(u,f,m,g,D){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!g,this.ha=D,this.key=++wN,this.da=this.fa=!1}function kd(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bd(u){this.src=u,this.g={},this.h=0}bd.prototype.add=function(u,f,m,g,D){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var q=Ym(u,f,g,D);return-1<q?(f=u[q],m||(f.fa=!1)):(f=new IN(f,this.src,L,!!g,D),f.fa=m,u.push(f)),f};function Km(u,f){var m=f.type;if(m in u.g){var g=u.g[m],D=Array.prototype.indexOf.call(g,f,void 0),L;(L=0<=D)&&Array.prototype.splice.call(g,D,1),L&&(kd(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ym(u,f,m,g){for(var D=0;D<u.length;++D){var L=u[D];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==g)return D}return-1}var Qm="closure_lm_"+(1e6*Math.random()|0),Jm={};function SI(u,f,m,g,D){if(Array.isArray(f)){for(var L=0;L<f.length;L++)SI(u,f[L],m,g,D);return null}return m=AI(m),u&&u[Yr]?u.K(f,m,c(g)?!!g.capture:!!g,D):EN(u,f,m,!1,g,D)}function EN(u,f,m,g,D,L){if(!f)throw Error("Invalid event type");var q=c(D)?!!D.capture:!!D,xe=Zm(u);if(xe||(u[Qm]=xe=new bd(u)),m=xe.add(f,m,g,q,L),m.proxy)return m;if(g=TN(),m.proxy=g,g.src=u,g.listener=m,u.addEventListener)Gr||(D=q),D===void 0&&(D=!1),u.addEventListener(f.toString(),g,D);else if(u.attachEvent)u.attachEvent(RI(f.toString()),g);else if(u.addListener&&u.removeListener)u.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return m}function TN(){function u(m){return f.call(u.src,u.listener,m)}const f=SN;return u}function PI(u,f,m,g,D){if(Array.isArray(f))for(var L=0;L<f.length;L++)PI(u,f[L],m,g,D);else g=c(g)?!!g.capture:!!g,m=AI(m),u&&u[Yr]?(u=u.i,f=String(f).toString(),f in u.g&&(L=u.g[f],m=Ym(L,m,g,D),-1<m&&(kd(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete u.g[f],u.h--)))):u&&(u=Zm(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ym(f,m,g,D)),(m=-1<u?f[u]:null)&&Xm(m))}function Xm(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Yr])Km(f.i,u);else{var m=u.type,g=u.proxy;f.removeEventListener?f.removeEventListener(m,g,u.capture):f.detachEvent?f.detachEvent(RI(m),g):f.addListener&&f.removeListener&&f.removeListener(g),(m=Zm(f))?(Km(m,u),m.h==0&&(m.src=null,f[Qm]=null)):kd(u)}}}function RI(u){return u in Jm?Jm[u]:Jm[u]="on"+u}function SN(u,f){if(u.da)u=!0;else{f=new Hr(f,this);var m=u.listener,g=u.ha||u.src;u.fa&&Xm(u),u=m.call(g,f)}return u}function Zm(u){return u=u[Qm],u instanceof bd?u:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function AI(u){return typeof u=="function"?u:(u[eg]||(u[eg]=function(f){return u.handleEvent(f)}),u[eg])}function Wt(){Ce.call(this),this.i=new bd(this),this.M=this,this.F=null}T(Wt,Ce),Wt.prototype[Yr]=!0,Wt.prototype.removeEventListener=function(u,f,m,g){PI(this,u,f,m,g)};function en(u,f){var m,g=u.F;if(g)for(m=[];g;g=g.F)m.push(g);if(u=u.M,g=f.type||f,typeof f=="string")f=new ut(f,u);else if(f instanceof ut)f.target=f.target||u;else{var D=f;f=new ut(g,u),R(f,D)}if(D=!0,m)for(var L=m.length-1;0<=L;L--){var q=f.g=m[L];D=Cd(q,g,!0,f)&&D}if(q=f.g=u,D=Cd(q,g,!0,f)&&D,D=Cd(q,g,!1,f)&&D,m)for(L=0;L<m.length;L++)q=f.g=m[L],D=Cd(q,g,!1,f)&&D}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],g=0;g<m.length;g++)kd(m[g]);delete u.g[f],u.h--}}this.F=null},Wt.prototype.K=function(u,f,m,g){return this.i.add(String(u),f,!1,m,g)},Wt.prototype.L=function(u,f,m,g){return this.i.add(String(u),f,!0,m,g)};function Cd(u,f,m,g){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,L=0;L<f.length;++L){var q=f[L];if(q&&!q.da&&q.capture==m){var xe=q.listener,Vt=q.ha||q.src;q.fa&&Km(u.i,q),D=xe.call(Vt,g)!==!1&&D}}return D&&!g.defaultPrevented}function kI(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function bI(u){u.g=kI(()=>{u.g=null,u.i&&(u.i=!1,bI(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class PN extends Ce{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:bI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(u){Ce.call(this),this.h=u,this.g={}}T($l,Ce);var CI=[];function xI(u){F(u.g,function(f,m){this.g.hasOwnProperty(m)&&Xm(f)},u),u.g={}}$l.prototype.N=function(){$l.aa.N.call(this),xI(this)},$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tg=a.JSON.stringify,RN=a.JSON.parse,AN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ng(){}ng.prototype.h=null;function DI(u){return u.h||(u.h=u.i())}function NI(){}var Bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rg(){ut.call(this,"d")}T(rg,ut);function ig(){ut.call(this,"c")}T(ig,ut);var Us={},OI=null;function xd(){return OI=OI||new Wt}Us.La="serverreachability";function MI(u){ut.call(this,Us.La,u)}T(MI,ut);function zl(u){const f=xd();en(f,new MI(f))}Us.STAT_EVENT="statevent";function VI(u,f){ut.call(this,Us.STAT_EVENT,u),this.stat=f}T(VI,ut);function tn(u){const f=xd();en(f,new VI(f,u))}Us.Ma="timingevent";function LI(u,f){ut.call(this,Us.Ma,u),this.size=f}T(LI,ut);function Wl(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ql(){this.g=!0}ql.prototype.xa=function(){this.g=!1};function kN(u,f,m,g,D,L){u.info(function(){if(u.g)if(L)for(var q="",xe=L.split("&"),Vt=0;Vt<xe.length;Vt++){var _e=xe[Vt].split("=");if(1<_e.length){var qt=_e[0];_e=_e[1];var Gt=qt.split("_");q=2<=Gt.length&&Gt[1]=="type"?q+(qt+"="+_e+"&"):q+(qt+"=redacted&")}}else q=null;else q=L;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+f+`
`+m+`
`+q})}function bN(u,f,m,g,D,L,q){u.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+f+`
`+m+`
`+L+" "+q})}function qo(u,f,m,g){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+xN(u,m)+(g?" "+g:"")})}function CN(u,f){u.info(function(){return"TIMEOUT: "+f})}ql.prototype.info=function(){};function xN(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var g=m[u];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var q=1;q<D.length;q++)D[q]=""}}}}return tg(m)}catch{return f}}var Dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},FI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sg;function Nd(){}T(Nd,ng),Nd.prototype.g=function(){return new XMLHttpRequest},Nd.prototype.i=function(){return{}},sg=new Nd;function Di(u,f,m,g){this.j=u,this.i=f,this.l=m,this.R=g||1,this.U=new $l(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}var jI={},og={};function ag(u,f,m){u.L=1,u.v=Ld(Qr(f)),u.m=m,u.P=!0,$I(u,null)}function $I(u,f){u.F=Date.now(),Od(u),u.A=Qr(u.v);var m=u.A,g=u.R;Array.isArray(g)||(g=[String(g)]),tE(m.i,"t",g),u.C=0,m=u.j.J,u.h=new UI,u.g=vE(u.j,m?f:null,!u.m),0<u.O&&(u.M=new PN(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,g=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(CI[0]=D.toString()),D=CI);for(var L=0;L<D.length;L++){var q=SI(m,D[L],g||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),zl(),kN(u.i,u.u,u.A,u.l,u.R,u.m)}Di.prototype.ca=function(u){u=u.target;const f=this.M;f&&Jr(u)==3?f.j():this.Y(u)},Di.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=Jr(this.g);var f=this.g.Ba();const Ko=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||lE(this.g)))){this.J||Gt!=4||f==7||(f==8||0>=Ko?zl(3):zl(2)),lg(this);var m=this.g.Z();this.X=m;t:if(BI(this)){var g=lE(this.g);u="";var D=g.length,L=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Gl(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,u+=this.h.i.decode(g[f],{stream:!(L&&f==D-1)});g.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,bN(this.i,this.u,this.A,this.l,this.R,Gt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Vt=this.g;if((xe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(xe)){var _e=xe;break t}}_e=null}if(m=_e)qo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,m);else{this.o=!1,this.s=3,tn(12),js(this),Gl(this);break e}}if(this.P){m=!0;let rr;for(;!this.J&&this.C<q.length;)if(rr=DN(this,q),rr==og){Gt==4&&(this.s=4,tn(14),m=!1),qo(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==jI){this.s=4,tn(15),qo(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else qo(this.i,this.l,rr,null),ug(this,rr);if(BI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||q.length!=0||this.h.h||(this.s=1,tn(16),m=!1),this.o=this.o&&m,!m)qo(this.i,this.l,q,"[Invalid Chunked Response]"),js(this),Gl(this);else if(0<q.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),mg(qt),qt.M=!0,tn(11))}}else qo(this.i,this.l,q,null),ug(this,q);Gt==4&&js(this),this.o&&!this.J&&(Gt==4?mE(this.j,this):(this.o=!1,Od(this)))}else YN(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),js(this),Gl(this)}}}catch{}finally{}};function BI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function DN(u,f){var m=u.C,g=f.indexOf(`
`,m);return g==-1?og:(m=Number(f.substring(m,g)),isNaN(m)?jI:(g+=1,g+m>f.length?og:(f=f.slice(g,g+m),u.C=g+m,f)))}Di.prototype.cancel=function(){this.J=!0,js(this)};function Od(u){u.S=Date.now()+u.I,zI(u,u.I)}function zI(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Wl(p(u.ba,u),f)}function lg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Di.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(CN(this.i,this.A),this.L!=2&&(zl(),tn(17)),js(this),this.s=2,Gl(this)):zI(this,this.S-u)};function Gl(u){u.j.G==0||u.J||mE(u.j,u)}function js(u){lg(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,xI(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function ug(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||cg(m.h,u))){if(!u.K&&cg(m.h,u)&&m.G==3){try{var g=m.Da.g.parse(f)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Bd(m),jd(m);else break e;pg(m),tn(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=Wl(p(m.Za,m),6e3));if(1>=GI(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Bs(m,11)}else if((u.K||m.g==u)&&Bd(m),!v(f))for(D=m.Da.g.parse(f),f=0;f<D.length;f++){let _e=D[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];const qt=_e[3];qt!=null&&(m.la=qt,m.j.info("VER="+m.la));const Gt=_e[4];Gt!=null&&(m.Aa=Gt,m.j.info("SVER="+m.Aa));const Ko=_e[5];Ko!=null&&typeof Ko=="number"&&0<Ko&&(g=1.5*Ko,m.L=g,m.j.info("backChannelRequestTimeoutMs_="+g)),g=m;const rr=u.g;if(rr){const Wd=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wd){var L=g.h;L.g||Wd.indexOf("spdy")==-1&&Wd.indexOf("quic")==-1&&Wd.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(dg(L,L.h),L.h=null))}if(g.D){const gg=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;gg&&(g.ya=gg,Oe(g.I,g.D,gg))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),g=m;var q=u;if(g.qa=_E(g,g.J?g.ia:null,g.W),q.K){HI(g.h,q);var xe=q,Vt=g.L;Vt&&(xe.I=Vt),xe.B&&(lg(xe),Od(xe)),g.g=q}else fE(g);0<m.i.length&&$d(m)}else _e[0]!="stop"&&_e[0]!="close"||Bs(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Bs(m,7):fg(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}zl(4)}catch{}}var NN=class{constructor(u,f){this.g=u,this.map=f}};function WI(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function GI(u){return u.h?1:u.g?u.g.size:0}function cg(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function dg(u,f){u.g?u.g.add(f):u.h=f}function HI(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}WI.prototype.cancel=function(){if(this.i=KI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function KI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return w(u.i)}function ON(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,g=0;g<m;g++)f.push(u[g]);return f}f=[],m=0;for(g in u)f[m++]=u[g];return f}function MN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const g in u)f[m++]=g;return f}}}function YI(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=MN(u),g=ON(u),D=g.length,L=0;L<D;L++)f.call(void 0,g[L],m&&m[L],u)}var QI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VN(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var g=u[m].indexOf("="),D=null;if(0<=g){var L=u[m].substring(0,g);D=u[m].substring(g+1)}else L=u[m];f(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function $s(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $s){this.h=u.h,Md(this,u.j),this.o=u.o,this.g=u.g,Vd(this,u.s),this.l=u.l;var f=u.i,m=new Yl;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),JI(this,m),this.m=u.m}else u&&(f=String(u).match(QI))?(this.h=!1,Md(this,f[1]||"",!0),this.o=Hl(f[2]||""),this.g=Hl(f[3]||"",!0),Vd(this,f[4]),this.l=Hl(f[5]||"",!0),JI(this,f[6]||"",!0),this.m=Hl(f[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}$s.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Kl(f,XI,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Kl(f,XI,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Kl(m,m.charAt(0)=="/"?UN:FN,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Kl(m,$N)),u.join("")};function Qr(u){return new $s(u)}function Md(u,f,m){u.j=m?Hl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Vd(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function JI(u,f,m){f instanceof Yl?(u.i=f,BN(u.i,u.h)):(m||(f=Kl(f,jN)),u.i=new Yl(f,u.h))}function Oe(u,f,m){u.i.set(f,m)}function Ld(u){return Oe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Hl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kl(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,LN),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function LN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var XI=/[#\/\?@]/g,FN=/[#\?:]/g,UN=/[#\?]/g,jN=/[#\?@]/g,$N=/#/g;function Yl(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Ni(u){u.g||(u.g=new Map,u.h=0,u.i&&VN(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Yl.prototype,t.add=function(u,f){Ni(this),this.i=null,u=Go(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function ZI(u,f){Ni(u),f=Go(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function eE(u,f){return Ni(u),f=Go(u,f),u.g.has(f)}t.forEach=function(u,f){Ni(this),this.g.forEach(function(m,g){m.forEach(function(D){u.call(f,D,g,this)},this)},this)},t.na=function(){Ni(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let g=0;g<f.length;g++){const D=u[g];for(let L=0;L<D.length;L++)m.push(f[g])}return m},t.V=function(u){Ni(this);let f=[];if(typeof u=="string")eE(this,u)&&(f=f.concat(this.g.get(Go(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Ni(this),this.i=null,u=Go(this,u),eE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function tE(u,f,m){ZI(u,f),0<m.length&&(u.i=null,u.g.set(Go(u,f),w(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var g=f[m];const L=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var D=L;q[g]!==""&&(D+="="+encodeURIComponent(String(q[g]))),u.push(D)}}return this.i=u.join("&")};function Go(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function BN(u,f){f&&!u.j&&(Ni(u),u.i=null,u.g.forEach(function(m,g){var D=g.toLowerCase();g!=D&&(ZI(this,g),tE(this,D,m))},u)),u.j=f}function zN(u,f){const m=new ql;if(a.Image){const g=new Image;g.onload=y(Oi,m,"TestLoadImage: loaded",!0,f,g),g.onerror=y(Oi,m,"TestLoadImage: error",!1,f,g),g.onabort=y(Oi,m,"TestLoadImage: abort",!1,f,g),g.ontimeout=y(Oi,m,"TestLoadImage: timeout",!1,f,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=u}else f(!1)}function WN(u,f){const m=new ql,g=new AbortController,D=setTimeout(()=>{g.abort(),Oi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:g.signal}).then(L=>{clearTimeout(D),L.ok?Oi(m,"TestPingServer: ok",!0,f):Oi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),Oi(m,"TestPingServer: error",!1,f)})}function Oi(u,f,m,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(m)}catch{}}function qN(){this.g=new AN}function GN(u,f,m){const g=m||"";try{YI(u,function(D,L){let q=D;c(D)&&(q=tg(D)),f.push(g+L+"="+encodeURIComponent(q))})}catch(D){throw f.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ql(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Ql,ng),Ql.prototype.g=function(){return new Fd(this.l,this.j)},Ql.prototype.i=function(u){return function(){return u}}({});function Fd(u,f){Wt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Fd,Wt),t=Fd.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Xl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Jl(this):Xl(this),this.readyState==3&&nE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Jl(this))},t.Qa=function(u){this.g&&(this.response=u,Jl(this))},t.ga=function(){this.g&&Jl(this)};function Jl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xl(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Xl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rE(u){let f="";return F(u,function(m,g){f+=g,f+=":",f+=m,f+=`\r
`}),f}function hg(u,f,m){e:{for(g in m){var g=!1;break e}g=!0}g||(m=rE(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Oe(u,f,m))}function Ze(u){Wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ze,Wt);var HN=/^https?$/i,KN=["POST","PUT"];t=Ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sg.g(),this.v=this.o?DI(this.o):DI(sg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(L){iE(this,L);return}if(u=m||"",m=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)m.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())m.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KN,f,void 0))||g||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of m)this.g.setRequestHeader(L,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aE(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){iE(this,L)}};function iE(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,sE(u),Ud(u)}function sE(u){u.A||(u.A=!0,en(u,"complete"),en(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,en(this,"complete"),en(this,"abort"),Ud(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ud(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oE(this):this.bb())},t.bb=function(){oE(this)};function oE(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Jr(u)!=4||u.Z()!=2)){if(u.u&&Jr(u)==4)kI(u.Ea,0,u);else if(en(u,"readystatechange"),Jr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var g;if(g=q===0){var D=String(u.D).match(QI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!HN.test(D?D.toLowerCase():"")}m=g}if(m)en(u,"complete"),en(u,"success");else{u.m=6;try{var L=2<Jr(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",sE(u)}}finally{Ud(u)}}}}function Ud(u,f){if(u.g){aE(u);const m=u.g,g=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||en(u,"ready");try{m.onreadystatechange=g}catch{}}}function aE(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Jr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),RN(f)}};function lE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function YN(u){const f={};u=(u.g&&2<=Jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<u.length;g++){if(v(u[g]))continue;var m=b(u[g]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[D]||[];f[D]=L,L.push(m)}E(f,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zl(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function uE(u){this.Aa=0,this.i=[],this.j=new ql,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zl("baseRetryDelayMs",5e3,u),this.cb=Zl("retryDelaySeedMs",1e4,u),this.Wa=Zl("forwardChannelMaxRetries",2,u),this.wa=Zl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new WI(u&&u.concurrentRequestLimit),this.Da=new qN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uE.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,g){tn(0),this.W=u,this.H=f||{},m&&g!==void 0&&(this.H.OSID=m,this.H.OAID=g),this.F=this.X,this.I=_E(this,null,this.W),$d(this)};function fg(u){if(cE(u),u.G==3){var f=u.U++,m=Qr(u.I);if(Oe(m,"SID",u.K),Oe(m,"RID",f),Oe(m,"TYPE","terminate"),eu(u,m),f=new Di(u,u.j,f),f.L=2,f.v=Ld(Qr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=vE(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Od(f)}yE(u)}function jd(u){u.g&&(mg(u),u.g.cancel(),u.g=null)}function cE(u){jd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Bd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function $d(u){if(!qI(u.h)&&!u.s){u.s=!0;var f=u.Ga;qr||oe(),Y||(qr(),Y=!0),re.add(f,u),u.B=0}}function QN(u,f){return GI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Wl(p(u.Ga,u,f),gE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new Di(this,this.j,u);let L=this.o;if(this.S&&(L?(L=_(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var g=this.i[m];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(f+=g,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=hE(this,D,f),m=Qr(this.I),Oe(m,"RID",u),Oe(m,"CVER",22),this.D&&Oe(m,"X-HTTP-Session-Id",this.D),eu(this,m),L&&(this.O?f="headers="+encodeURIComponent(String(rE(L)))+"&"+f:this.m&&hg(m,this.m,L)),dg(this.h,D),this.Ua&&Oe(m,"TYPE","init"),this.P?(Oe(m,"$req",f),Oe(m,"SID","null"),D.T=!0,ag(D,m,null)):ag(D,m,f),this.G=2}}else this.G==3&&(u?dE(this,u):this.i.length==0||qI(this.h)||dE(this))};function dE(u,f){var m;f?m=f.l:m=u.U++;const g=Qr(u.I);Oe(g,"SID",u.K),Oe(g,"RID",m),Oe(g,"AID",u.T),eu(u,g),u.m&&u.o&&hg(g,u.m,u.o),m=new Di(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=hE(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),dg(u.h,m),ag(m,g,f)}function eu(u,f){u.H&&F(u.H,function(m,g){Oe(f,g,m)}),u.l&&YI({},function(m,g){Oe(f,g,m)})}function hE(u,f,m){m=Math.min(u.i.length,m);var g=u.l?p(u.l.Na,u.l,u):null;e:{var D=u.i;let L=-1;for(;;){const q=["count="+m];L==-1?0<m?(L=D[0].g,q.push("ofs="+L)):L=0:q.push("ofs="+L);let xe=!0;for(let Vt=0;Vt<m;Vt++){let _e=D[Vt].g;const qt=D[Vt].map;if(_e-=L,0>_e)L=Math.max(0,D[Vt].g-100),xe=!1;else try{GN(qt,q,"req"+_e+"_")}catch{g&&g(qt)}}if(xe){g=q.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,g}function fE(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;qr||oe(),Y||(qr(),Y=!0),re.add(f,u),u.v=0}}function pg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Wl(p(u.Fa,u),gE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,pE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Wl(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),jd(this),pE(this))};function mg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function pE(u){u.g=new Di(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Qr(u.qa);Oe(f,"RID","rpc"),Oe(f,"SID",u.K),Oe(f,"AID",u.T),Oe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Oe(f,"TO",u.ja),Oe(f,"TYPE","xmlhttp"),eu(u,f),u.m&&u.o&&hg(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Ld(Qr(f)),m.m=null,m.P=!0,$I(m,u)}t.Za=function(){this.C!=null&&(this.C=null,jd(this),pg(this),tn(19))};function Bd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function mE(u,f){var m=null;if(u.g==f){Bd(u),mg(u),u.g=null;var g=2}else if(cg(u.h,f))m=f.D,HI(u.h,f),g=1;else return;if(u.G!=0){if(f.o)if(g==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var D=u.B;g=xd(),en(g,new LI(g,m)),$d(u)}else fE(u);else if(D=f.s,D==3||D==0&&0<f.X||!(g==1&&QN(u,f)||g==2&&pg(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),D){case 1:Bs(u,5);break;case 4:Bs(u,10);break;case 3:Bs(u,6);break;default:Bs(u,2)}}}function gE(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Bs(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),g=u.Xa;const D=!g;g=new $s(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Md(g,"https"),Ld(g),D?zN(g.toString(),m):WN(g.toString(),m)}else tn(2);u.G=0,u.l&&u.l.sa(f),yE(u),cE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function yE(u){if(u.G=0,u.ka=[],u.l){const f=KI(u.h);(f.length!=0||u.i.length!=0)&&(k(u.ka,f),k(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function _E(u,f,m){var g=m instanceof $s?Qr(m):new $s(m);if(g.g!="")f&&(g.g=f+"."+g.g),Vd(g,g.s);else{var D=a.location;g=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var L=new $s(null);g&&Md(L,g),f&&(L.g=f),D&&Vd(L,D),m&&(L.l=m),g=L}return m=u.D,f=u.ya,m&&f&&Oe(g,m,f),Oe(g,"VER",u.la),eu(u,g),g}function vE(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Ze(new Ql({eb:m})):new Ze(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wE(){}t=wE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zd(){}zd.prototype.g=function(u,f){return new Pn(u,f)};function Pn(u,f){Wt.call(this),this.g=new uE(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!v(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ho(this)}T(Pn,Wt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){fg(this.g)},Pn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=tg(u),u=m);f.i.push(new NN(f.Ya++,u)),f.G==3&&$d(f)},Pn.prototype.N=function(){this.g.l=null,delete this.j,fg(this.g),delete this.g,Pn.aa.N.call(this)};function IE(u){rg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}T(IE,rg);function EE(){ig.call(this),this.status=1}T(EE,ig);function Ho(u){this.g=u}T(Ho,wE),Ho.prototype.ua=function(){en(this.g,"a")},Ho.prototype.ta=function(u){en(this.g,new IE(u))},Ho.prototype.sa=function(u){en(this.g,new EE)},Ho.prototype.ra=function(){en(this.g,"b")},zd.prototype.createWebChannel=zd.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,ab=function(){return new zd},ob=function(){return xd()},sb=Us,E_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,Fh=Dd,FI.COMPLETE="complete",ib=FI,NI.EventType=Bl,Bl.OPEN="a",Bl.CLOSE="b",Bl.ERROR="c",Bl.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Ru=NI,rb=Ql,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,nb=Ze}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const SS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new im("@firebase/firestore");function ua(){return vs.logLevel}function D$(t){vs.setLogLevel(t)}function j(t,...e){if(vs.logLevel<=le.DEBUG){const n=e.map(D0);vs.debug(`Firestore (${Rl}): ${t}`,...n)}}function ht(t,...e){if(vs.logLevel<=le.ERROR){const n=e.map(D0);vs.error(`Firestore (${Rl}): ${t}`,...n)}}function fr(t,...e){if(vs.logLevel<=le.WARN){const n=e.map(D0);vs.warn(`Firestore (${Rl}): ${t}`,...n)}}function D0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function Z(t,e){t||Q()}function N$(t,e){t||Q()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class M${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V${constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ct,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ct)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new lb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new kt(e)}}class L${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class F${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new L$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new U$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function cb(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ge(0,0))}static max(){return new ee(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Rc{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const B$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Rc{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return B$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new U(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ce.fromString(e))}static fromName(e){return new G(ce.fromString(e).popFirst(5))}static empty(){return new G(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function T_(t){return t.fields.find(e=>e.kind===2)}function Ks(t){return t.fields.filter(e=>e.kind!==2)}Vf.UNKNOWN_ID=-1;class Uh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ac{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ac(0,On.min())}}function db(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new On(i,G.empty(),e)}function hb(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(ee.min(),G.empty(),-1)}static max(){return new On(ee.max(),G.empty(),-1)}}function N0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==fb)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ct,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=O0(r.target.error);this.V.reject(new Bu(e,i))}}static open(e,n,r,i){try{return new sm(n,e.transaction(i,r))}catch(s){throw new Bu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new W$(n)}}class Mr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Mr.S(He())===12.2&&ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),Ys(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ec())return!1;if(Mr.C())return!0;const e=He(),n=Mr.S(e),r=0<n&&n<10,i=mb(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Bu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new U(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bu(e,o))},i.onupgradeneeded=s=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=sm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function mb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class z${constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ys(this.B.delete())}}class Bu extends U{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Os(t){return t.name==="IndexedDbTransactionError"}class W${constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ys(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),Ys(this.store.add(e))}get(e){return Ys(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),Ys(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),Ys(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{const o=O0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new z$(a),c=n(a.primaryKey,a.value,l);if(c instanceof N){const d=c.catch(h=>(l.done(),N.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ys(t){return new N((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=O0(r.target.error);n(i)}})}let PS=!1;function O0(t){const e=Mr.S(He());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PS||(PS=!0,setTimeout(()=>{throw r},0)),r}}return t}class q${constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){j("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{j("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Os(n)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ns(n)}await this.X(6e4)})}}class G${constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return N.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return j("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=hb(s);N0(o,r)>0&&(r=o)}),new On(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_n.oe=-1;function sd(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function gb(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RS(e)),e=H$(t.get(n),e);return RS(e)}function H$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function RS(t){return t+""}function kr(t){const e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),ce.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new ce(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e){return[t,ln(e)]}function yb(t,e,n){return[t,ln(e),n]}const K$={},Y$=["prefixPath","collectionGroup","readTime","documentId"],Q$=["prefixPath","collectionGroup","documentId"],J$=["collectionGroup","readTime","prefixPath","documentId"],X$=["canonicalId","targetId"],Z$=["targetId","path"],e5=["path","targetId"],t5=["collectionId","parent"],n5=["indexId","uid"],r5=["uid","sequenceNumber"],i5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s5=["indexId","uid","orderedDocumentKey"],o5=["userId","collectionPath","documentId"],a5=["userId","collectionPath","largestBatchId"],l5=["userId","collectionGroup","largestBatchId"],_b=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u5=[..._b,"documentOverlays"],vb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wb=vb,Ib=[...wb,"indexConfiguration","indexState","indexEntries"],c5=Ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends pb{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Nt(t,e){const n=H(t);return Mr.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ta(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new vn([])}unionWith(e){let n=new ke(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tb("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const h5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Z(!!t),typeof t=="string"){let e=0;const n=h5.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function M0(t){const e=t.mapValue.fields.__previous_value__;return om(e)?M0(e):e}function bc(t){const e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Is{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Is("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Is&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$h={nullValue:"NULL_VALUE"};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:Sb(t)?9007199254740991:10:Q()}function Fr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bc(t).isEqual(bc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vi(i.timestampValue),a=vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?kc(o)===kc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(kS(o)!==kS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function Cc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return CS(t.timestampValue,e.timestampValue);case 4:return CS(bc(t),bc(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ws(s),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ie(a[c],l[c]);if(d!==0)return d}return ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(rt(s.latitude),rt(o.latitude));return a!==0?a:ie(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Es(a[c],l[c]);if(d)return d}return ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ji.mapValue&&o===Ji.mapValue)return 0;if(s===Ji.mapValue)return 1;if(o===Ji.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ie(l[h],d[h]);if(p!==0)return p;const y=Es(a[l[h]],c[d[h]]);if(y!==0)return y}return ie(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function CS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=vi(t),r=vi(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function il(t){return P_(t)}function P_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=P_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${P_(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function Io(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R_(t){return!!t&&"integerValue"in t}function xc(t){return!!t&&"arrayValue"in t}function xS(t){return!!t&&"nullValue"in t}function DS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function p5(t){return"nullValue"in t?$h:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Io(Is.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Q()}function m5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Io(Is.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ji:Q()}function NS(t,e){const n=Es(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function OS(t,e){const n=Es(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=We.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(zu(this.value))}}function Pb(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new We([n]);if(Bh(r)){const s=Pb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,ee.min(),ee.min(),ee.min(),jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,ee.min(),ee.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,ee.min(),ee.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.position=e,this.inclusive=n}}function MS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function g5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class de extends Rb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y5(e,n,r):n==="array-contains"?new w5(e,r):n==="in"?new Db(e,r):n==="not-in"?new I5(e,r):n==="array-contains-any"?new E5(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _5(e,r):new v5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Te extends Rb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Te(e,n)}matches(e){return sl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sl(t){return t.op==="and"}function A_(t){return t.op==="or"}function V0(t){return Ab(t)&&sl(t)}function Ab(t){for(const e of t.filters)if(e instanceof Te)return!1;return!0}function k_(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+il(t.value);if(V0(t))return t.filters.map(e=>k_(e)).join(",");{const e=t.filters.map(n=>k_(n)).join(",");return`${t.op}(${e})`}}function kb(t,e){return t instanceof de?function(r,i){return i instanceof de&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kb(o,i.filters[a]),!0):!1}(t,e):void Q()}function bb(t,e){const n=t.filters.concat(e);return Te.create(n,t.op)}function Cb(t){return t instanceof de?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Te?function(n){return n.op.toString()+" {"+n.getFilters().map(Cb).join(" ,")+"}"}(t):"Filter"}class y5 extends de{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class _5 extends de{constructor(e,n){super(e,"in",n),this.keys=xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v5 extends de{constructor(e,n){super(e,"not-in",n),this.keys=xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class w5 extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xc(n)&&Cc(n.arrayValue,this.value)}}class Db extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}}class I5 extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cc(this.value.arrayValue,n)}}class E5 extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function b_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new T5(t,e,n,r,i,s,o)}function Eo(t){const e=H(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>k_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.ue=n}return e.ue}function od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VS(t.startAt,e.startAt)&&VS(t.endAt,e.endAt)}function Lf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ff(t,e){return t.filters.filter(n=>n instanceof de&&n.field.isEqual(e))}function LS(t,e,n){let r=$h,i=!0;for(const s of Ff(t,e)){let o=$h,a=!0;switch(s.op){case"<":case"<=":o=p5(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=$h}NS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];NS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function FS(t,e,n){let r=Ji,i=!0;for(const s of Ff(t,e)){let o=Ji,a=!0;switch(s.op){case">=":case">":o=m5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ji}OS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];OS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nb(t,e,n,r,i,s,o,a){return new Pi(t,e,n,r,i,s,o,a)}function Al(t){return new Pi(t)}function US(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L0(t){return t.collectionGroup!==null}function Fa(t){const e=H(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(We.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Dc(s,r))}),n.has(We.keyField().canonicalString())||e.ce.push(new Dc(We.keyField(),r))}return e.ce}function un(t){const e=H(t);return e.le||(e.le=S5(e,Fa(t))),e.le}function S5(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dc(i.field,s)});const n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function C_(t,e){const n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uf(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return od(un(t),un(e))&&t.limitType===e.limitType}function Ob(t){return`${Eo(un(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Cb(i)).join(", ")}]`),sd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function ld(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=MS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Fa(r),i)||r.endAt&&!function(o,a,l){const c=MS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Fa(r),i))}(t,e)}function Mb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vb(t){return(e,n)=>{let r=!1;for(const i of Fa(t)){const s=P5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function P5(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Es(l,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Eb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new Ne(G.comparator);function wn(){return R5}const Lb=new Ne(G.comparator);function Au(...t){let e=Lb;for(const n of t)e=e.insert(n.key,n);return e}function Fb(t){let e=Lb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function br(){return Wu()}function Ub(){return Wu()}function Wu(){return new Ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const A5=new Ne(G.comparator),k5=new ke(G.comparator);function se(...t){let e=k5;for(const n of t)e=e.add(n);return e}const b5=new ke(ie);function F0(){return b5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function $b(t){return{integerValue:""+t}}function Bb(t,e){return gb(e)?$b(e):jb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this._=void 0}}function C5(t,e,n){return t instanceof ol?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&om(s)&&(s=M0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof To?Wb(t,e):t instanceof So?qb(t,e):function(i,s){const o=zb(i,s),a=jS(o)+jS(i.Pe);return R_(o)&&R_(i.Pe)?$b(a):jb(i.serializer,a)}(t,e)}function x5(t,e,n){return t instanceof To?Wb(t,e):t instanceof So?qb(t,e):n}function zb(t,e){return t instanceof al?function(r){return R_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ol extends am{}class To extends am{constructor(e){super(),this.elements=e}}function Wb(t,e){const n=Gb(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class So extends am{constructor(e){super(),this.elements=e}}function qb(t,e){let n=Gb(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class al extends am{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jS(t){return rt(t.integerValue||t.doubleValue)}function Gb(t){return xc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.field=e,this.transform=n}}function D5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof So&&i instanceof So?rl(r.elements,i.elements,Fr):r instanceof al&&i instanceof al?Fr(r.Pe,i.Pe):r instanceof ol&&i instanceof ol}(t.transform,e.transform)}class N5{constructor(e,n){this.version=e,this.transformResults=n}}class qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qe}static exists(e){return new qe(void 0,e)}static updateTime(e){return new qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function Hb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bl(t.key,qe.none()):new kl(t.key,t.data,qe.none());{const n=t.data,r=jt.empty();let i=new ke(We.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(t.key,r,new vn(i.toArray()),qe.none())}}function O5(t,e,n){t instanceof kl?function(i,s,o){const a=i.value.clone(),l=BS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,s,o){if(!zh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=BS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Kb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof kl?function(s,o,a,l){if(!zh(s.precondition,o))return a;const c=s.value.clone(),d=zS(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(s,o,a,l){if(!zh(s.precondition,o))return a;const c=zS(s.fieldTransforms,l,o),d=o.data;return d.setAll(Kb(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return zh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zb(r.transform,i||null);s!=null&&(n===null&&(n=jt.empty()),n.set(r.field,s))}return n||null}function $S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rl(r,i,(s,o)=>D5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kl extends lm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends lm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BS(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,x5(o,a,n[i]))}return r}function zS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,C5(s,o,e))}return r}class bl extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U0 extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&O5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ub();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Hb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,r)=>$S(n,r))&&rl(this.baseMutations,e.baseMutations,(n,r)=>$S(n,r))}}class $0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return A5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,fe;function Yb(t){switch(t){default:return Q();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function Qb(t){if(t===void 0)return ht("GRPC error has no .code"),V.UNKNOWN;switch(t){case gt.OK:return V.OK;case gt.CANCELLED:return V.CANCELLED;case gt.UNKNOWN:return V.UNKNOWN;case gt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case gt.INTERNAL:return V.INTERNAL;case gt.UNAVAILABLE:return V.UNAVAILABLE;case gt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case gt.NOT_FOUND:return V.NOT_FOUND;case gt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case gt.ABORTED:return V.ABORTED;case gt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case gt.DATA_LOSS:return V.DATA_LOSS;default:return Q()}}(fe=gt||(gt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new uo([4294967295,4294967295],0);function WS(t){const e=Jb().encode(t),n=new tb;return n.update(e),new Uint8Array(n.digest())}function qS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uo([n,r],0),new uo([i,s],0)]}class z0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(uo.fromNumber(r)));return i.compare(L5)===1&&(i=new uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=WS(e),[r,i]=qS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new z0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=WS(e),[r,i]=qS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cd(ee.min(),i,new Ne(ie),wn(),se())}}class dd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Xb{constructor(e,n){this.targetId=e,this.me=n}}class Zb{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GS{constructor(){this.fe=0,this.ge=KS(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=se(),n=se(),r=se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new dd(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=KS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class F5{constructor(e){this.Le=e,this.Be=new Map,this.ke=wn(),this.qe=HS(),this.Qe=new Ne(ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Lf(s))if(r===0){const o=new G(s.path);this.Ue(n,o,Ve.newNoDocument(o,ee.min()))}else Z(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof Tb)return fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new z0(o,i,s)}catch(l){return fr(l instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Lf(a.target)){const l=new G(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ve.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=se();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new cd(e,n,this.Qe,this.ke,r);return this.ke=wn(),this.qe=HS(),this.Qe=new Ne(ie),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new GS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ke(ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new GS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function HS(){return new Ne(G.comparator)}function KS(){return new Ne(G.comparator)}const U5={asc:"ASCENDING",desc:"DESCENDING"},j5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$5={and:"AND",or:"OR"};class B5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x_(t,e){return t.useProto3Json||sd(e)?e:{value:e}}function ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z5(t,e){return ll(t,e.toTimestamp())}function ft(t){return Z(!!t),ee.fromTimestamp(function(n){const r=vi(n);return new Ge(r.seconds,r.nanos)}(t))}function W0(t,e){return D_(t,e).canonicalString()}function D_(t,e){const n=function(i){return new ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tC(t){const e=ce.fromString(t);return Z(dC(e)),e}function Nc(t,e){return W0(t.databaseId,e.path)}function Vr(t,e){const n=tC(e);if(n.get(1)!==t.databaseId.projectId)throw new U(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(iC(n))}function nC(t,e){return W0(t.databaseId,e)}function rC(t){const e=tC(t);return e.length===4?ce.emptyPath():iC(e)}function N_(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iC(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YS(t,e,n){return{name:Nc(t,e),fields:n.value.mapValue.fields}}function sC(t,e,n){const r=Vr(t,e.name),i=ft(e.updateTime),s=e.createTime?ft(e.createTime):ee.min(),o=new jt({mapValue:{fields:e.fields}}),a=Ve.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function W5(t,e){return"found"in e?function(r,i){Z(!!i.found),i.found.name,i.found.updateTime;const s=Vr(r,i.found.name),o=ft(i.found.updateTime),a=i.found.createTime?ft(i.found.createTime):ee.min(),l=new jt({mapValue:{fields:i.found.fields}});return Ve.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Z(!!i.missing),Z(!!i.readTime);const s=Vr(r,i.missing),o=ft(i.readTime);return Ve.newNoDocument(s,o)}(t,e):Q()}function q5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Z(d===void 0||typeof d=="string"),Pt.fromBase64String(d||"")):(Z(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?V.UNKNOWN:Qb(c.code);return new U(d,c.message||"")}(o);n=new Zb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vr(t,r.document.name),s=ft(r.document.updateTime),o=r.document.createTime?ft(r.document.createTime):ee.min(),a=new jt({mapValue:{fields:r.document.fields}}),l=Ve.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vr(t,r.document),s=r.readTime?ft(r.readTime):ee.min(),o=Ve.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vr(t,r.document),s=r.removedTargetIds||[];n=new Wh([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new V5(i,s),a=r.targetId;n=new Xb(a,o)}}return n}function Oc(t,e){let n;if(e instanceof kl)n={update:YS(t,e.key,e.value)};else if(e instanceof bl)n={delete:Nc(t,e.key)};else if(e instanceof Ri)n={update:YS(t,e.key,e.data),updateMask:J5(e.fieldMask)};else{if(!(e instanceof U0))return Q();n={verify:Nc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof al)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:z5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function O_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?qe.updateTime(ft(s.updateTime)):s.exists!==void 0?qe.exists(s.exists):qe.none()}(e.currentDocument):qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Z(a.setToServerValue==="REQUEST_TIME"),l=new ol;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new To(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new So(d)}else"increment"in a?l=new al(o,a.increment):Q();const c=We.fromServerFormat(a.fieldPath);return new ud(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Vr(t,e.update.name),s=new jt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new vn(c.map(d=>We.fromServerFormat(d)))}(e.updateMask);return new Ri(i,s,o,n,r)}return new kl(i,s,n,r)}if(e.delete){const i=Vr(t,e.delete);return new bl(i,n)}if(e.verify){const i=Vr(t,e.verify);return new U0(i,n)}return Q()}function G5(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ft(i.updateTime):ft(s);return o.isEqual(ee.min())&&(o=ft(s)),new N5(o,i.transformResults||[])}(n,e))):[]}function oC(t,e){return{documents:[nC(t,e.path)]}}function aC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nC(t,i);const s=function(c){if(c.length!==0)return cC(Te.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:da(p.field),direction:K5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=x_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function lC(t){let e=rC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=uC(h);return p instanceof Te&&V0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new Dc(ha(T.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,sd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new Ts(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,y=h.values||[];return new Ts(y,p)}(n.endAt)),Nb(e,i,o,s,a,"F",l,c)}function H5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return de.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return de.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ha(n.unaryFilter.field);return de.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ha(n.unaryFilter.field);return de.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return de.create(ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Te.create(n.compositeFilter.filters.map(r=>uC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function K5(t){return U5[t]}function Y5(t){return j5[t]}function Q5(t){return $5[t]}function da(t){return{fieldPath:t.canonicalString()}}function ha(t){return We.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof de?function(n){if(n.op==="=="){if(DS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(xS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(xS(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:Y5(n.op),value:n.value}}}(t):t instanceof Te?function(n){const r=n.getFilters().map(i=>cC(i));return r.length===1?r[0]:{compositeFilter:{op:Q5(n.op),filters:r}}}(t):Q()}function J5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.ct=e}}function X5(t,e){let n;if(e.document)n=sC(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=Ro(e.noDocument.readTime);n=Ve.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{const r=G.fromSegments(e.unknownDocument.path),i=Ro(e.unknownDocument.version);n=Ve.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ge(i[0],i[1]);return ee.fromTimestamp(s)}(e.readTime)),n}function QS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Nc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ll(s,o.version.toTimestamp()),createTime:ll(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Po(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:Po(e.version)}}return r}function jf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Po(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ro(t){const e=new Ge(t.seconds,t.nanoseconds);return ee.fromTimestamp(e)}function Qs(t,e){const n=(e.baseMutations||[]).map(s=>O_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>O_(t.ct,s)),i=Ge.fromMillis(e.localWriteTimeMs);return new j0(e.batchId,i,n,r)}function bu(t){const e=Ro(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ro(t.lastLimboFreeSnapshotVersion):ee.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Z(s.documents.length===1),un(Al(rC(s.documents[0])))}(t.query):function(s){return un(lC(s))}(t.query),new ii(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Pt.fromBase64String(t.resumeToken))}function fC(t,e){const n=Po(e.snapshotVersion),r=Po(e.lastLimboFreeSnapshotVersion);let i;i=Lf(e.target)?oC(t.ct,e.target):aC(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Eo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function q0(t){const e=lC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uf(e,e.limit,"L"):e}function ty(t,e){return new B0(e.largestBatchId,O_(t.ct,e.overlayMutation))}function JS(t,e){const n=e.path.lastSegment();return[t,ln(e.path.popLast()),n]}function XS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Po(r.readTime),documentKey:ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{getBundleMetadata(e,n){return ZS(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ro(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return ZS(e).put(function(i){return{bundleId:i.id,createTime:Po(ft(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return e1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:q0(s.bundledQuery),readTime:Ro(s.readTime)}}(r)})}saveNamedQuery(e,n){return e1(e).put(function(i){return{name:i.name,readTime:Po(ft(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function ZS(t){return Nt(t,"bundles")}function e1(t){return Nt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new um(e,r)}getOverlay(e,n){return du(e).get(JS(this.userId,n)).next(r=>r?ty(this.serializer,r):null)}getOverlays(e,n){const r=br();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new B0(n,o);i.push(this.ht(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(ln(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(du(e).j("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,n,r){const i=br(),s=ln(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return du(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=ty(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=br();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return du(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const h=ty(this.serializer,c);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return du(e).put(function(i,s,o){const[a,l,c]=JS(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Oc(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function du(t){return Nt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),kc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=vi(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ws(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Sb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),G.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Js.bt=new Js;function e3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function t1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=e3(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class t3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=t1(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=t1(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class n3{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class r3{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class hu{constructor(){this.Gt=new t3,this.zt=new n3(this.Gt),this.jt=new r3(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Xs(this.indexId,this.documentKey,this.arrayValue,r)}}function Vi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=n1(t.arrayValue,e.arrayValue),n!==0?n:(n=n1(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function n1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Yt=new ke((n,r)=>We.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Z(e.collectionGroup===this.collectionId),this.en)return!1;const n=T_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Ks(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new ke(We.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Uh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Uh(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Uh(r.field,r.dir==="asc"?0:1)));return new Vf(Vf.UNKNOWN_ID,this.collectionId,n,Ac.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){var e,n;if(Z(t instanceof de||t instanceof Te),t instanceof de){if(t instanceof Db){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>de.create(t.field,"==",s)))||[];return Te.create(i,"or")}return t}const r=t.filters.map(i=>pC(i));return Te.create(r,t.op)}function i3(t){if(t.getFilters().length===0)return[];const e=L_(pC(t));return Z(mC(e)),M_(e)||V_(e)?[e]:e.getFilters()}function M_(t){return t instanceof de}function V_(t){return t instanceof Te&&V0(t)}function mC(t){return M_(t)||V_(t)||function(n){if(n instanceof Te&&A_(n)){for(const r of n.getFilters())if(!M_(r)&&!V_(r))return!1;return!0}return!1}(t)}function L_(t){if(Z(t instanceof de||t instanceof Te),t instanceof de)return t;if(t.filters.length===1)return L_(t.filters[0]);const e=t.filters.map(r=>L_(r));let n=Te.create(e,t.op);return n=$f(n),mC(n)?n:(Z(n instanceof Te),Z(sl(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>G0(r,i)))}function G0(t,e){let n;return Z(t instanceof de||t instanceof Te),Z(e instanceof de||e instanceof Te),n=t instanceof de?e instanceof de?function(i,s){return Te.create([i,s],"and")}(t,e):i1(t,e):e instanceof de?i1(e,t):function(i,s){if(Z(i.filters.length>0&&s.filters.length>0),sl(i)&&sl(s))return bb(i,s.getFilters());const o=A_(i)?i:s,a=A_(i)?s:i,l=o.filters.map(c=>G0(c,a));return Te.create(l,"or")}(t,e),$f(n)}function i1(t,e){if(sl(e))return bb(e,t.getFilters());{const n=e.filters.map(r=>G0(t,r));return Te.create(n,"or")}}function $f(t){if(Z(t instanceof de||t instanceof Te),t instanceof de)return t;const e=t.getFilters();if(e.length===1)return $f(e[0]);if(Ab(t))return t;const n=e.map(i=>$f(i)),r=[];return n.forEach(i=>{i instanceof de?r.push(i):i instanceof Te&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Te.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this._n=new H0}addToCollectionParentIndex(e,n){return this._n.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(On.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class H0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Uint8Array(0);class o3{constructor(e,n){this.databaseId=n,this.an=new H0,this.un=new Ms(r=>Eo(r),(r,i)=>od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:ln(i)};return s1(e).put(s)}return N.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[cb(n),""],!1,!0);return s1(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(kr(o.parent))}return r})}addFieldIndex(e,n){const r=fu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ra(e);return s.next(a=>{o.put(XS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=fu(e),i=ra(e),s=na(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=fu(e),r=na(e),i=ra(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return N.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new r1(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=na(e);let i=!0;const s=new Map;return N.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=se();const a=[];return N.forEach(s,(l,c)=>{j("IndexedDbIndexManager",`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`}(l)} to execute ${Eo(n)}`);const d=function(S,O){const M=T_(O);if(M===void 0)return null;for(const F of Ff(S,M.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(c,l),h=function(S,O){const M=new Map;for(const F of Ks(O))for(const E of Ff(S,F.fieldPath))switch(E.op){case"==":case"in":M.set(F.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return M.set(F.fieldPath.canonicalString(),E.value),Array.from(M.values())}return null}(c,l),p=function(S,O){const M=[];let F=!0;for(const E of Ks(O)){const _=E.kind===0?LS(S,E.fieldPath,S.startAt):FS(S,E.fieldPath,S.startAt);M.push(_.value),F&&(F=_.inclusive)}return new Ts(M,F)}(c,l),y=function(S,O){const M=[];let F=!0;for(const E of Ks(O)){const _=E.kind===0?FS(S,E.fieldPath,S.endAt):LS(S,E.fieldPath,S.endAt);M.push(_.value),F&&(F=_.inclusive)}return new Ts(M,F)}(c,l),T=this.hn(l,c,p),w=this.hn(l,c,y),k=this.Pn(l,c,h),I=this.In(l.indexId,d,T,p.inclusive,w,y.inclusive,k);return N.forEach(I,v=>r.G(v,n.limit).next(S=>{S.forEach(O=>{const M=G.fromSegments(O.documentKey);o.has(M)||(o=o.add(M),a.push(M))})}))}).next(()=>a)}return N.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=i3(Te.create(e.filters,"and")).map(r=>b_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const p=n?this.Tn(n[h/c]):hh,y=this.En(e,p,r[h%c],i),T=this.dn(e,p,s[h%c],o),w=a.map(k=>this.En(e,p,k,!0));d.push(...this.createRange(y,T,w))}return d}En(e,n,r,i){const s=new Xs(e,G.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Xs(e,G.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new r1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return N.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new ke(We.comparator),d=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:c=c.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new hu;for(const i of Ks(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Js.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new hu;return Js.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new hu;return Js.bt.Pt(Io(this.databaseId,n),r.Ht(function(s){const o=Ks(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new hu);let s=0;for(const o of Ks(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&xc(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Js.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new hu;l.seed(a.Wt()),Js.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof de&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=fu(e),i=ra(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const p=h?new Ac(h.sequenceNumber,new On(Ro(h.readTime),new G(kr(h.documentKey)),h.largestBatchId)):Ac.empty(),y=d.fields.map(([T,w])=>new Uh(We.fromServerFormat(T),w));return new Vf(d.indexId,d.collectionGroup,y,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=fu(e),s=ra(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,l=>s.put(XS(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return N.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,l=>this.pn(e,i,l).next(c=>{const d=this.yn(s,l);return c.isEqual(d)?N.resolve():this.wn(e,s,l,c,d)}))))})}Sn(e,n,r,i){return na(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return na(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=na(e);let s=new ke(Vi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Xs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new ke(Vi);const i=this.An(n,e);if(i==null)return r;const s=T_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(xc(o))for(const a of o.arrayValue.values||[])r=r.add(new Xs(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Xs(n.indexId,e.key,hh,i));return r}wn(e,n,r,i,s){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,p){const y=l.getIterator(),T=c.getIterator();let w=ta(y),k=ta(T);for(;w||k;){let I=!1,v=!1;if(w&&k){const S=d(w,k);S<0?v=!0:S>0&&(I=!0)}else w!=null?v=!0:I=!0;I?(h(k),k=ta(T)):v?(p(w),w=ta(y)):(w=ta(y),k=ta(T))}}(i,s,Vi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),N.waitFor(o)}gn(e){let n=1;return ra(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Vi(o,a)).filter((o,a,l)=>!a||Vi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Vi(o,e),l=Vi(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,hh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,hh,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o1)}getMinOffset(e,n){return N.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Q())).next(o1)}}function s1(t){return Nt(t,"collectionParents")}function na(t){return Nt(t,"indexEntries")}function fu(t){return Nt(t,"indexConfiguration")}function ra(t){return Nt(t,"indexState")}function o1(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;N0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new On(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,p)=>(a++,p.delete()));s.push(l.next(()=>{Z(a===1)}));const c=[];for(const d of n.mutations){const h=yb(e,d.key.path,n.batchId);s.push(i.delete(h)),c.push(d.key)}return N.waitFor(s).next(()=>c)}function Bf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class cm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new cm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=fa(e),o=Li(e);return o.add({}).next(a=>{Z(typeof a=="number");const l=new j0(a,n,r,i),c=function(y,T,w){const k=w.baseMutations.map(v=>Oc(y.ct,v)),I=w.mutations.map(v=>Oc(y.ct,v));return{userId:T,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:k,mutations:I}}(this.serializer,this.userId,l),d=[];let h=new ke((p,y)=>ie(p.canonicalString(),y.canonicalString()));for(const p of i){const y=yb(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(o.put(c)),d.push(s.put(y,K$))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),N.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Li(e).get(n).next(r=>r?(Z(r.userId===this.userId),Qs(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?N.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Li(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=Qs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Li(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).U("userMutationsIndex",n).next(r=>r.map(i=>Qs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=jh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return fa(e).J({range:i},(o,a,l)=>{const[c,d,h]=o,p=kr(d);if(c===this.userId&&n.path.isEqual(p))return Li(e).get(h).next(y=>{if(!y)throw Q();Z(y.userId===this.userId),s.push(Qs(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(ie);const i=[];return n.forEach(s=>{const o=jh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=fa(e).J({range:a},(c,d,h)=>{const[p,y,T]=c,w=kr(y);p===this.userId&&s.path.isEqual(w)?r=r.add(T):h.done()});i.push(l)}),N.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=jh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ke(ie);return fa(e).J({range:o},(l,c,d)=>{const[h,p,y]=l,T=kr(p);h===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Li(e).get(s).next(o=>{if(o===null)throw Q();Z(o.userId===this.userId),r.push(Qs(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return gC(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return fa(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=kr(s[1]);i.push(l)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return yC(e,this.userId,n)}xn(e){return _C(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yC(t,e,n){const r=jh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return fa(t).J({range:s,H:!0},(a,l,c)=>{const[d,h,p]=a;d===e&&h===i&&(o=!0),c.done()}).next(()=>o)}function Li(t){return Nt(t,"mutations")}function fa(t){return Nt(t,"documentMutations")}function _C(t){return Nt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ao(0)}static Ln(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Ao(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ee.fromTimestamp(new Ge(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ia(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ia(e).J((o,a)=>{const l=bu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ia(e).J((r,i)=>{const s=bu(i);n(s)})}Bn(e){return l1(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}kn(e,n){return l1(e).put("targetGlobalKey",n)}qn(e,n){return ia(e).put(fC(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Eo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ia(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=bu(a);od(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gi(e);return n.forEach(o=>{const a=ln(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gi(e);return N.forEach(n,s=>{const o=ln(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gi(e);let s=se();return i.J({range:r,H:!0},(o,a,l)=>{const c=kr(o[1]),d=new G(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=ln(n.path),i=IDBKeyRange.bound([r],[cb(r)],!1,!0);let s=0;return Gi(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return ia(e).get(n).next(r=>r?bu(r):null)}}function ia(t){return Nt(t,"targets")}function l1(t){return Nt(t,"targetGlobal")}function Gi(t){return Nt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class l3{constructor(e){this.Kn=e,this.buffer=new ke(u1),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Os(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ns(n)}await this.zn(3e5)})}}class c3{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(_n.oe);const r=new l3(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(a1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ua()<=le.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function d3(t,e){return new c3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.db=e,this.garbageCollector=d3(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return fh(e,r)}removeReference(e,n,r){return fh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return fh(e,n)}er(e,n){return function(i,s){let o=!1;return _C(i).Y(a=>yC(i,a,s).next(l=>(l&&(o=!0),N.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ee.min()),Gi(e).delete(function(h){return[0,ln(h.path)]}(o))))});i.push(l)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return fh(e,n)}Xn(e,n){const r=Gi(e);let i,s=_n.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==_n.oe&&n(new G(kr(i)),s),s=c,i=l):s=_n.oe}).next(()=>{s!==_n.oe&&n(new G(kr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fh(t,e){return Gi(t).put(function(r,i){return{targetId:0,path:ln(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.changes=new Ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return zs(e).put(r)}removeEntry(e,n,r){return zs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ve.newInvalidDocument(n);return zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Ve.newInvalidDocument(n)};return zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pu(n))},(i,s)=>{r={document:this.nr(n,s),size:Bf(s)}}).next(()=>r)}getEntries(e,n){let r=wn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=wn(),i=new Ne(G.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Bf(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return N.resolve();let i=new ke(h1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(pu(i.first()),pu(i.last())),o=i.getIterator();let a=o.getNext();return zs(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{const h=G.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&h1(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.$(pu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),jf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zs(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=wn();for(const h of c){const p=this.nr(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(ld(n,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=wn();const o=d1(n,r),a=d1(n,On.max());return zs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.nr(G.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new p3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return c1(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}tr(e,n){return c1(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=X5(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ee.min())))return r}return Ve.newInvalidDocument(e)}}function wC(t){return new f3(t)}class p3 extends vC{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ms(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ke((s,o)=>ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=QS(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Bf(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=QS(this.ar.serializer,o.convertToNoDocument(ee.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),N.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function c1(t){return Nt(t,"remoteDocumentGlobal")}function zs(t){return Nt(t,"remoteDocumentsV14")}function pu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d1(t,e){const n=e.documentKey.path.toArray();return[t,jf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function h1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ie(n[s],r[s]),i)return i;return i=ie(n.length,r.length),i||(i=ie(n[n.length-2],r[r.length-2]),i||ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qu(r.mutation,i,vn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Au();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wn();const o=Wu(),a=function(){return Wu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ri)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),qu(d.mutation,c,d.mutation.getFieldMask(),Ge.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new m3(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wu();let i=new Ne((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Ub();d.forEach(p=>{if(!s.has(p)){const y=Hb(n.get(p),r.get(p));y!==null&&h.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(br());let a=-1,l=s;return o.next(c=>N.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,se())).next(d=>({batchId:a,changes:Fb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,l=>{const c=function(h,p){return new Pi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ve.newInvalidDocument(d)))});let a=Au();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&qu(d.mutation,c,vn.empty(),Ge.now()),ld(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return N.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ft(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:q0(i.bundledQuery),readTime:ft(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.overlays=new Ne(G.comparator),this.hr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=br();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=br(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=br(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=br(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new B0(n,r));let s=this.hr.get(n);s===void 0&&(s=se(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.Pr=new ke(Rt.Ir),this.Tr=new ke(Rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Rt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new G(new ce([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new G(new ce([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=se();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ke(Rt.Ir)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new j0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(ie);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new G(s),0);let a=new ke(ie);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),N.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return N.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.vr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wn();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||N0(hb(d),r)<=0||(i.has(d.key)||ld(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w3(this)}getSize(e){return N.resolve(this.size)}}class w3 extends vC{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.persistence=e,this.Mr=new Ms(n=>Eo(n),od),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new K0,this.targetCount=0,this.Lr=Ao.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),N.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.qn(n),N.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.Br={},this.overlays={},this.kr=new _n(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new I3(this),this.indexManager=new s3,this.remoteDocumentCache=function(i){return new v3(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new hC(n),this.$r=new g3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _3(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new E3(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class E3 extends pb{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.zr=new K0,this.jr=null}static Hr(e){return new dm(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),N.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{const i=G.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return N.or([()=>N.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.serializer=e}O(e,n,r,i){const s=new sm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AS,{unique:!0}),l.createObjectStore("documentMutations")}(e),f1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),f1(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ee.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AS,{unique:!0});const h=c.store("mutations"),p=d.map(y=>h.put(y));return N.waitFor(p)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:o5});c.createIndex("collectionPathOverlayIndex",a5,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",l5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Y$});c.createIndex("documentKeyIndex",Q$),c.createIndex("collectionGroupIndex",J$)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:n5}).createIndex("sequenceNumberIndex",r5,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:i5}).createIndex("documentKeyIndex",s5,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Bf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>N.forEach(a,l=>{Z(l.userId===s.userId);const c=Qs(this.serializer,l);return gC(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new ce(o),c=function(h){return[0,ln(h)]}(l);s.push(n.get(c).next(d=>d?N.resolve():(h=>n.put({targetId:0,path:ln(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>N.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:t5});const r=n.store("collectionParents"),i=new H0,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ln(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new ce(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const d=kr(a);return s(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=bu(i),o=fC(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new G(ce.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):Q()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>N.waitFor(i))}si(e,n){const r=n.store("mutations"),i=wC(this.serializer),s=new EC(dm.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:se();Qs(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),N.forEach(a,(l,c)=>{const d=new kt(c),h=um.lt(this.serializer,d),p=s.getIndexManager(d),y=cm.lt(d,this.serializer,p,s.referenceDelegate);return new IC(i,y,h,p).recalculateAndSaveOverlaysForDocumentKeys(new S_(n,_n.oe),l).next()})})}}function f1(t){t.createObjectStore("targetDocuments",{keyPath:Z$}).createIndex("documentTargetsIndex",e5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",X$,{unique:!0}),t.createObjectStore("targetGlobal")}const ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Y0{constructor(e,n,r,i,s,o,a,l,c,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!Y0.D())throw new U(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h3(this,i),this.Ti=n+"main",this.serializer=new hC(l),this.Ei=new Mr(this.Ti,this.ui,new T3(this.serializer)),this.Qr=new a3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wC(this.serializer),this.$r=new Z5,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(V.FAILED_PRECONDITION,ny);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new _n(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ph(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Os(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return mu(e).get("owner").next(n=>N.resolve(this.Si(n)))}bi(e){return ph(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nt(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return N.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?N.resolve(!0):mu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new U(V.FAILED_PRECONDITION,ny);return!1}}return!(!this.networkEnabled||!this.inForeground)||ph(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new S_(e,_n.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ph(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return cm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return um.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?c5:l===15?Ib:l===14?wb:l===13?vb:l===12?u5:l===11?_b:void Q()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new S_(a,this.kr?this.kr.next():_n.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new U(V.FAILED_PRECONDITION,fb);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return mu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new U(V.FAILED_PRECONDITION,ny)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mu(e).put("owner",n)}static D(){return Mr.D()}yi(e){const n=mu(e);return n.get("owner").next(r=>this.Si(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):N.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ht(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;jk()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ht("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ht("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mu(t){return Nt(t,"owner")}function ph(t){return Nt(t,"clientMetadata")}function Q0(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new J0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jk()?8:mb(He())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new S3;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ua()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(ua()<=le.DEBUG&&j("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ua()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):N.resolve())}ji(e,n){if(US(n))return N.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uf(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Uf(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return US(n)||i.isEqual(ee.min())?N.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?N.resolve(null):(ua()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(n)),this.es(e,o,n,db(i,-1)).next(a=>a))})}Zi(e,n){let r=new ke(Vb(e));return n.forEach((i,s)=>{ld(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ua()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ca(n)),this.zi.getDocumentsMatchingQuery(e,n,On.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ne(ie),this.rs=new Ms(s=>Eo(s),od),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function SC(t,e,n,r){return new P3(t,e,n,r)}async function PC(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=se();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function R3(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let y=N.resolve();return p.forEach(T=>{y=y.next(()=>d.getEntry(l,T)).next(w=>{const k=c.docVersions.get(T);Z(k!==null),w.version.compareTo(k)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RC(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function A3(t,e){const n=H(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Pt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(w,k,I){return w.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let l=wn(),c=se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(AC(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(ee.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function AC(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function k3(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ul(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function cl(t,e,n){const r=H(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Os(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function zf(t,e,n){const r=H(t);let i=ee.min(),s=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=H(l),p=h.rs.get(d);return p!==void 0?N.resolve(h.ns.get(p)):h.Qr.getTargetData(c,d)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:se())).next(a=>(CC(r,Mb(e),a),{documents:a,hs:s})))}function kC(t,e){const n=H(t),r=H(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function bC(t,e){const n=H(t),r=n.ss.get(e)||ee.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,db(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(CC(n,e,i),i))}function CC(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function b3(t,e,n,r){const i=H(t);let s=se(),o=wn();for(const c of n){const d=e.Ps(c.metadata.name);c.document&&(s=s.add(d));const h=e.Is(c);h.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(d,h)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await ul(i,function(d){return un(Al(ce.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>AC(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))}async function C3(t,e,n=se()){const r=await ul(t,un(q0(e.bundledQuery))),i=H(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ft(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(Pt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function p1(t,e){return`firestore_clients_${t}_${e}`}function m1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ry(t,e){return`firestore_targets_${t}_${e}`}class Wf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new U(i.error.code,i.error.message))),o?new Wf(e,n,i.state,s):(ht("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new U(r.error.code,r.error.message))),s?new Gu(e,r.state,i):(ht("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=F0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=gb(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new qf(e,s):(ht("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class X0{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new X0(n.clientId,n.onlineState):(ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class F_{constructor(){this.activeTargetIds=F0()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iy{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ne(ie),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=p1(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new F_),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(p1(this.persistenceKey,r));if(i){const s=qf.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ry(this.persistenceKey,e));if(r){const i=Gu.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ry(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=_n.oe;if(s!=null)try{const a=JSON.parse(s);Z(typeof a=="number"),o=a}catch(a){ht("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==_n.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new Wf(this.currentUser,e,n,r),s=m1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=m1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=ry(this.persistenceKey,e),s=new Gu(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return qf.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Wf.Es(new kt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Gu.Es(i,n)}xs(e){return X0.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=F0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class xC{constructor(){this.no=new F_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new F_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function sy(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class O3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=sy(),l=this.vo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw fr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=D3[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=sy();return new Promise((o,a)=>{const l=new nb;l.setWithCredentials(!0),l.listenOnce(ib.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fh.NO_ERROR:const d=l.getResponseJson();j(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Fh.TIMEOUT:j(Yt,`RPC '${e}' ${s} timed out`),a(new U(V.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const h=l.getStatus();if(j(Yt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const T=function(k){const I=k.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(y.status);a(new U(T,y.message))}else a(new U(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(V.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(Yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);j(Yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=sy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ab(),a=ob(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new rb({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");j(Yt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,y=!1;const T=new N3({lo:k=>{y?j(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(j(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),j(Yt,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},ho:()=>h.close()}),w=(k,I,v)=>{k.listen(I,S=>{try{v(S)}catch(O){setTimeout(()=>{throw O},0)}})};return w(h,Ru.EventType.OPEN,()=>{y||(j(Yt,`RPC '${e}' stream ${i} transport opened.`),T.mo())}),w(h,Ru.EventType.CLOSE,()=>{y||(y=!0,j(Yt,`RPC '${e}' stream ${i} transport closed`),T.po())}),w(h,Ru.EventType.ERROR,k=>{y||(y=!0,fr(Yt,`RPC '${e}' stream ${i} transport errored:`,k),T.po(new U(V.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ru.EventType.MESSAGE,k=>{var I;if(!y){const v=k.data[0];Z(!!v);const S=v,O=S.error||((I=S[0])===null||I===void 0?void 0:I.error);if(O){j(Yt,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let F=function(P){const R=gt[P];if(R!==void 0)return Qb(R)}(M),E=O.message;F===void 0&&(F=V.INTERNAL,E="Unknown error status: "+M+" with message "+O.message),y=!0,T.po(new U(F,E)),h.close()}else j(Yt,`RPC '${e}' stream ${i} received:`,v),T.yo(v)}}),w(a,sb.STAT_EVENT,k=>{k.stat===E_.PROXY?j(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===E_.NOPROXY&&j(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.fo()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof window<"u"?window:null}function qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return new B5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Z0(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(ht(n.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new U(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M3 extends NC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=q5(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?ft(o.readTime):ee.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=N_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lf(l)?{documents:oC(s,l)}:{query:aC(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eC(s,o.resumeToken);const c=x_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=ll(s,o.snapshotVersion.toTimestamp());const c=x_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=H5(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=N_(this.serializer),n.removeTarget=e,this.i_(n)}}class V3 extends NC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=G5(e.writeResults,e.commitTime),r=ft(e.commitTime);return this.listener.A_(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=N_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Oc(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(V.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,D_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(V.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,D_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(V.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class F3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ht(n),this.y_=!1):j("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Vs(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=H(l);c.M_.add(4),await Cl(c),c.N_.set("Unknown"),c.M_.delete(4),await fd(c)}(this))})}),this.N_=new F3(r,i)}}async function fd(t){if(Vs(t))for(const e of t.x_)await e(!0)}async function Cl(t){for(const e of t.x_)await e(!1)}function hm(t,e){const n=H(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),nw(n)?tw(n):Dl(n).Xo()&&ew(n,e))}function dl(t,e){const n=H(t),r=Dl(n);n.F_.delete(e),r.Xo()&&OC(n,e),n.F_.size===0&&(r.Xo()?r.n_():Vs(n)&&n.N_.set("Unknown"))}function ew(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).P_(e)}function OC(t,e){t.L_.xe(e),Dl(t).I_(e)}function tw(t){t.L_=new F5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.N_.w_()}function nw(t){return Vs(t)&&!Dl(t).Zo()&&t.F_.size>0}function Vs(t){return H(t).M_.size===0}function MC(t){t.L_=void 0}async function j3(t){t.N_.set("Online")}async function $3(t){t.F_.forEach((e,n)=>{ew(t,e)})}async function B3(t,e){MC(t),nw(t)?(t.N_.D_(e),tw(t)):t.N_.set("Unknown")}async function z3(t,e,n){if(t.N_.set("Online"),e instanceof Zb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gf(t,r)}else if(e instanceof Wh?t.L_.Ke(e):e instanceof Xb?t.L_.He(e):t.L_.We(e),!n.isEqual(ee.min()))try{const r=await RC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),OC(s,l);const h=new ii(d.target,l,c,d.sequenceNumber);ew(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await Gf(t,r)}}async function Gf(t,e,n){if(!Os(e))throw e;t.M_.add(1),await Cl(t),t.N_.set("Offline"),n||(n=()=>RC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await fd(t)})}function VC(t,e){return e().catch(n=>Gf(t,n,e))}async function xl(t){const e=H(t),n=Ss(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;W3(e);)try{const i=await k3(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,q3(e,i)}catch(i){await Gf(e,i)}LC(e)&&FC(e)}function W3(t){return Vs(t)&&t.v_.length<10}function q3(t,e){t.v_.push(e);const n=Ss(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function LC(t){return Vs(t)&&!Ss(t).Zo()&&t.v_.length>0}function FC(t){Ss(t).start()}async function G3(t){Ss(t).V_()}async function H3(t){const e=Ss(t);for(const n of t.v_)e.d_(n.mutations)}async function K3(t,e,n){const r=t.v_.shift(),i=$0.from(r,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xl(t)}async function Y3(t,e){e&&Ss(t).E_&&await async function(r,i){if(function(o){return Yb(o)&&o!==V.ABORTED}(i.code)){const s=r.v_.shift();Ss(r).t_(),await VC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xl(r)}}(t,e),LC(t)&&FC(t)}async function y1(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=Vs(n);n.M_.add(3),await Cl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await fd(n)}async function U_(t,e){const n=H(t);e?(n.M_.delete(2),await fd(n)):e||(n.M_.add(2),await Cl(n),n.N_.set("Unknown"))}function Dl(t){return t.B_||(t.B_=function(n,r,i){const s=H(n);return s.f_(),new M3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:j3.bind(null,t),To:$3.bind(null,t),Ao:B3.bind(null,t),h_:z3.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),nw(t)?tw(t):t.N_.set("Unknown")):(await t.B_.stop(),MC(t))})),t.B_}function Ss(t){return t.k_||(t.k_=function(n,r,i){const s=H(n);return s.f_(),new V3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:G3.bind(null,t),Ao:Y3.bind(null,t),R_:H3.bind(null,t),A_:K3.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await xl(t)):(await t.k_.stop(),t.v_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nl(t,e){if(ht("AsyncQueue",`${e}: ${t}`),Os(t))return new U(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.q_=new Ne(G.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hl(e,n,Ua.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class J3{constructor(){this.queries=new Ms(e=>Ob(e),ad),this.onlineState="Unknown",this.z_=new Set}}async function iw(t,e){const n=H(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Q3,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Nl(o,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ow(n)}async function sw(t,e){const n=H(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X3(t,e){const n=H(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&ow(n)}function Z3(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function ow(t){t.z_.forEach(e=>{e.next()})}var j_,v1;(v1=j_||(j_={})).J_="default",v1.Cache="cache";class aw{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==j_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.serializer=e}Ps(e){return Vr(this.serializer,e)}Is(e){return e.metadata.exists?sC(this.serializer,e.document,!1):Ve.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ft(e)}}class tB{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UC(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=ce.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new w1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||se()).add(s);n.set(o,a)}}return n}async complete(){const e=await b3(this.localStore,new w1(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await C3(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function UC(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.key=e}}class $C{constructor(e){this.key=e}}class BC{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=se(),this.mutatedKeys=se(),this.Ia=Vb(e),this.Ta=new Ua(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new _1,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),y=ld(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;p&&y?p.data.isEqual(y.data)?T!==w&&(r.track({type:3,doc:y}),k=!0):this.Ra(p,y)||(r.track({type:2,doc:y}),k=!0,(l&&this.Ia(y,l)>0||c&&this.Ia(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),k=!0):p&&!y&&(r.track({type:1,doc:p}),k=!0,(l||c)&&(a=!0)),k&&(y?(o=o.add(y),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,h)=>function(y,T){const w=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return w(y)-w(T)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new hl(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=se(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new $C(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new jC(r))}),n}pa(e){this.la=e.hs,this.Pa=se();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return hl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class nB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rB{constructor(e){this.key=e,this.wa=!1}}class iB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ms(a=>Ob(a),ad),this.Da=new Map,this.Ca=new Set,this.va=new Ne(G.comparator),this.Fa=new Map,this.Ma=new K0,this.xa={},this.Oa=new Map,this.Na=Ao.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function sB(t,e,n=!0){const r=fm(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await zC(r,e,n,!0),i}async function oB(t,e){const n=fm(t);await zC(n,e,!0,!1)}async function zC(t,e,n,r){const i=await ul(t.localStore,un(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await lw(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hm(t.remoteStore,i),a}async function lw(t,e,n,r,i){t.Ba=(h,p,y)=>async function(w,k,I,v){let S=k.view.da(I);S.Xi&&(S=await zf(w.localStore,k.query,!1).then(({documents:E})=>k.view.da(E,S)));const O=v&&v.targetChanges.get(k.targetId),M=v&&v.targetMismatches.get(k.targetId)!=null,F=k.view.applyChanges(S,w.isPrimaryClient,O,M);return $_(w,k.targetId,F.fa),F.snapshot}(t,h,p,y);const s=await zf(t.localStore,e,!0),o=new BC(e,s.hs),a=o.da(s.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);$_(t,n,c.fa);const d=new nB(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function aB(t,e,n){const r=H(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!ad(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dl(r.remoteStore,i.targetId),fl(r,i.targetId)}).catch(Ns)):(fl(r,i.targetId),await cl(r.localStore,i.targetId,!0))}async function lB(t,e){const n=H(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dl(n.remoteStore,r.targetId))}async function uB(t,e,n){const r=hw(t);try{const i=await function(o,a){const l=H(o),c=Ge.now(),d=a.reduce((y,T)=>y.add(T.key),se());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=wn(),w=se();return l.os.getEntries(y,d).next(k=>{T=k,T.forEach((I,v)=>{v.isValidDocument()||(w=w.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(k=>{h=k;const I=[];for(const v of a){const S=M5(v,h.get(v.key).overlayedDocument);S!=null&&I.push(new Ri(v.key,S,Pb(S.value.mapValue),qe.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,I,a)}).next(k=>{p=k;const I=k.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(y,k.batchId,I)})}).then(()=>({batchId:p.batchId,changes:Fb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Ne(ie)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ai(r,i.changes),await xl(r.remoteStore)}catch(i){const s=Nl(i,"Failed to persist write");n.reject(s)}}async function WC(t,e){const n=H(t);try{const r=await A3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Z(o.wa):i.removedDocuments.size>0&&(Z(o.wa),o.wa=!1))}),await Ai(n,r,e)}catch(r){await Ns(r)}}function I1(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=H(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(c=!0)}),c&&ow(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cB(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,Ve.newNoDocument(s,ee.min()));const a=se().add(s),l=new cd(ee.min(),new Map,new Ne(ie),o,a);await WC(r,l),r.va=r.va.remove(s),r.Fa.delete(e),dw(r)}else await cl(r.localStore,e,!1).then(()=>fl(r,e,n)).catch(Ns)}async function dB(t,e){const n=H(t),r=e.batch.batchId;try{const i=await R3(n.localStore,e);cw(n,r,null),uw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ai(n,i)}catch(i){await Ns(i)}}async function hB(t,e,n){const r=H(t);try{const i=await function(o,a){const l=H(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Z(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cw(r,e,n),uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ai(r,i)}catch(i){await Ns(i)}}async function fB(t,e){const n=H(t);Vs(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=H(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Nl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function uw(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function cw(t,e,n){const r=H(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||qC(t,r)})}function qC(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(dl(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),dw(t))}function $_(t,e,n){for(const r of n)r instanceof jC?(t.Ma.addReference(r.key,e),pB(t,r)):r instanceof $C?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||qC(t,r.key)):Q()}function pB(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(j("SyncEngine","New document in limbo: "+n),t.Ca.add(r),dw(t))}function dw(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new G(ce.fromString(e)),r=t.Na.next();t.Fa.set(r,new rB(n)),t.va=t.va.insert(n,r),hm(t.remoteStore,new ii(un(Al(n.path)),r,"TargetPurposeLimboResolution",_n.oe))}}async function Ai(t,e,n){const r=H(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=J0.Ki(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=H(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>N.forEach(c,p=>N.forEach(p.qi,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>N.forEach(p.Qi,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!Os(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const y=d.ns.get(p),T=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(T);d.ns=d.ns.insert(p,w)}}}(r.localStore,s))}async function mB(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await PC(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new U(V.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ai(n,r.us)}}function gB(t,e){const n=H(t),r=n.Fa.get(e);if(r&&r.wa)return se().add(r.key);{let i=se();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function yB(t,e){const n=H(t),r=await zf(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&$_(n,e.targetId,i.fa),i}async function _B(t,e){const n=H(t);return bC(n.localStore,e).then(r=>Ai(n,r))}async function vB(t,e,n,r){const i=H(t),s=await function(a,l){const c=H(a),d=H(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,l).next(p=>p?c.localDocuments.getDocuments(h,p):N.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await xl(i.remoteStore):n==="acknowledged"||n==="rejected"?(cw(i,e,r||null),uw(i,e),function(a,l){H(H(a).mutationQueue).Mn(l)}(i.localStore,e)):Q(),await Ai(i,s)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}async function wB(t,e){const n=H(t);if(fm(n),hw(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await E1(n,r.toArray());n.La=!0,await U_(n.remoteStore,!0);for(const s of i)hm(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(fl(n,o),cl(n.localStore,o,!0))),dl(n.remoteStore,o)}),await i,await E1(n,r),function(o){const a=H(o);a.Fa.forEach((l,c)=>{dl(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ne(G.comparator)}(n),n.La=!1,await U_(n.remoteStore,!1)}}async function E1(t,e,n){const r=H(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await ul(r.localStore,un(l[0]));for(const c of l){const d=r.ba.get(c),h=await yB(r,d);h.snapshot&&s.push(h.snapshot)}}else{const c=await kC(r.localStore,o);a=await ul(r.localStore,c),await lw(r,GC(c),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function GC(t){return Nb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function IB(t){return function(n){return H(H(n).persistence).Bi()}(H(t).localStore)}async function EB(t,e,n,r){const i=H(t);if(i.La)return void j("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await bC(i.localStore,Mb(s[0])),a=cd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Pt.EMPTY_BYTE_STRING);await Ai(i,o,a);break}case"rejected":await cl(i.localStore,e,!0),fl(i,e,r);break;default:Q()}}async function TB(t,e,n){const r=fm(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){j("SyncEngine","Adding an already active target "+i);continue}const s=await kC(r.localStore,i),o=await ul(r.localStore,s);await lw(r,GC(s),o.targetId,!1,o.resumeToken),hm(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await cl(r.localStore,i,!1).then(()=>{dl(r.remoteStore,i),fl(r,i)}).catch(Ns)}}function fm(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cB.bind(null,e),e.Sa.h_=X3.bind(null,e.eventManager),e.Sa.ka=Z3.bind(null,e.eventManager),e}function hw(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hB.bind(null,e),e}function SB(t,e,n){const r=H(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(y,T){const w=H(y),k=ft(T.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",I=>w.$r.getBundleMetadata(I,T.id)).then(I=>!!I&&I.createTime.compareTo(k)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(UC(l));const c=new tB(l,s.localStore,o.serializer);let d=await o.qa();for(;d;){const p=await c._a(d);p&&a._updateProgress(p),d=await o.qa()}const h=await c.complete();return await Ai(s,h.ca,void 0),await function(y,T){const w=H(y);return w.persistence.runTransaction("Save bundle","readwrite",k=>w.$r.saveBundleMetadata(k,T))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ua)}catch(l){return fr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class B_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SC(this.persistence,new TC,e.initialUser,this.serializer)}createPersistence(e){return new EC(dm.Hr,this.serializer)}createSharedClientState(e){return new xC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HC extends B_{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await hw(this.Qa.syncEngine),await xl(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return SC(this.persistence,new TC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new u3(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new G$(n,this.persistence);return new q$(e.asyncQueue,r)}createPersistence(e){const n=Q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Y0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,DC(),qh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xC}}class PB extends HC{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof iy&&(this.sharedClientState.syncEngine={Zs:vB.bind(null,n),Xs:EB.bind(null,n),eo:TB.bind(null,n),Bi:IB.bind(null,n),Ys:_B.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await wB(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=DC();if(!iy.D(n))throw new U(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class fw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mB.bind(null,this.syncEngine),await U_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J3}()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=function(s){return new O3(s)}(e.databaseInfo);return function(s,o,a,l){return new L3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new U3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return g1.D()?new g1:new x3}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new iB(i,s,o,a,l,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=H(r);j("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Cl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Ct,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new eB(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new U(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=H(i),a={documents:s.map(h=>Nc(o.serializer,h))},l=await o.xo("BatchGetDocuments",o.serializer.databaseId,ce.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const p=W5(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return s.forEach(h=>{const p=c.get(h.toString());Z(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new U0(i,this.precondition(i)))}),await async function(r,i){const s=H(r),o={writes:i.map(a=>Oc(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,ce.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new U(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ee.min())?qe.exists(!1):qe.updateTime(n):qe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ee.min()))throw new U(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qe.updateTime(n)}return qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new Z0(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new AB(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!sd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Yb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=ub.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gh(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pw(t);j("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y1(e.remoteStore,i)),t._onlineComponents=e}function KC(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function pw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!KC(n))throw n;fr("Error using user provided cache. Falling back to memory cache: "+n),await Gh(t,new B_)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await Gh(t,new B_);return t._offlineComponents}async function mm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await z_(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await z_(t,new fw))),t._onlineComponents}function YC(t){return pw(t).then(e=>e.persistence)}function mw(t){return pw(t).then(e=>e.localStore)}function QC(t){return mm(t).then(e=>e.remoteStore)}function gw(t){return mm(t).then(e=>e.syncEngine)}function CB(t){return mm(t).then(e=>e.datastore)}async function pl(t){const e=await mm(t),n=e.eventManager;return n.onListen=sB.bind(null,e.syncEngine),n.onUnlisten=aB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lB.bind(null,e.syncEngine),n}function xB(t){return t.asyncQueue.enqueue(async()=>{const e=await YC(t),n=await QC(t);return e.setNetworkEnabled(!0),function(i){const s=H(i);return s.M_.delete(0),fd(s)}(n)})}function DB(t){return t.asyncQueue.enqueue(async()=>{const e=await YC(t),n=await QC(t);return e.setNetworkEnabled(!1),async function(i){const s=H(i);s.M_.add(0),await Cl(s),s.N_.set("Offline")}(n)})}function NB(t,e){const n=new Ct;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const h=H(c);return h.persistence.runTransaction("read document","readonly",p=>h.localDocuments.getDocument(p,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new U(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Nl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await mw(t),e,n)),n.promise}function JC(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new pm({next:p=>{o.enqueueAndForget(()=>sw(s,h));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new U(V.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new U(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new aw(Al(a.path),d,{includeMetadataChanges:!0,ra:!0});return iw(s,h)}(await pl(t),t.asyncQueue,e,n,r)),r.promise}function OB(t,e){const n=new Ct;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await zf(i,s,!0),l=new BC(s,a.hs),c=l.da(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=Nl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await mw(t),e,n)),n.promise}function XC(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new pm({next:p=>{o.enqueueAndForget(()=>sw(s,h)),p.fromCache&&l.source==="server"?c.reject(new U(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new aw(a,d,{includeMetadataChanges:!0,ra:!0});return iw(s,h)}(await pl(t),t.asyncQueue,e,n,r)),r.promise}function MB(t,e){const n=new pm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){H(i).z_.add(s),s.next()}(await pl(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){H(i).z_.delete(s)}(await pl(t),n))}}function VB(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?Jb().encode(o):o,function(d,h){return new RB(d,h)}(function(d,h){if(d instanceof Uint8Array)return T1(d,h);if(d instanceof ArrayBuffer)return T1(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,hd(e));t.asyncQueue.enqueueAndForget(async()=>{SB(await gw(t),i,r)})}function LB(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=H(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await mw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e,n){if(!n)throw new U(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ex(t,e,n,r){if(e===!0&&r===!0)throw new U(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P1(t){if(!G.isDocumentKey(t))throw new U(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R1(t){if(G.isDocumentKey(t))throw new U(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new U(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tx(t,e){if(e<=0)throw new U(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O$;switch(r.type){case"firstParty":return new F$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=S1.get(n);r&&(j("ComponentProvider","Removing Datastore"),S1.delete(n),r.terminate())}(this),Promise.resolve()}}function FB(t,e,n,r={}){var i;const s=(t=ye(t,pd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=rj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new U(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(c)}t._authCredentials=new M$(new lb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn=class nx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nx(this.firestore,e,this._query)}},Je=class rx{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rx(this.firestore,e,this._key)}},ds=class ix extends cn{constructor(e,n,r){super(e,n,Al(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new G(e))}withConverter(e){return new ix(this.firestore,e,this._path)}};function sx(t,e,...n){if(t=ne(t),yw("collection","path",e),t instanceof pd){const r=ce.fromString(e,...n);return R1(r),new ds(t,null,r)}{if(!(t instanceof Je||t instanceof ds))throw new U(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return R1(r),new ds(t.firestore,null,r)}}function UB(t,e){if(t=ye(t,pd),yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new U(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cn(t,null,function(r){return new Pi(ce.emptyPath(),r)}(e))}function Hf(t,e,...n){if(t=ne(t),arguments.length===1&&(e=ub.newId()),yw("doc","path",e),t instanceof pd){const r=ce.fromString(e,...n);return P1(r),new Je(t,null,new G(r))}{if(!(t instanceof Je||t instanceof ds))throw new U(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return P1(r),new Je(t.firestore,t instanceof ds?t.converter:null,new G(r))}}function ox(t,e){return t=ne(t),e=ne(e),(t instanceof Je||t instanceof ds)&&(e instanceof Je||e instanceof ds)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ax(t,e){return t=ne(t),e=ne(e),t instanceof cn&&e instanceof cn&&t.firestore===e.firestore&&ad(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Z0(this,"async_queue_retry"),this.hu=()=>{const n=qh();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=qh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ct;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Os(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ht("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=rw.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function W_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $B{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ct,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=-1;let st=class extends pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lx(this),this._firestoreClient.terminate()}};function Ot(t){return t._firestoreClient||lx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new f5(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ZC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new bB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function zB(t,e){cx(t=ye(t,st));const n=Ot(t);if(n._uninitializedComponentsProvider)throw new U(V.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new fw;return ux(n,i,new HC(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function WB(t){cx(t=ye(t,st));const e=Ot(t);if(e._uninitializedComponentsProvider)throw new U(V.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new fw;return ux(e,r,new PB(r,n.cacheSizeBytes))}function ux(t,e,n){const r=new Ct;return t.asyncQueue.enqueue(async()=>{try{await Gh(t,n),await z_(t,e),r.resolve()}catch(i){const s=i;if(!KC(s))throw s;fr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function qB(t){if(t._initialized&&!t._terminated)throw new U(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ct;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Mr.D())return Promise.resolve();const i=r+"main";await Mr.delete(i)}(Q0(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function GB(t){return function(n){const r=new Ct;return n.asyncQueue.enqueueAndForget(async()=>fB(await gw(n),r)),r.promise}(Ot(t=ye(t,st)))}function HB(t){return xB(Ot(t=ye(t,st)))}function KB(t){return DB(Ot(t=ye(t,st)))}function YB(t,e){const n=Ot(t=ye(t,st)),r=new $B;return VB(n,t._databaseId,e,r),r}function QB(t,e){return LB(Ot(t=ye(t,st)),e).then(n=>n?new cn(t,null,n.query):null)}function cx(t){if(t._initialized||t._terminated)throw new U(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(Pt.fromBase64String(e))}catch(n){throw new U(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=/^__.*__$/;class XB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class dx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class _m{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Kf(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(hx(this.fu)&&JB.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ZB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}Fu(e,n,r,i=!1){return new _m({fu:e,methodName:n,vu:r,path:We.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jo(t){const e=t._freezeSettings(),n=hd(t._databaseId);return new ZB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vm(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Sw("Data must be an object, but it was:",o,r);const a=mx(r,o);let l,c;if(s.merge)l=new vn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=q_(e,h,n);if(!o.contains(p))throw new U(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);yx(d,p)||d.push(p)}l=new vn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new XB(new jt(a),l,c)}class md extends Uo{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function fx(t,e,n){return new _m({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _w extends Uo{_toFieldTransform(e){return new ud(e.path,new ol)}isEqual(e){return e instanceof _w}}class vw extends Uo{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=fx(this,e,!0),r=this.Mu.map(s=>$o(s,n)),i=new To(r);return new ud(e.path,i)}isEqual(e){return e instanceof vw&&Tc(this.Mu,e.Mu)}}class ww extends Uo{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=fx(this,e,!0),r=this.Mu.map(s=>$o(s,n)),i=new So(r);return new ud(e.path,i)}isEqual(e){return e instanceof ww&&Tc(this.Mu,e.Mu)}}class Iw extends Uo{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new al(e.serializer,Bb(e.serializer,this.xu));return new ud(e.path,n)}isEqual(e){return e instanceof Iw&&this.xu===e.xu}}function Ew(t,e,n,r){const i=t.Fu(1,e,n);Sw("Data must be an object, but it was:",i,r);const s=[],o=jt.empty();Fo(r,(l,c)=>{const d=Pw(e,l,n);c=ne(c);const h=i.Su(d);if(c instanceof md)s.push(d);else{const p=$o(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new vn(s);return new dx(o,a,i.fieldTransforms)}function Tw(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[q_(e,r,n)],l=[i];if(s.length%2!=0)throw new U(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(q_(e,s[p])),l.push(s[p+1]);const c=[],d=jt.empty();for(let p=a.length-1;p>=0;--p)if(!yx(c,a[p])){const y=a[p];let T=l[p];T=ne(T);const w=o.Su(y);if(T instanceof md)c.push(y);else{const k=$o(T,w);k!=null&&(c.push(y),d.set(y,k))}}const h=new vn(c);return new dx(d,h,o.fieldTransforms)}function px(t,e,n,r=!1){return $o(n,t.Fu(r?4:3,e))}function $o(t,e){if(gx(t=ne(t)))return Sw("Unsupported field value:",e,t),mx(t,e);if(t instanceof Uo)return function(r,i){if(!hx(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$o(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:ll(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ll(i.serializer,s)}}if(r instanceof ym)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:eC(i.serializer,r._byteString)};if(r instanceof Je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:W0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${gm(r)}`)}(t,e)}function mx(t,e){const n={};return Eb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const s=$o(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ym||t instanceof Ur||t instanceof Je||t instanceof Uo)}function Sw(t,e,n){if(!gx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function q_(t,e,n){if((e=ne(e))instanceof Ps)return e._internalPath;if(typeof e=="string")return Pw(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const e6=new RegExp("[~\\*/\\[\\]]");function Pw(t,e,n){if(e.search(e6)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ps(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new U(V.INVALID_ARGUMENT,a+t+l)}function yx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t6 extends Mc{data(){return super.data()}}function wm(t,e){return typeof e=="string"?Pw(t,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}class gd extends Rw{}function Fi(t,e,...n){let r=[];e instanceof Rw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Aw).length,a=s.filter(l=>l instanceof Im).length;if(o>1||o>0&&a>0)throw new U(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Im extends gd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return wx(e._query,n),new cn(e.firestore,e.converter,C_(e._query,n))}_parse(e){const n=jo(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){b1(h,d);const y=[];for(const T of h)y.push(k1(l,s,T));p={arrayValue:{values:y}}}else p=k1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||b1(h,d),p=px(a,o,h,d==="in"||d==="not-in");return de.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n6(t,e,n){const r=e,i=wm("where",t);return Im._create(i,r,n)}class Aw extends Rw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Aw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Te.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)wx(o,l),o=C_(o,l)}(e._query,n),new cn(e.firestore,e.converter,C_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kw extends gd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new U(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dc(s,o)}(e._query,this._field,this._direction);return new cn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Pi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function r6(t,e="asc"){const n=e,r=wm("orderBy",t);return kw._create(r,n)}class Em extends gd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Em(e,n,r)}_apply(e){return new cn(e.firestore,e.converter,Uf(e._query,this._limit,this._limitType))}}function i6(t){return tx("limit",t),Em._create("limit",t,"F")}function s6(t){return tx("limitToLast",t),Em._create("limitToLast",t,"L")}class Tm extends gd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){const n=vx(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,s){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function o6(...t){return Tm._create("startAt",t,!0)}function a6(...t){return Tm._create("startAfter",t,!1)}class Sm extends gd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sm(e,n,r)}_apply(e){const n=vx(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,s){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function l6(...t){return Sm._create("endBefore",t,!1)}function u6(...t){return Sm._create("endAt",t,!0)}function vx(t,e,n,r){if(n[0]=ne(n[0]),n[0]instanceof Mc)return function(s,o,a,l,c){if(!l)throw new U(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of Fa(s))if(h.field.isKeyField())d.push(Io(o,l.key));else{const p=l.data.field(h.field);if(om(p))throw new U(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=h.field.canonicalString();throw new U(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(p)}return new Ts(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=jo(t.firestore);return function(o,a,l,c,d,h){const p=o.explicitOrderBy;if(d.length>p.length)throw new U(V.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let T=0;T<d.length;T++){const w=d[T];if(p[T].field.isKeyField()){if(typeof w!="string")throw new U(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!L0(o)&&w.indexOf("/")!==-1)throw new U(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const k=o.path.child(ce.fromString(w));if(!G.isDocumentKey(k))throw new U(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const I=new G(k);y.push(Io(a,I))}else{const k=px(l,c,w);y.push(k)}}return new Ts(y,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function k1(t,e,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new U(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L0(e)&&n.indexOf("/")!==-1)throw new U(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ce.fromString(n));if(!G.isDocumentKey(r))throw new U(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Io(t,new G(r))}if(n instanceof Je)return Io(t,n._key);throw new U(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(n)}.`)}function b1(t,e){if(!Array.isArray(t)||t.length===0)throw new U(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bw{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ym(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const n=vi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);Z(dC(r));const i=new Is(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||ht(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class c6 extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let wi=class extends Mc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Hu=class extends wi{data(e={}){return super.data(e)}},Rs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hu(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:d6(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function d6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function Ix(t,e){return t instanceof wi&&e instanceof wi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rs&&e instanceof Rs&&t._firestore===e._firestore&&ax(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){t=ye(t,Je);const e=ye(t.firestore,st);return JC(Ot(e),t._key).then(n=>Cw(e,t,n))}class Bo extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function f6(t){t=ye(t,Je);const e=ye(t.firestore,st),n=Ot(e),r=new Bo(e);return NB(n,t._key).then(i=>new wi(e,r,t._key,i,new ro(i!==null&&i.hasLocalMutations,!0),t.converter))}function p6(t){t=ye(t,Je);const e=ye(t.firestore,st);return JC(Ot(e),t._key,{source:"server"}).then(n=>Cw(e,t,n))}function m6(t){t=ye(t,cn);const e=ye(t.firestore,st),n=Ot(e),r=new Bo(e);return _x(t._query),XC(n,t._query).then(i=>new Rs(e,r,t,i))}function g6(t){t=ye(t,cn);const e=ye(t.firestore,st),n=Ot(e),r=new Bo(e);return OB(n,t._query).then(i=>new Rs(e,r,t,i))}function y6(t){t=ye(t,cn);const e=ye(t.firestore,st),n=Ot(e),r=new Bo(e);return XC(n,t._query,{source:"server"}).then(i=>new Rs(e,r,t,i))}function C1(t,e,n){t=ye(t,Je);const r=ye(t.firestore,st),i=Pm(t.converter,e,n);return yd(r,[vm(jo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qe.none())])}function x1(t,e,n,...r){t=ye(t,Je);const i=ye(t.firestore,st),s=jo(i);let o;return o=typeof(e=ne(e))=="string"||e instanceof Ps?Tw(s,"updateDoc",t._key,e,n,r):Ew(s,"updateDoc",t._key,e),yd(i,[o.toMutation(t._key,qe.exists(!0))])}function _6(t){return yd(ye(t.firestore,st),[new bl(t._key,qe.none())])}function v6(t,e){const n=ye(t.firestore,st),r=Hf(t),i=Pm(t.converter,e);return yd(n,[vm(jo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qe.exists(!1))]).then(()=>r)}function Ex(t,...e){var n,r,i;t=ne(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||W_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(W_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Je)c=ye(t.firestore,st),d=Al(t._key.path),l={next:h=>{e[o]&&e[o](Cw(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ye(t,cn);c=ye(h.firestore,st),d=h._query;const p=new Bo(c);l={next:y=>{e[o]&&e[o](new Rs(c,p,h,y))},error:e[o+1],complete:e[o+2]},_x(t._query)}return function(p,y,T,w){const k=new pm(w),I=new aw(y,k,T);return p.asyncQueue.enqueueAndForget(async()=>iw(await pl(p),I)),()=>{k.$a(),p.asyncQueue.enqueueAndForget(async()=>sw(await pl(p),I))}}(Ot(c),d,a,l)}function w6(t,e){return MB(Ot(t=ye(t,st)),W_(e)?e:{next:e})}function yd(t,e){return function(r,i){const s=new Ct;return r.asyncQueue.enqueueAndForget(async()=>uB(await gw(r),i,s)),s.promise}(Ot(t),e)}function Cw(t,e,n){const r=n.docs.get(e._key),i=new Bo(t);return new wi(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E6=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jo(e)}set(e,n,r){this._verifyNotCommitted();const i=Hi(e,this._firestore),s=Pm(i.converter,n,r),o=vm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Hi(e,this._firestore);let o;return o=typeof(n=ne(n))=="string"||n instanceof Ps?Tw(this._dataReader,"WriteBatch.update",s._key,n,r,i):Ew(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,qe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hi(e,this._firestore);return this._mutations=this._mutations.concat(new bl(n._key,qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Hi(t,e){if((t=ne(t)).firestore!==e)throw new U(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T6=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=jo(n)}get(n){const r=Hi(n,this._firestore),i=new c6(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Q();const o=s[0];if(o.isFoundDocument())return new Mc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Mc(this._firestore,i,r._key,null,r.converter);throw Q()})}set(n,r,i){const s=Hi(n,this._firestore),o=Pm(s.converter,r,i),a=vm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Hi(n,this._firestore);let a;return a=typeof(r=ne(r))=="string"||r instanceof Ps?Tw(this._dataReader,"Transaction.update",o._key,r,i,s):Ew(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Hi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hi(e,this._firestore),r=new Bo(this._firestore);return super.get(e).then(i=>new wi(this._firestore,r,n._key,i._document,new ro(!1,!1),n.converter))}};function S6(t,e,n){t=ye(t,st);const r=Object.assign(Object.assign({},I6),n);return function(s){if(s.maxAttempts<1)throw new U(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ct;return s.asyncQueue.enqueueAndForget(async()=>{const c=await CB(s);new kB(s.asyncQueue,c,a,o,l).Xa()}),l.promise}(Ot(t),i=>e(new T6(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(){return new md("deleteField")}function R6(){return new _w("serverTimestamp")}function A6(...t){return new vw("arrayUnion",t)}function k6(...t){return new ww("arrayRemove",t)}function b6(t){return new Iw("increment",t)}(function(e,n=!0){(function(i){Rl=i})(Ds),_s(new Lr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new st(new V$(r.getProvider("auth-internal")),new j$(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Is(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dr(SS,"4.6.4",e),dr(SS,"4.6.4","esm2017")})();const C6="@firebase/firestore-compat",x6="0.3.33";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new U("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){if(typeof Uint8Array>"u")throw new U("unimplemented","Uint8Arrays are not available in this environment.")}function N1(){if(!d5())throw new U("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vc{constructor(e){this._delegate=e}static fromBase64String(e){return N1(),new Vc(Ur.fromBase64String(e))}static fromUint8Array(e){return D1(),new Vc(Ur.fromUint8Array(e))}toBase64(){return N1(),this._delegate.toBase64()}toUint8Array(){return D1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return D6(t,["next","error","complete"])}function D6(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{enableIndexedDbPersistence(e,n){return zB(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return WB(e._delegate)}clearIndexedDbPersistence(e){return qB(e._delegate)}}class Tx{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Is||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){FB(this._delegate,e,n,r)}enableNetwork(){return HB(this._delegate)}disableNetwork(){return KB(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ex("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return GB(this._delegate)}onSnapshotsInSync(e){return w6(this._delegate,e)}get app(){if(!this._appCompat)throw new U("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ml(this,sx(this._delegate,e))}catch(n){throw sn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Gn(this,Hf(this._delegate,e))}catch(n){throw sn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rn(this,UB(this._delegate,e))}catch(n){throw sn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return S6(this._delegate,n=>e(new Sx(this,n)))}batch(){return Ot(this._delegate),new Px(new E6(this._delegate,e=>yd(this._delegate,e)))}loadBundle(e){return YB(this._delegate,e)}namedQuery(e){return QB(this._delegate,e).then(n=>n?new rn(this,n):null)}}class Rm extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(new Ur(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Gn.forKey(n,this.firestore,null)}}function O6(t){D$(t)}class Sx{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Rm(e)}get(e){const n=io(e);return this._delegate.get(n).then(r=>new Lc(this._firestore,new wi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=io(e);return r?(xw("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=io(e);return this._delegate.delete(n),this}}class Px{constructor(e){this._delegate=e}set(e,n,r){const i=io(e);return r?(xw("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=io(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ko{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Hu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ko.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ko(e,new Rm(e),n),i.set(n,s)),s}}ko.INSTANCES=new WeakMap;class Gn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Rm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new U("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gn(n,new Je(n._delegate,r,new G(e)))}static forKey(e,n,r){return new Gn(n,new Je(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ml(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ml(this.firestore,sx(this._delegate,e))}catch(n){throw sn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ne(e),e instanceof Je?ox(this._delegate,e):!1}set(e,n){n=xw("DocumentReference.set",n);try{return n?C1(this._delegate,e,n):C1(this._delegate,e)}catch(r){throw sn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?x1(this._delegate,e):x1(this._delegate,e,n,...r)}catch(i){throw sn(i,"updateDoc()","DocumentReference.update()")}}delete(){return _6(this._delegate)}onSnapshot(...e){const n=Rx(e),r=Ax(e,i=>new Lc(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ex(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=f6(this._delegate):(e==null?void 0:e.source)==="server"?n=p6(this._delegate):n=h6(this._delegate),n.then(r=>new Lc(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Gn(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sn(t,e,n){return t.message=t.message.replace(e,n),t}function Rx(t){for(const e of t)if(typeof e=="object"&&!G_(e))return e;return{}}function Ax(t,e){var n,r;let i;return G_(t[0])?i=t[0]:G_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Lc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Gn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Ix(this._delegate,e._delegate)}}class Fc extends Lc{data(e){const n=this._delegate.data(e);return this._delegate._converter||N$(n!==void 0),n}}class rn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Rm(e)}where(e,n,r){try{return new rn(this.firestore,Fi(this._delegate,n6(e,n,r)))}catch(i){throw sn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new rn(this.firestore,Fi(this._delegate,r6(e,n)))}catch(r){throw sn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rn(this.firestore,Fi(this._delegate,i6(e)))}catch(n){throw sn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new rn(this.firestore,Fi(this._delegate,s6(e)))}catch(n){throw sn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rn(this.firestore,Fi(this._delegate,o6(...e)))}catch(n){throw sn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rn(this.firestore,Fi(this._delegate,a6(...e)))}catch(n){throw sn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rn(this.firestore,Fi(this._delegate,l6(...e)))}catch(n){throw sn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rn(this.firestore,Fi(this._delegate,u6(...e)))}catch(n){throw sn(n,"endAt()","Query.endAt()")}}isEqual(e){return ax(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=g6(this._delegate):(e==null?void 0:e.source)==="server"?n=y6(this._delegate):n=m6(this._delegate),n.then(r=>new H_(this.firestore,new Rs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Rx(e),r=Ax(e,i=>new H_(this.firestore,new Rs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ex(this._delegate,n,r)}withConverter(e){return new rn(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class M6{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Fc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class H_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new M6(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Fc(this._firestore,r))})}isEqual(e){return Ix(this._delegate,e._delegate)}}class ml extends rn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gn(this.firestore,e):null}doc(e){try{return e===void 0?new Gn(this.firestore,Hf(this._delegate)):new Gn(this.firestore,Hf(this._delegate,e))}catch(n){throw sn(n,"doc()","CollectionReference.doc()")}}add(e){return v6(this._delegate,e).then(n=>new Gn(this.firestore,n))}isEqual(e){return ox(this._delegate,e._delegate)}withConverter(e){return new ml(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function io(t){return ye(t,Je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(...e){this._delegate=new Ps(...e)}static documentId(){return new Dw(We.keyField().canonicalString())}isEqual(e){return e=ne(e),e instanceof Ps?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._delegate=e}static serverTimestamp(){const e=R6();return e._methodName="FieldValue.serverTimestamp",new Zs(e)}static delete(){const e=P6();return e._methodName="FieldValue.delete",new Zs(e)}static arrayUnion(...e){const n=A6(...e);return n._methodName="FieldValue.arrayUnion",new Zs(n)}static arrayRemove(...e){const n=k6(...e);return n._methodName="FieldValue.arrayRemove",new Zs(n)}static increment(e){const n=b6(e);return n._methodName="FieldValue.increment",new Zs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={Firestore:Tx,GeoPoint:ym,Timestamp:Ge,Blob:Vc,Transaction:Sx,WriteBatch:Px,DocumentReference:Gn,DocumentSnapshot:Lc,Query:rn,QueryDocumentSnapshot:Fc,QuerySnapshot:H_,CollectionReference:ml,FieldPath:Dw,FieldValue:Zs,setLogLevel:O6,CACHE_SIZE_UNLIMITED:BB};function L6(t,e){t.INTERNAL.registerComponent(new Lr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},V6)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){L6(t,(e,n)=>new Tx(e,n,new N6)),t.registerVersion(C6,x6)}F6(Lo);function Nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const gu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},sa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j6=U6,$6=kx,bx=new Vo("auth","Firebase",kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new im("@firebase/auth");function B6(t,...e){Yf.logLevel<=le.WARN&&Yf.warn(`Auth (${Ds}): ${t}`,...e)}function Hh(t,...e){Yf.logLevel<=le.ERROR&&Yf.error(`Auth (${Ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,...e){throw Mw(t,...e)}function St(t,...e){return Mw(t,...e)}function Ow(t,e,n){const r=Object.assign(Object.assign({},$6()),{[e]:n});return new Vo("auth","Firebase",r).create(e,{appName:t.name})}function xt(t){return Ow(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ol(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zt(t,"argument-error"),Ow(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bx.create(t,...e)}function z(t,e,...n){if(!t)throw Mw(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function pr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vw(){return O1()==="http:"||O1()==="https:"}function O1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vw()||Fk()||"connection"in navigator)?navigator.onLine:!0}function W6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=ij()||A0()}get(){return z6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new _d(3e4,6e4);function at(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lt(t,e,n,r,i={}){return xx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Cx.fetch()(Dx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function xx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q6),e);try{const i=new K6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ow(t,d,c);zt(t,d)}}catch(i){if(i instanceof an)throw i;zt(t,"network-request-failed",{message:String(i)})}}async function ki(t,e,n,r,i={}){const s=await lt(t,e,n,r,i);return"mfaPendingCredential"in s&&zt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Dx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lw(t.config,i):`${t.config.apiScheme}://${i}`}function H6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(St(this.auth,"network-request-failed")),G6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=St(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return t!==void 0&&t.getResponse!==void 0}function V1(t){return t!==void 0&&t.enterprise!==void 0}class Y6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t){return(await lt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function J6(t,e){return lt(t,"GET","/v2/recaptchaConfig",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){return lt(t,"POST","/v1/accounts:delete",e)}async function Z6(t,e){return lt(t,"POST","/v1/accounts:update",e)}async function Nx(t,e){return lt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e9(t,e=!1){const n=ne(t),r=await n.getIdToken(e),i=Am(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ku(oy(i.auth_time)),issuedAtTime:Ku(oy(i.iat)),expirationTime:Ku(oy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function oy(t){return Number(t)*1e3}function Am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ok(n);return i?JSON.parse(i):(Hh("Failed to decode base64 JWT payload"),null)}catch(i){return Hh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L1(t){const e=Am(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof an&&t9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ii(t,Nx(n,{idToken:r}));z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ox(s.providerUserInfo):[],a=i9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new K_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function r9(t){const e=ne(t);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ox(t){return t.map(e=>{var{providerId:n}=e,r=Nw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){const n=await xx(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Dx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o9(t,e){return lt(t,"POST","/v2/accounts:revokeToken",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");const n=L1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ja;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ii(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e9(this,e)}reload(){return r9(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(xt(this.auth));const e=await this.getIdToken();return await Ii(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:O,isAnonymous:M,providerData:F,stsTokenManager:E}=n;z(S&&E,e,"internal-error");const _=ja.fromJSON(this.name,E);z(typeof S=="string",e,"internal-error"),Ui(h,e.name),Ui(p,e.name),z(typeof O=="boolean",e,"internal-error"),z(typeof M=="boolean",e,"internal-error"),Ui(y,e.name),Ui(T,e.name),Ui(w,e.name),Ui(k,e.name),Ui(I,e.name),Ui(v,e.name);const P=new si({uid:S,auth:e,email:p,emailVerified:O,displayName:h,isAnonymous:M,photoURL:T,phoneNumber:y,tenantId:w,stsTokenManager:_,createdAt:I,lastLoginAt:v});return F&&Array.isArray(F)&&(P.providerData=F.map(R=>Object.assign({},R))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new ja;i.updateFromServerResponse(n);const s=new si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ox(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ja;a.updateFromIdToken(r);const l=new si({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new K_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;function Cn(t){pr(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mx.type="NONE";const gl=Mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=co(this.userKey,i.apiKey,s),this.fullPersistenceKey=co("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $a(Cn(gl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Cn(gl);const o=co(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=si._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new $a(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new $a(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ux(e))return"Blackberry";if(jx(e))return"Webos";if(Fw(e))return"Safari";if((e.includes("chrome/")||Lx(e))&&!e.includes("edge/"))return"Chrome";if(vd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vx(t=He()){return/firefox\//i.test(t)}function Fw(t=He()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lx(t=He()){return/crios\//i.test(t)}function Fx(t=He()){return/iemobile/i.test(t)}function vd(t=He()){return/android/i.test(t)}function Ux(t=He()){return/blackberry/i.test(t)}function jx(t=He()){return/webos/i.test(t)}function Ml(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a9(t=He()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function l9(t=He()){var e;return Ml(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u9(){return Uk()&&document.documentMode===10}function $x(t=He()){return Ml(t)||vd(t)||jx(t)||Ux(t)||/windows phone/i.test(t)||Fx(t)}function c9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e=[]){let n;switch(t){case"Browser":n=U1(He());break;case"Worker":n=`${U1(He())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e={}){return lt(t,"GET","/v2/passwordPolicy",at(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=6;class p9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new d9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nx(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(it(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(xt(this));const n=e?ne(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(xt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(xt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h9(this),n=new p9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ot(t){return ne(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=$k(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g9(t){wd=t}function Uw(t){return wd.loadJS(t)}function y9(){return wd.recaptchaV2Script}function _9(){return wd.recaptchaEnterpriseScript}function v9(){return wd.gapiScript}function zx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const w9="recaptcha-enterprise",I9="NO_RECAPTCHA";class E9{constructor(e){this.type=w9,this.auth=ot(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{J6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;V1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(I9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&V1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_9();l.length!==0&&(l+=a),Uw(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $1(t,e,n,r=!1){const i=new E9(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $c(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function T9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S9(t,e,n){const r=ot(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Wx(e),{host:o,port:a}=P9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||R9()}function Wx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P9(t){const e=Wx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:B1(o)}}}function B1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e){return lt(t,"POST","/v1/accounts:resetPassword",at(t,e))}async function A9(t,e){return lt(t,"POST","/v1/accounts:update",e)}async function k9(t,e){return lt(t,"POST","/v1/accounts:signUp",e)}async function b9(t,e){return lt(t,"POST","/v1/accounts:update",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return ki(t,"POST","/v1/accounts:signInWithPassword",at(t,e))}async function km(t,e){return lt(t,"POST","/v1/accounts:sendOobCode",at(t,e))}async function x9(t,e){return km(t,e)}async function D9(t,e){return km(t,e)}async function N9(t,e){return km(t,e)}async function O9(t,e){return km(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){return ki(t,"POST","/v1/accounts:signInWithEmailLink",at(t,e))}async function V9(t,e){return ki(t,"POST","/v1/accounts:signInWithEmailLink",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Vl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(e,n,"signInWithPassword",C9);case"emailLink":return M9(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(e,r,"signUpPassword",k9);case"emailLink":return V9(e,{idToken:n,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function di(t,e){return ki(t,"POST","/v1/accounts:signInWithIdp",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="http://localhost";class jr extends Vl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new jr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return di(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,di(e,n)}buildRequest(){const e={requestUri:L9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){return lt(t,"POST","/v1/accounts:sendVerificationCode",at(t,e))}async function U9(t,e){return ki(t,"POST","/v1/accounts:signInWithPhoneNumber",at(t,e))}async function j9(t,e){const n=await ki(t,"POST","/v1/accounts:signInWithPhoneNumber",at(t,e));if(n.temporaryProof)throw Cu(t,"account-exists-with-different-credential",n);return n}const $9={USER_NOT_FOUND:"user-not-found"};async function B9(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ki(t,"POST","/v1/accounts:signInWithPhoneNumber",at(t,n),$9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Vl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ho({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ho({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return U9(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return j9(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return B9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new ho({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W9(t){const e=ka(Pu(t)).link,n=e?ka(Pu(e)).deep_link_id:null,r=ka(Pu(t)).deep_link_id;return(r?ka(Pu(r)).link:null)||r||n||e||t}class bm{constructor(e){var n,r,i,s,o,a;const l=ka(Pu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=z9((i=l.mode)!==null&&i!==void 0?i:null);z(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W9(e);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.providerId=Ls.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bm.parseLink(n);return z(r,"argument-error"),Bc._fromEmailAndCode(e,r.code,r.tenantId)}}Ls.PROVIDER_ID="password";Ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ba extends Ll{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return z("providerId"in n&&"signInMethod"in n,"argument-error"),jr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return z(e.idToken||e.accessToken,"argument-error"),jr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ba.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ba.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ba(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ll{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jr._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ll{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="http://localhost";class yl extends Vl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return di(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,di(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new yl(r,s)}static _create(e,n){return new yl(e,n)}buildRequest(){return{requestUri:q9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="saml.";class Qf extends bi{constructor(e){z(e.startsWith(G9),"argument-error"),super(e)}static credentialFromResult(e){return Qf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Qf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=yl.fromJSON(e);return z(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return yl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ll{constructor(){super("twitter.com")}static credential(e,n){return jr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e){return ki(t,"POST","/v1/accounts:signUp",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await si._fromIdTokenResponse(e,r,i),o=z1(r);return new Xn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=z1(r);return new Xn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(t){var e;if(it(t.app))return Promise.reject(xt(t));const n=ot(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Gx(n,{returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends an{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jf(e,n,r,i)}}function Hx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){const n=ne(t);await Cm(!0,n,e);const{providerUserInfo:r}=await Z6(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=Kx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function jw(t,e,n=!1){const r=await Ii(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xn._forOperation(t,"link",r)}async function Cm(t,e,n){await jc(e);const r=Kx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";z(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e,n=!1){const{auth:r}=t;if(it(r.app))return Promise.reject(xt(r));const i="reauthenticate";try{const s=await Ii(t,Hx(r,i,e,t),n);z(s.idToken,r,"internal-error");const o=Am(s.idToken);z(o,r,"internal-error");const{sub:a}=o;return z(t.uid===a,r,"user-mismatch"),Xn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t,e,n=!1){if(it(t.app))return Promise.reject(xt(t));const r="signIn",i=await Hx(t,r,e),s=await Xn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xm(t,e){return Qx(ot(t),e)}async function Jx(t,e){const n=ne(t);return await Cm(!1,n,e.providerId),jw(n,e)}async function Xx(t,e){return Yx(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e){return ki(t,"POST","/v1/accounts:signInWithCustomToken",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){if(it(t.app))return Promise.reject(xt(t));const n=ot(t),r=await Y9(n,{token:e,returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?$w._fromServerResponse(e,n):"totpInfo"in n?Bw._fromServerResponse(e,n):zt(e,"internal-error")}}class $w extends Id{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new $w(n)}}class Bw extends Id{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Bw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t,e,n){var r;z(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t){const e=ot(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function J9(t,e,n){const r=ot(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Dm(r,i,n),await $c(r,i,"getOobCode",D9)}async function X9(t,e,n){await qx(ne(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zw(t),r})}async function Z9(t,e){await b9(ne(t),{oobCode:e})}async function Zx(t,e){const n=ne(t),r=await qx(n,{oobCode:e}),i=r.requestType;switch(z(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(r.mfaInfo,n,"internal-error");default:z(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Id._fromServerResponse(ot(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ez(t,e){const{data:n}=await Zx(ne(t),e);return n.email}async function tz(t,e,n){if(it(t.app))return Promise.reject(xt(t));const r=ot(t),o=await $c(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zw(t),l}),a=await Xn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nz(t,e,n){return it(t.app)?Promise.reject(xt(t)):xm(ne(t),Ls.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zw(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e,n){const r=ot(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){z(a.handleCodeInApp,r,"argument-error"),a&&Dm(r,o,a)}s(i,n),await $c(r,i,"getOobCode",N9)}function iz(t,e){const n=bm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function sz(t,e,n){if(it(t.app))return Promise.reject(xt(t));const r=ne(t),i=Ls.credentialWithLink(e,n||Uc());return z(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e){return lt(t,"POST","/v1/accounts:createAuthUri",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){const n=Vw()?Uc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await oz(ne(t),r);return i||[]}async function lz(t,e){const n=ne(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Dm(n.auth,i,e);const{email:s}=await x9(n.auth,i);s!==t.email&&await t.reload()}async function uz(t,e,n){const r=ne(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Dm(r.auth,s,n);const{email:o}=await O9(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e){return lt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ne(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ii(r,cz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function hz(t,e){const n=ne(t);return it(n.auth.app)?Promise.reject(xt(n.auth)):eD(n,e,null)}function fz(t,e){return eD(ne(t),null,e)}async function eD(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ii(t,A9(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Am(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new za(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new mz(s,i);case"github.com":return new gz(s,i);case"google.com":return new yz(s,i);case"twitter.com":return new _z(s,i,t.screenName||null);case"custom":case"anonymous":return new za(s,null);default:return new za(s,r,i)}}class za{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class tD extends za{constructor(e,n,r,i){super(e,n,r),this.username=i}}class mz extends za{constructor(e,n){super(e,"facebook.com",n)}}class gz extends tD{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class yz extends za{constructor(e,n){super(e,"google.com",n)}}class _z extends tD{constructor(e,n,r){super(e,"twitter.com",n,r)}}function vz(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:pz(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new so("enroll",e,n)}static _fromMfaPendingCredential(e){return new so("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return so._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return so._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=ot(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Id._fromServerResponse(r,a));z(i.mfaPendingCredential,r,"internal-error");const o=so._fromMfaPendingCredential(i.mfaPendingCredential);return new Ww(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Xn._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return z(n.user,r,"internal-error"),Xn._forOperation(n.user,n.operationType,c);default:zt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function wz(t,e){var n;const r=ne(t),i=e;return z(e.customData.operationType,r,"argument-error"),z((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Ww._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){return lt(t,"POST","/v2/accounts/mfaEnrollment:start",at(t,e))}function Ez(t,e){return lt(t,"POST","/v2/accounts/mfaEnrollment:finalize",at(t,e))}function Tz(t,e){return lt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",at(t,e))}class qw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Id._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new qw(e)}async getSession(){return so._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ii(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ii(this.user,Tz(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ay=new WeakMap;function Sz(t){const e=ne(t);return ay.has(e)||ay.set(e,qw._fromUser(e)),ay.get(e)}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(){const t=He();return Fw(t)||Ml(t)}const Rz=1e3,Az=10;class rD extends nD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Pz()&&c9(),this.fallbackToPolling=$x(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);u9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Az):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rD.type="LOCAL";const Gw=rD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends nD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iD.type="SESSION";const bo=iD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await kz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Ed("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return window}function Cz(t){yt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof yt().WorkerGlobalScope<"u"&&typeof yt().importScripts=="function"}async function xz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Nz(){return Hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebaseLocalStorageDb",Oz=1,Zf="firebaseLocalStorage",oD="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Om(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function Mz(){const t=indexedDB.deleteDatabase(sD);return new Td(t).toPromise()}function Y_(){const t=indexedDB.open(sD,Oz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:oD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await Mz(),e(await Y_()))})})}async function W1(t,e,n){const r=Om(t,!0).put({[oD]:e,value:n});return new Td(r).toPromise()}async function Vz(t,e){const n=Om(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=Om(t,!0).delete(e);return new Td(n).toPromise()}const Lz=800,Fz=3;class aD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Fz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nm._getInstance(Nz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xz(),!this.activeServiceWorker)return;this.sender=new bz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y_();return await W1(e,Xf,"1"),await q1(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Vz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Om(i,!1).getAll();return new Td(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aD.type="LOCAL";const zc=aD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t,e){return lt(t,"POST","/v2/accounts/mfaSignIn:start",at(t,e))}function jz(t,e){return lt(t,"POST","/v2/accounts/mfaSignIn:finalize",at(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=500,Bz=6e4,gh=1e12;class zz{constructor(e){this.auth=e,this.counter=gh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Wz(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Wz{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;z(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=qz(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Bz)},$z))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function qz(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=zx("rcb"),Gz=new _d(3e4,6e4);class Hz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=yt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return z(Kz(n),e,"argument-error"),this.shouldResolveImmediately(n)&&M1(yt().grecaptcha)?Promise.resolve(yt().grecaptcha):new Promise((r,i)=>{const s=yt().setTimeout(()=>{i(St(e,"network-request-failed"))},Gz.get());yt()[ly]=()=>{yt().clearTimeout(s),delete yt()[ly];const a=yt().grecaptcha;if(!a||!M1(a)){i(St(e,"internal-error"));return}const l=a.render;a.render=(c,d)=>{const h=l(c,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${y9()}?${Pl({onload:ly,render:"explicit",hl:n})}`;Uw(o).catch(()=>{clearTimeout(s),i(St(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=yt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Kz(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Yz{async load(e){return new zz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="recaptcha",Qz={theme:"light",type:"image"};let Jz=class{constructor(e,n,r=Object.assign({},Qz)){this.parameters=r,this.type=lD,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(e),this.isInvisible=this.parameters.size==="invisible",z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;z(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yz:new Hz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=yt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){z(Vw()&&!Hw(),this.auth,"internal-error"),await Xz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Q6(this.auth);z(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Xz(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ho._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Zz(t,e,n){if(it(t.app))return Promise.reject(xt(t));const r=ot(t),i=await Mm(r,e,ne(n));return new Kw(i,s=>xm(r,s))}async function eW(t,e,n){const r=ne(t);await Cm(!1,r,"phone");const i=await Mm(r.auth,e,ne(n));return new Kw(i,s=>Jx(r,s))}async function tW(t,e,n){const r=ne(t);if(it(r.auth.app))return Promise.reject(xt(r.auth));const i=await Mm(r.auth,e,ne(n));return new Kw(i,s=>Xx(r,s))}async function Mm(t,e,n){var r;const i=await n.verify();try{z(typeof i=="string",t,"argument-error"),z(n.type===lD,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return z(o.type==="enroll",t,"internal-error"),(await Iz(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{z(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return z(a,t,"missing-multi-factor-info"),(await Uz(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await F9(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function nW(t,e){const n=ne(t);if(it(n.auth.app))return Promise.reject(xt(n.auth));await jw(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=class Kh{constructor(e){this.providerId=Kh.PROVIDER_ID,this.auth=ot(e)}verifyPhoneNumber(e,n){return Mm(this.auth,e,ne(n))}static credential(e,n){return ho._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Kh.credentialFromTaggedObject(n)}static credentialFromError(e){return Kh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ho._fromTokenResponse(n,r):null}};Co.PROVIDER_ID="phone";Co.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return e?Cn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Vl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rW(t){return Qx(t.auth,new Yw(t),t.bypassAuthState)}function iW(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),Yx(n,new Yw(t),t.bypassAuthState)}async function sW(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),jw(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rW;case"linkViaPopup":case"linkViaRedirect":return sW;case"reauthViaPopup":case"reauthViaRedirect":return iW;default:zt(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new _d(2e3,1e4);async function aW(t,e,n){if(it(t.app))return Promise.reject(St(t,"operation-not-supported-in-this-environment"));const r=ot(t);Ol(t,e,bi);const i=zo(r,n);return new oi(r,"signInViaPopup",e,i).executeNotNull()}async function lW(t,e,n){const r=ne(t);if(it(r.auth.app))return Promise.reject(St(r.auth,"operation-not-supported-in-this-environment"));Ol(r.auth,e,bi);const i=zo(r.auth,n);return new oi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function uW(t,e,n){const r=ne(t);Ol(r.auth,e,bi);const i=zo(r.auth,n);return new oi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class oi extends uD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Ed();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(St(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oW.get())};e()}}oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="pendingRedirect",Yu=new Map;class dW extends uD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const r=await hW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hW(t,e){const n=dD(e),r=cD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Qw(t,e){return cD(t)._set(dD(e),"true")}function fW(){Yu.clear()}function Jw(t,e){Yu.set(t._key(),e)}function cD(t){return Cn(t._redirectPersistence)}function dD(t){return co(cW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(t,e,n){return mW(t,e,n)}async function mW(t,e,n){if(it(t.app))return Promise.reject(xt(t));const r=ot(t);Ol(t,e,bi),await r._initializationPromise;const i=zo(r,n);return await Qw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function gW(t,e,n){return yW(t,e,n)}async function yW(t,e,n){const r=ne(t);if(Ol(r.auth,e,bi),it(r.auth.app))return Promise.reject(xt(r.auth));await r.auth._initializationPromise;const i=zo(r.auth,n);await Qw(i,r.auth);const s=await hD(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function _W(t,e,n){return vW(t,e,n)}async function vW(t,e,n){const r=ne(t);Ol(r.auth,e,bi),await r.auth._initializationPromise;const i=zo(r.auth,n);await Cm(!1,r,e.providerId),await Qw(i,r.auth);const s=await hD(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function wW(t,e){return await ot(t)._initializationPromise,Vm(t,e,!1)}async function Vm(t,e,n=!1){if(it(t.app))return Promise.reject(xt(t));const r=ot(t),i=zo(r,e),o=await new dW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function hD(t){const e=Ed(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=10*60*1e3;class fD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(St(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IW&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e={}){return lt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SW=/^https?/;async function PW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mD(t);for(const n of e)try{if(RW(n))return}catch{}zt(t,"unauthorized-domain")}function RW(t){const e=Uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SW.test(n))return!1;if(TW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=new _d(3e4,6e4);function H1(){const t=yt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kW(t){return new Promise((e,n)=>{var r,i,s;function o(){H1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H1(),n(St(t,"network-request-failed"))},timeout:AW.get()})}if(!((i=(r=yt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yt().gapi)===null||s===void 0)&&s.load)o();else{const a=zx("iframefcb");return yt()[a]=()=>{gapi.load?o():n(St(t,"network-request-failed"))},Uw(`${v9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function bW(t){return Yh=Yh||kW(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=new _d(5e3,15e3),xW="__/auth/iframe",DW="emulator/auth/iframe",NW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MW(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lw(e,DW):`https://${t.config.authDomain}/${xW}`,r={apiKey:e.apiKey,appName:t.name,v:Ds},i=OW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pl(r).slice(1)}`}async function VW(t){const e=await bW(t),n=yt().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:MW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=St(t,"network-request-failed"),a=yt().setTimeout(()=>{s(o)},CW.get());function l(){yt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FW=500,UW=600,jW="_blank",$W="http://localhost";class K1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BW(t,e,n,r=FW,i=UW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LW),{width:r.toString(),height:i.toString(),top:s,left:o}),c=He().toLowerCase();n&&(a=Lx(c)?jW:n),Vx(c)&&(e=e||$W,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,T])=>`${p}${y}=${T},`,"");if(l9(c)&&a!=="_self")return zW(e||"",a),new K1(null);const h=window.open(e||"",a,d);z(h,t,"popup-blocked");try{h.focus()}catch{}return new K1(h)}function zW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="__/auth/handler",qW="emulator/auth/handler",GW=encodeURIComponent("fac");async function Q_(t,e,n,r,i,s){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ds,eventId:i};if(e instanceof bi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Ll){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${GW}=${encodeURIComponent(l)}`:"";return`${HW(t)}?${Pl(a).slice(1)}${c}`}function HW({config:t}){return t.emulator?Lw(t,qW):`https://${t.authDomain}/${WW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class KW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=Vm,this._overrideRedirectResult=Jw}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Q_(e,n,r,Uc(),i);return BW(e,o,Ed())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Q_(e,n,r,Uc(),i);return Cz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VW(e),r=new fD(e);return n.register("authEvent",i=>(z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uy,{type:uy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[uy];o!==void 0&&n(!!o),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $x()||Fw()||Ml()}}const YW=KW;class QW{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Cr("unexpected MultiFactorSessionType")}}}class Xw extends QW{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Xw(e)}_finalizeEnroll(e,n,r){return Ez(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return jz(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class gD{constructor(){}static assertion(e){return Xw._fromCredential(e)}}gD.FACTOR_ID="phone";var Y1="@firebase/auth",Q1="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZW(t){_s(new Lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bx(t)},c=new m9(r,i,s,l);return T9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new Lr("auth-internal",e=>{const n=ot(e.getProvider("auth").getImmediate());return(r=>new JW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Y1,Q1,XW(t)),dr(Y1,Q1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=5*60;tj("authIdTokenMaxAge");function tq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=St("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZW("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=2e3;async function rq(t,e,n){var r;const{BuildInfo:i}=xo();pr(e.sessionId,"AuthEvent did not contain a session ID");const s=await lq(e.sessionId),o={};return Ml()?o.ibi=i.packageName:vd()?o.apn=i.packageName:zt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Q_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function iq(t){const{BuildInfo:e}=xo(),n={};Ml()?n.iosBundleId=e.packageName:vd()?n.androidPackageName=e.packageName:zt(t,"operation-not-supported-in-this-environment"),await mD(t,n)}function sq(t){const{cordova:e}=xo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,a9()?"_blank":"_system","location=yes"),n(i)})})}async function oq(t,e,n){const{cordova:r}=xo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const p=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(St(t,"redirect-cancelled-by-user"))},nq))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),vd()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function aq(t){var e,n,r,i,s,o,a,l,c,d;const h=xo();z(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z(typeof((d=(c=h==null?void 0:h.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function lq(t){const e=uq(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function uq(t){if(pr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=20;class dq extends fD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function hq(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:mq(),postBody:null,tenantId:t.tenantId,error:St(t,"no-auth-event")}}function fq(t,e){return J_()._set(X_(t),e)}async function J1(t){const e=await J_()._get(X_(t));return e&&await J_()._remove(X_(t)),e}function pq(t,e){var n,r;const i=yq(e);if(i.includes("/__/auth/callback")){const s=Qh(i),o=s.firebaseError?gq(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?St(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function mq(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<cq;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function J_(){return Cn(Gw)}function X_(t){return co("authEvent",t.config.apiKey,t.name)}function gq(t){try{return JSON.parse(t)}catch{return null}}function yq(t){const e=Qh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Qh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Qh(i).link||i||r||n||t}function Qh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ka(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=500;class vq{constructor(){this._redirectPersistence=bo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vm,this._overrideRedirectResult=Jw}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new dq(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){zt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){aq(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),fW(),await this._originValidation(e);const o=hq(e,r,i);await fq(e,o);const a=await rq(e,o,n),l=await sq(a);return oq(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iq(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xo(),o=setTimeout(async()=>{await J1(e),n.onEvent(X1())},_q),a=async d=>{clearTimeout(o);const h=await J1(e);let p=null;h&&(d!=null&&d.url)&&(p=pq(h,d.url)),n.onEvent(p||X1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;xo().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const wq=vq;function X1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:St("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){ot(t)._logFramework(e)}var Eq="@firebase/auth-compat",Tq="0.5.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=1e3;function Qu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Pq(){return Qu()==="http:"||Qu()==="https:"}function yD(t=He()){return!!((Qu()==="file:"||Qu()==="ionic:"||Qu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rq(){return A0()||R0()}function Aq(){return Uk()&&(document==null?void 0:document.documentMode)===11}function kq(t=He()){return/Edge\/\d+/.test(t)}function bq(t=He()){return Aq()||kq(t)}function _D(){try{const t=self.localStorage,e=Ed();if(t)return t.setItem(e,"1"),t.removeItem(e),bq()?Ec():!0}catch{return Zw()&&Ec()}return!1}function Zw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cy(){return(Pq()||Fk()||yD())&&!Rq()&&_D()&&!Zw()}function vD(){return yD()&&typeof document<"u"}async function Cq(){return vD()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Sq);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function xq(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={LOCAL:"local",NONE:"none",SESSION:"session"},yu=z,wD="persistence";function Dq(t,e){if(yu(Object.values(An).includes(e),t,"invalid-persistence-type"),A0()){yu(e!==An.SESSION,t,"unsupported-persistence-type");return}if(R0()){yu(e===An.NONE,t,"unsupported-persistence-type");return}if(Zw()){yu(e===An.NONE||e===An.LOCAL&&Ec(),t,"unsupported-persistence-type");return}yu(e===An.NONE||_D(),t,"unsupported-persistence-type")}async function Z_(t){await t._initializationPromise;const e=ID(),n=co(wD,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Nq(t,e){const n=ID();if(!n)return[];const r=co(wD,t,e);switch(n.getItem(r)){case An.NONE:return[gl];case An.LOCAL:return[zc,bo];case An.SESSION:return[bo];default:return[]}}function ID(){var t;try{return((t=xq())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=z;class Xi{constructor(){this.browserResolver=Cn(YW),this.cordovaResolver=Cn(wq),this.underlyingResolver=null,this._redirectPersistence=bo,this._completeRedirectFn=Vm,this._overrideRedirectResult=Jw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return vD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oq(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Cq();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){return t.unwrap()}function Mq(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){return TD(t)}function Lq(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Fq(t,wz(t,e))}else if(r){const i=TD(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function TD(t){const{_tokenResponse:e}=t instanceof an?t.customData:t;if(!e)return null;if(!(t instanceof an)&&"temporaryProof"in e&&"phoneNumber"in e)return Co.credentialFromResult(t);const n=e.providerId;if(!n||n===gu.PASSWORD)return null;let r;switch(n){case gu.GOOGLE:r=Sr;break;case gu.FACEBOOK:r=Tr;break;case gu.GITHUB:r=Pr;break;case gu.TWITTER:r=Rr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?yl._create(n,a):jr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ba(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof an?r.credentialFromError(t):r.credentialFromResult(t)}function mn(t,e){return e.catch(n=>{throw n instanceof an&&Lq(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Vq(n),additionalUserInfo:vz(n),user:ai.getOrCreate(i)}})}async function ev(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>mn(t,n.confirm(r))}}class Fq{constructor(e,n){this.resolver=n,this.auth=Mq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return mn(ED(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._delegate=e,this.multiFactor=Sz(e)}static getOrCreate(e){return ai.USER_MAP.has(e)||ai.USER_MAP.set(e,new ai(e)),ai.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return mn(this.auth,Jx(this._delegate,e))}async linkWithPhoneNumber(e,n){return ev(this.auth,eW(this._delegate,e,n))}async linkWithPopup(e){return mn(this.auth,uW(this._delegate,e,Xi))}async linkWithRedirect(e){return await Z_(ot(this.auth)),_W(this._delegate,e,Xi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return mn(this.auth,Xx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ev(this.auth,tW(this._delegate,e,n))}reauthenticateWithPopup(e){return mn(this.auth,lW(this._delegate,e,Xi))}async reauthenticateWithRedirect(e){return await Z_(ot(this.auth)),gW(this._delegate,e,Xi)}sendEmailVerification(e){return lz(this._delegate,e)}async unlink(e){return await K9(this._delegate,e),this}updateEmail(e){return hz(this._delegate,e)}updatePassword(e){return fz(this._delegate,e)}updatePhoneNumber(e){return nW(this._delegate,e)}updateProfile(e){return dz(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return uz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ai.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=z;class tv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;_u(r,"invalid-api-key",{appName:e.name}),_u(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Xi:void 0;this._delegate=n.initialize({options:{persistence:Uq(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(j6),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ai.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){S9(this._delegate,e,n)}applyActionCode(e){return Z9(this._delegate,e)}checkActionCode(e){return Zx(this._delegate,e)}confirmPasswordReset(e,n){return X9(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return mn(this._delegate,tz(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return az(this._delegate,e)}isSignInWithEmailLink(e){return iz(this._delegate,e)}async getRedirectResult(){_u(cy(),this._delegate,"operation-not-supported-in-this-environment");const e=await wW(this._delegate,Xi);return e?mn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Iq(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=Z1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=Z1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return rz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return J9(this._delegate,e,n||void 0)}async setPersistence(e){Dq(this._delegate,e);let n;switch(e){case An.SESSION:n=bo;break;case An.LOCAL:n=await Cn(zc)._isAvailable()?zc:Gw;break;case An.NONE:n=gl;break;default:return zt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return mn(this._delegate,H9(this._delegate))}signInWithCredential(e){return mn(this._delegate,xm(this._delegate,e))}signInWithCustomToken(e){return mn(this._delegate,Q9(this._delegate,e))}signInWithEmailAndPassword(e,n){return mn(this._delegate,nz(this._delegate,e,n))}signInWithEmailLink(e,n){return mn(this._delegate,sz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ev(this._delegate,Zz(this._delegate,e,n))}async signInWithPopup(e){return _u(cy(),this._delegate,"operation-not-supported-in-this-environment"),mn(this._delegate,aW(this._delegate,e,Xi))}async signInWithRedirect(e){return _u(cy(),this._delegate,"operation-not-supported-in-this-environment"),await Z_(this._delegate),pW(this._delegate,e,Xi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return ez(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}tv.Persistence=An;function Z1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ai.getOrCreate(o)),error:e,complete:n}}function Uq(t,e){const n=Nq(t,e);if(typeof self<"u"&&!n.includes(zc)&&n.push(zc),typeof window<"u")for(const r of[Gw,bo])n.includes(r)||n.push(r);return n.includes(gl)||n.push(gl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.providerId="phone",this._delegate=new Co(ED(Lo.auth()))}static credential(e,n){return Co.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}eI.PHONE_SIGN_IN_METHOD=Co.PHONE_SIGN_IN_METHOD;eI.PROVIDER_ID=Co.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=z;class $q{constructor(e,n,r=Lo.app()){var i;jq((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Jz(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="auth-compat";function zq(t){t.INTERNAL.registerComponent(new Lr(Bq,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new tv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sa.EMAIL_SIGNIN,PASSWORD_RESET:sa.PASSWORD_RESET,RECOVER_EMAIL:sa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:sa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:sa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:sa.VERIFY_EMAIL}},EmailAuthProvider:Ls,FacebookAuthProvider:Tr,GithubAuthProvider:Pr,GoogleAuthProvider:Sr,OAuthProvider:Ba,SAMLAuthProvider:Qf,PhoneAuthProvider:eI,PhoneMultiFactorGenerator:gD,RecaptchaVerifier:$q,TwitterAuthProvider:Rr,Auth:tv,AuthCredential:Vl,Error:an}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Eq,Tq)}zq(Lo);const Wq={apiKey:"AIzaSyCui8n0WC8YM1o0l26c6m_IRkIt6R27Jnk",authDomain:"e-clone-29a3d.firebaseapp.com",projectId:"e-clone-29a3d",storageBucket:"e-clone-29a3d.appspot.com",messagingSenderId:"1024969855874",appId:"1:1024969855874:web:d8c85e8420351335dd759b",measurementId:"G-7H4S70JYXX"},qq=Lo.initializeApp(Wq),SD=qq.firestore(),ep=Lo.auth();function yh(){const[{basket:t,user:e}]=xs();console.log(t);const n=()=>{e&&ep.signOut()};return C.jsx(C.Fragment,{children:C.jsxs("nav",{className:"header",children:[C.jsx(Wi,{to:"/",children:C.jsx("img",{className:"header-logo",src:T2,alt:"amazone-logo"})}),C.jsxs("div",{className:"header-search",children:[C.jsx("input",{type:"text",className:"header-searchInput"}),C.jsx(bk,{className:"header-searchIcon"})]}),C.jsxs("div",{className:"header-nav",children:[C.jsx(Wi,{to:!e&&"/Login",className:"header-link",children:C.jsxs("div",{onClick:n,className:"header-option",children:[C.jsxs("span",{className:"header_optionLineOne",children:["Hellow, ",e?e.email:"Guest"]}),C.jsx("span",{className:"header_optionLineTwo",children:e?"Sign Out":"Sign In"})]})}),C.jsx(Wi,{className:"header-link",children:C.jsxs("div",{className:"header-option",children:[C.jsx("span",{className:"header_optionLineOne",children:"Returns"}),C.jsx("span",{className:"header_optionLineTwo",children:"& Orders"})]})}),C.jsx(Wi,{className:"header-link",children:C.jsxs("div",{className:"header-option",children:[C.jsx("span",{className:"header_optionLineOne",children:"Your"}),C.jsx("span",{className:"header_optionLineTwo",children:"Prime"})]})}),C.jsx(Wi,{to:"/checkout",className:"header-link",children:C.jsxs("div",{className:"header-shopingIcon",children:[C.jsx(Ck,{}),C.jsx("span",{className:"header_optionLineTwo header_basketCount",children:t==null?void 0:t.length})]})})]})]})})}function oa({id:t,title:e,image:n,price:r,rating:i}){const[{},s]=xs(),o=()=>{s({type:"ADD_TO_BASKET",item:{id:t,title:e,image:n,price:r,rating:i}})};return C.jsxs("div",{className:"product",children:[C.jsxs("div",{className:"product_info",children:[C.jsx("p",{children:e}),C.jsxs("p",{className:"product_price",children:[C.jsx("small",{children:"Rs"}),C.jsx("strong",{children:r})]}),C.jsx("div",{className:"product_rating",children:Array(i).fill().map((a,l)=>C.jsx("p",{children:""},l))})]}),C.jsx("img",{src:n,alt:"image of product"}),C.jsx("button",{onClick:o,children:"Add to Basket"})]})}const Gq="/assets/amazone-movie-poster-Dedu7ihC.png",Hq="/assets/Book-cover-Dt16qm_h.png",Kq="/assets/boxer-hy2XJuPJ.jpg",Yq="/assets/scalp-massager-BB4GbIKY.png",Qq="/assets/stand-image-2DljfznP.png",Jq="/assets/whey-BPkzlALR.png",Xq="/assets/umbrella-sqI3V7Rr.jpg";function Zq(){return C.jsxs("div",{className:"home",children:[C.jsx("img",{className:"home_image",src:Gq,alt:"movie poster"}),C.jsxs("div",{className:"home_row",children:[C.jsx(oa,{id:100,title:"The Psychology of Money",price:1e3,image:Hq,rating:5}),C.jsx(oa,{id:14879,title:"AmazonBasics Premium Cloth Drying Stand - 3 Way Folding, 42 Feet Drying Length, 20 Drying Rails (Silver)",price:1299,image:Qq,rating:4})]}),C.jsxs("div",{className:"home_row",children:[C.jsx(oa,{id:1347748377,title:"PROSHARX 2 in 1 Active Dual Shorts with Inner Tights Layer | Men's Double Layer Short for Running, Gym & Sports",price:1e3,image:Kq,rating:4}),C.jsx(oa,{id:1454758709,title:"MAXN Whey Protein Concentrate/Isolate - Flavoured Powder for Muscle Growth (Chocolate, 2.27 kg)",price:5299,image:Jq,rating:4}),C.jsx(oa,{id:1487348734980,title:"Scalp Massager (Marble Pink), Scalp Massager For Hair Growth, Hair Massager, Hair Massager For Hair Growth, Head Scrubber, Head Massager, Hair Scalp Massager Shampoo Brush",price:59,image:Yq,rating:5})]}),C.jsx("div",{className:"home_row",children:C.jsx(oa,{id:18473984479,title:"CITRODA Mini Umbrella with cover for Men & Women (Manual Open) Compact Travelling Umbrella, Polyester & UV Protection Fabric for Summer/Anti-Slip Handle- Use in Rain & Summer- 6 Frame",price:582,image:Xq,rating:3})})]})}function PD({id:t,title:e,image:n,price:r,rating:i}){const[{basket:s},o]=xs();console.log({id:t,title:e,image:n,price:r,rating:i});const a=()=>{o({type:"REMOVE_FROM_BASKET",id:t})};return C.jsxs("div",{className:"checkout_Product",children:[C.jsx("img",{className:"checkout_image",src:n,alt:"image of cart item"}),C.jsxs("div",{className:"checkoutProduct_info",children:[C.jsx("p",{className:"checkoutProduct_title",children:e}),C.jsxs("p",{className:"checkoutProduct_price",children:[C.jsx("small",{children:"Rs"}),C.jsx("strong",{children:r})]}),C.jsx("div",{className:"checkoutProduct_rating",children:Array(i).fill().map((l,c)=>C.jsx("p",{children:""},c))}),C.jsx("button",{onClick:a,children:"Remove from Cart"})]})]})}const eG="/assets/add-CVYi3mkU.png";var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.noop=tG;Fn.returnTrue=nG;Fn.charIsNumber=rG;Fn.escapeRegExp=iG;Fn.fixLeadingZero=sG;Fn.splitString=oG;Fn.limitToScale=RD;Fn.roundToPrecision=aG;Fn.omit=lG;Fn.setCaretPosition=uG;function tG(){}function nG(){return!0}function rG(t){return!!(t||"").match(/\d/)}function iG(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function sG(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function oG(t,e){return[t.substring(0,e),t.substring(e)]}function RD(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function aG(t,e,n){var r=t.split("."),i=parseFloat("0."+(r[1]||"0")).toFixed(e).split("."),s=r[0].split("").reverse().reduce(function(a,l,c){return a.length>c?(Number(a[0])+Number(l)).toString()+a.substring(1,a.length):l+a},i[0]),o=RD(i[1]||"",(r[1]||"").length,n);return s+(o?"."+o:"")}function lG(t,e){var n={};return Object.keys(t).forEach(function(r){e[r]||(n[r]=t[r])}),n}function uG(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}Fn.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"};var cG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dG=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hG=b2,me=AD(hG),fG=$,_h=AD(fG),$e=Fn;function AD(t){return t&&t.__esModule?t:{default:t}}function pG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kD={thousandSeparator:me.default.oneOfType([me.default.string,me.default.oneOf([!0])]),thousandSpacing:me.default.oneOf(["2","2s","3","4"]),decimalSeparator:me.default.string,decimalScale:me.default.number,fixedDecimalScale:me.default.bool,displayType:me.default.oneOf(["input","text"]),prefix:me.default.string,suffix:me.default.string,format:me.default.oneOfType([me.default.string,me.default.func]),removeFormatting:me.default.func,mask:me.default.oneOfType([me.default.string,me.default.arrayOf(me.default.string)]),value:me.default.oneOfType([me.default.number,me.default.string]),isNumericString:me.default.bool,customInput:me.default.func,allowNegative:me.default.bool,onValueChange:me.default.func,onKeyDown:me.default.func,onMouseUp:me.default.func,onChange:me.default.func,onFocus:me.default.func,onBlur:me.default.func,type:me.default.oneOf(["text","tel"]),isAllowed:me.default.func,renderText:me.default.func},yG={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:$e.noop,onChange:$e.noop,onKeyDown:$e.noop,onMouseUp:$e.noop,onFocus:$e.noop,onBlur:$e.noop,isAllowed:$e.returnTrue},tI=function(t){gG(e,t);function e(n){pG(this,e);var r=mG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.validateProps();var i=r.formatValueProp();return r.state={value:i,numAsString:r.removeFormatting(i)},r.onChange=r.onChange.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r}return dG(e,[{key:"componentDidUpdate",value:function(r){this.updateValueIfRequired(r)}},{key:"updateValueIfRequired",value:function(r){var i=this.props,s=this.state;if(r!==i){this.validateProps();var o=s.value,a=s.numAsString||"",l=i.value===void 0?this.formatNumString(a):this.formatValueProp();l!==o&&this.setState({value:l,numAsString:this.removeFormatting(l)})}}},{key:"getFloatString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.getSeparators(),s=i.decimalSeparator,o=this.getNumberRegex(!0),a=r[0]==="-";a&&(r=r.replace("-","")),r=(r.match(o)||[]).join("").replace(s,".");var l=r.indexOf(".");return l!==-1&&(r=r.substring(0,l)+"."+r.substring(l+1,r.length).replace(new RegExp((0,$e.escapeRegExp)(s),"g"),"")),a&&(r="-"+r),r}},{key:"getNumberRegex",value:function(r,i){var s=this.props,o=s.format,a=s.decimalScale,l=this.getSeparators(),c=l.decimalSeparator;return new RegExp("\\d"+(c&&a!==0&&!i&&!o?"|"+(0,$e.escapeRegExp)(c):""),r?"g":void 0)}},{key:"getSeparators",value:function(){var r=this.props,i=r.decimalSeparator,s=r.thousandSpacing,o=this.props.thousandSeparator;return o===!0&&(o=","),{decimalSeparator:i,thousandSeparator:o,thousandSpacing:s}}},{key:"getMaskAtIndex",value:function(r){var i=this.props.mask,s=i===void 0?" ":i;return typeof s=="string"?s:s[r]||" "}},{key:"validateProps",value:function(){var r=this.props.mask,i=this.getSeparators(),s=i.decimalSeparator,o=i.thousandSeparator;if(s===o)throw new Error(`
          Decimal separator can't be same as thousand separator.

          thousandSeparator: `+o+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+s+` (default value for decimalSeparator is .)
       `);if(r){var a=r==="string"?r:r.toString();if(a.match(/\d/g))throw new Error(`
          Mask `+r+` should not contain numeric character;
        `)}}},{key:"splitDecimal",value:function(r){var i=this.props.allowNegative,s=r[0]==="-",o=s&&i;r=r.replace("-","");var a=r.split("."),l=a[0],c=a[1]||"";return{beforeDecimal:l,afterDecimal:c,hasNagation:s,addNegation:o}}},{key:"setPatchedCaretPosition",value:function(r,i,s){(0,$e.setCaretPosition)(r,i),setTimeout(function(){r.value===s&&(0,$e.setCaretPosition)(r,i)},0)}},{key:"correctCaretPosition",value:function(r,i,s){var o=this.props,a=o.prefix,l=o.suffix,c=o.format;if(!c){var d=r[0]==="-";return Math.min(Math.max(i,a.length+(d?1:0)),r.length-l.length)}if(typeof c=="function"||c[i]==="#"&&(0,$e.charIsNumber)(r[i])||c[i-1]==="#"&&(0,$e.charIsNumber)(r[i-1]))return i;var h=c.indexOf("#"),p=c.lastIndexOf("#");i=Math.min(Math.max(i,h),p+1);for(var y=c.substring(i,c.length).indexOf("#"),T=i,w=i+(y===-1?0:y);T>h&&(c[T]!=="#"||!(0,$e.charIsNumber)(r[T]));)T-=1;var k=!(0,$e.charIsNumber)(r[w])||s==="left"&&i!==h||i-T<w-i;return k?T+1:w}},{key:"getCaretPosition",value:function(r,i,s){var o=this.props.format,a=this.state.value,l=this.getNumberRegex(!0),c=(r.match(l)||[]).join(""),d=(i.match(l)||[]).join(""),h=void 0,p=void 0;for(h=0,p=0;p<s;p++){var y=r[p]||"",T=i[h]||"";if(!(!y.match(l)&&y!==T)&&!(y==="0"&&T.match(l)&&T!=="0"&&c.length!==d.length)){for(;y!==i[h]&&h<i.length;)h++;h++}}return typeof o=="string"&&!a&&(h=i.length),h=this.correctCaretPosition(i,h),h}},{key:"removePrefixAndSuffix",value:function(r){var i=this.props,s=i.format,o=i.prefix,a=i.suffix;if(!s&&r){var l=r[0]==="-";l&&(r=r.substring(1,r.length)),r=o&&r.indexOf(o)===0?r.substring(o.length,r.length):r;var c=r.lastIndexOf(a);r=a&&c!==-1&&c===r.length-a.length?r.substring(0,c):r,l&&(r="-"+r)}return r}},{key:"removePatternFormatting",value:function(r){for(var i=this.props.format,s=i.split("#").filter(function(p){return p!==""}),o=0,a="",l=0,c=s.length;l<=c;l++){var d=s[l]||"",h=l===c?r.length:r.indexOf(d,o);if(h===-1){a=r;break}else a+=r.substring(o,h),o=h+d.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(r){var i=this.props,s=i.format,o=i.removeFormatting;return r&&(s?typeof s=="string"?r=this.removePatternFormatting(r):typeof o=="function"?r=o(r):r=(r.match(/\d/g)||[]).join(""):(r=this.removePrefixAndSuffix(r),r=this.getFloatString(r)),r)}},{key:"formatWithPattern",value:function(r){for(var i=this.props.format,s=0,o=i.split(""),a=0,l=i.length;a<l;a++)i[a]==="#"&&(o[a]=r[s]||this.getMaskAtIndex(s),s+=1);return o.join("")}},{key:"formatThousand",value:function(r,i,s){var o=void 0;switch(s){case $e.thousandGroupSpacing.two:o=/(\d)(?=(\d{2})+(?!\d))/g;break;case $e.thousandGroupSpacing.twoScaled:o=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case $e.thousandGroupSpacing.four:o=/(\d)(?=(\d{4})+(?!\d))/g;break;default:o=/(\d)(?=(\d{3})+(?!\d))/g}return r.replace(o,"$1"+i)}},{key:"formatAsNumber",value:function(r){var i=this.props,s=i.decimalScale,o=i.fixedDecimalScale,a=i.prefix,l=i.suffix,c=this.getSeparators(),d=c.thousandSeparator,h=c.decimalSeparator,p=c.thousandSpacing,y=r.indexOf(".")!==-1||s&&o,T=this.splitDecimal(r),w=T.beforeDecimal,k=T.afterDecimal,I=T.addNegation;return s!==void 0&&(k=(0,$e.limitToScale)(k,s,o)),d&&(w=this.formatThousand(w,d,p)),a&&(w=a+w),l&&(k=k+l),I&&(w="-"+w),r=w+(y&&h||"")+k,r}},{key:"formatNumString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format,s=r;return r===""?s="":r==="-"&&!i?(s="-",r=""):typeof i=="string"?s=this.formatWithPattern(s):typeof i=="function"?s=i(s):s=this.formatAsNumber(s),s}},{key:"formatValueProp",value:function(){var r=this.props,i=r.format,s=r.decimalScale,o=r.fixedDecimalScale,a=this.props,l=a.value,c=a.isNumericString;if(l===void 0)return"";typeof l=="number"&&(l=l.toString(),c=!0),c&&!i&&typeof s=="number"&&(l=(0,$e.roundToPrecision)(l,s,o));var d=c?this.formatNumString(l):this.formatInput(l);return d}},{key:"formatNegation",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.allowNegative,s=new RegExp("(-)"),o=new RegExp("(-)(.)*(-)"),a=s.test(r),l=o.test(r);return r=r.replace(/-/g,""),a&&!l&&i&&(r="-"+r),r}},{key:"formatInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format;return i||(r=this.formatNegation(r)),r=this.removeFormatting(r),this.formatNumString(r)}},{key:"isCharacterAFormat",value:function(r,i){var s=this.props,o=s.format,a=s.prefix,l=s.suffix,c=s.decimalScale,d=s.fixedDecimalScale,h=this.getSeparators(),p=h.decimalSeparator;return!!(typeof o=="string"&&o[r]!=="#"||!o&&(r<a.length||r>=i.length-l.length||c&&d&&i[r]===p))}},{key:"checkIfFormatGotDeleted",value:function(r,i,s){for(var o=r;o<i;o++)if(this.isCharacterAFormat(o,s))return!0;return!1}},{key:"correctInputValue",value:function(r,i,s){var o=this.props.format,a=this.state.numAsString||"";if(s.length>=i.length||!s.length)return s;var l=r,c=(0,$e.splitString)(i,r),d=(0,$e.splitString)(s,r),h=c[1].lastIndexOf(d[1]),p=h!==-1?c[1].substring(0,h):"",y=l+p.length;if(this.checkIfFormatGotDeleted(l,y,i)&&(s=i),!o){var T=this.removeFormatting(s),w=this.splitDecimal(T),k=w.beforeDecimal,I=w.afterDecimal,v=w.addNegation;if(T.length<a.length&&k===""&&!parseFloat(I))return v?"-":""}return s}},{key:"onChange",value:function(r){r.persist();var i=r.target,s=i.value,o=this.state,a=this.props,l=a.isAllowed,c=o.value||"",d=Math.max(i.selectionStart,i.selectionEnd);s=this.correctInputValue(d,c,s);var h=this.formatInput(s)||"",p=this.removeFormatting(h),y={formattedValue:h,value:p,floatValue:parseFloat(p)};l(y)||(h=c),i.value=h;var T=this.getCaretPosition(s,h,d);this.setPatchedCaretPosition(i,T,h),h!==c?this.setState({value:h,numAsString:p},function(){a.onValueChange(y),a.onChange(r)}):a.onChange(r)}},{key:"onBlur",value:function(r){var i=this.props,s=this.state,o=i.format,a=i.onBlur,l=s.numAsString,c=s.value;if(!o){l=(0,$e.fixLeadingZero)(l);var d=this.formatNumString(l),h={formattedValue:d,value:l,floatValue:parseFloat(l)};if(d!==c){r.persist(),this.setState({value:d,numAsString:l},function(){i.onValueChange(h),a(r)});return}}a(r)}},{key:"onKeyDown",value:function(r){var i=r.target,s=r.key,o=i.selectionEnd,a=i.value,l=i.selectionStart,c=void 0,d=this.props,h=d.decimalScale,p=d.fixedDecimalScale,y=d.prefix,T=d.suffix,w=d.format,k=d.onKeyDown,I=h!==void 0&&p,v=this.getNumberRegex(!1,I),S=new RegExp("-"),O=typeof w=="string";if(s==="ArrowLeft"||s==="Backspace"?c=l-1:s==="ArrowRight"?c=l+1:s==="Delete"&&(c=l),c===void 0||l!==o){k(r);return}var M=c,F=O?w.indexOf("#"):y.length,E=O?w.lastIndexOf("#")+1:a.length-T.length;if(s==="ArrowLeft"||s==="ArrowRight"){var _=s==="ArrowLeft"?"left":"right";M=this.correctCaretPosition(a,c,_)}else if(s==="Delete"&&!v.test(a[c])&&!S.test(a[c]))for(;!v.test(a[M])&&M<E;)M++;else if(s==="Backspace"&&!v.test(a[c])&&!S.test(a[c])){for(;!v.test(a[M-1])&&M>F;)M--;M=this.correctCaretPosition(a,M,"left")}(M!==c||c<F||c>E)&&(r.preventDefault(),this.setPatchedCaretPosition(i,M,a)),r.isUnitTestRun&&this.setPatchedCaretPosition(i,M,a),this.props.onKeyDown(r)}},{key:"onMouseUp",value:function(r){var i=r.target,s=i.selectionStart,o=i.selectionEnd,a=i.value;if(s===o){var l=this.correctCaretPosition(a,s);l!==s&&this.setPatchedCaretPosition(i,l,a)}this.props.onMouseUp(r)}},{key:"onFocus",value:function(r){var i=this;r.persist(),setTimeout(function(){var s=r.target,o=s.selectionStart,a=s.value,l=i.correctCaretPosition(a,o);l!==o&&i.setPatchedCaretPosition(s,l,a),i.props.onFocus(r)})}},{key:"render",value:function(){var r=this.props,i=r.type,s=r.displayType,o=r.customInput,a=r.renderText,l=this.state.value,c=(0,$e.omit)(this.props,kD),d=cG({},c,{type:i,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(s==="text")return a?a(l)||null:_h.default.createElement("span",c,l);if(o){var h=o;return _h.default.createElement(h,d)}return _h.default.createElement("input",d)}}]),e}(_h.default.Component);tI.propTypes=kD;tI.defaultProps=yG;var _G=tI;const vG=aP(_G);function wG({length:t}){const[{basket:e}]=xs(),n=Sp();return C.jsxs("div",{className:"subtotal",children:[C.jsx(vG,{renderText:r=>C.jsxs(C.Fragment,{children:[C.jsxs("p",{children:["Subtotal (",e.length,"items): ",C.jsxs("strong",{children:[r," "]})]}),C.jsxs("small",{className:"subtotal_gift",children:[C.jsx("input",{type:"checkbox"}),"This order contains a gift"]})]}),decimalScale:2,value:Aa(e),displayType:"text",thousandSeparator:!0,suffix:"Rs"}),C.jsx("button",{onClick:r=>n("/Payment"),children:"Proced To Checkout"})]})}function IG(){const[{basket:t,user:e}]=xs(),n=Aa(t);return console.log("total price in cart",n),C.jsxs("div",{className:"checkout",children:[C.jsxs("div",{className:"checkout_left",children:[C.jsx("img",{className:"checkout_ad",src:eG,alt:"checkout add image"}),C.jsx("div",{className:"card_container",children:t!=null&&t.length?C.jsxs("div",{className:"checkout_title",children:[C.jsxs("h3",{children:["Your Shopping Basket (",t==null?void 0:t.length,")"]}),t.map((r,i)=>C.jsx(PD,{id:r.id,title:r.title,image:r.image,price:r.price,rating:r.rating},i))]}):C.jsxs("div",{children:[C.jsxs("h3",{children:["Hi,",C.jsx("h3",{children:e==null?void 0:e.email})," Your shopping basket is empty"]}),C.jsx("p",{children:"Please add your products to basket for checkout"})]})})]}),t.length>0&&C.jsx("div",{className:"checkout_right",children:C.jsx(wG,{})})]})}const EG="/assets/amazone_logo_black-CYNK_YBC.png";function TG(){const[t,e]=$.useState(""),[n,r]=$.useState(""),i=Sp(),s=a=>{a.preventDefault(),ep.createUserWithEmailAndPassword(t,n).then(l=>{i("/")}).catch(l=>l.message)},o=a=>{a.preventDefault(),ep.createUserWithEmailAndPassword(t,n).then(l=>{console.log(l),l&&i("/")}).catch(l=>alert(l.message))};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"login_container",children:[C.jsx("div",{children:C.jsx("img",{className:"logo",src:EG,alt:"amazone logo"})}),C.jsxs("form",{className:"form",children:[C.jsx("h1",{children:"Sign in"}),C.jsxs("div",{className:"input_fields",children:[C.jsx("p",{className:"header_text",children:"Email or phone number"}),C.jsx("input",{type:"text",className:"input_field",value:t,onChange:a=>e(a.target.value)}),C.jsx("p",{className:"header_text",children:"Password"}),C.jsx("input",{type:"password",className:"input_field",value:n,onChange:a=>r(a.target.value)}),C.jsx("button",{className:"signin_button",onClick:s,children:"Continue"})]}),C.jsx("p",{className:"tnc",children:"By continuing you agree to Amazon's Conditions of Use and Privacy Notice."}),C.jsxs("details",{children:[C.jsx("summary",{className:"summary",children:C.jsx("a",{href:"#",children:"Need help?"})}),C.jsx("summary",{className:"s-fix",children:C.jsx("a",{href:"#",children:"Forgot Password"})}),C.jsx("summary",{className:"s-fix",children:C.jsx("a",{href:"#",children:"Other issue with Sing-In"})})]}),C.jsx("hr",{}),C.jsx("p",{className:"work_text",children:"Buying for work?"}),C.jsx("p",{className:"shop_link",children:C.jsx("a",{href:"",children:"Shop on amazone business"})}),C.jsx("button",{className:"signup_button",onClick:o,children:"Create your Amazone Account"})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Jh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}let dy={};function SG(t){const e=dy[t];if(e)return e;const n=new Promise((r,i)=>{const s=document.createElement("script");s.src=t,s.async=!0;const o=()=>{r()},a=()=>{l(),delete dy[t],s.remove(),i(new Error(`Unable to load script ${t}`))};s.addEventListener("load",o),s.addEventListener("error",a),document.body.appendChild(s);function l(){s.removeEventListener("load",o),s.removeEventListener("error",a)}});return dy[t]=n,n}class PG{constructor(e){this.handleClick=n=>Jh(this,void 0,void 0,function*(){const r=this.config;if(!r)throw new Error("google-pay-button: Missing configuration");const i=this.createLoadPaymentDataRequest(r);try{if(r.onClick&&r.onClick(n),n.defaultPrevented)return;const s=yield this.client.loadPaymentData(i);r.onLoadPaymentData&&r.onLoadPaymentData(s)}catch(s){s.statusCode==="CANCELED"?r.onCancel&&r.onCancel(s):r.onError?r.onError(s):console.error(s)}}),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,n;return"google"in(window||global)&&!!(!((n=(e=google==null?void 0:google.payments)===null||e===void 0?void 0:e.api)===null||n===void 0)&&n.PaymentsClient)}mount(e){var n;return Jh(this,void 0,void 0,function*(){if(!this.isGooglePayLoaded())try{yield SG("https://pay.google.com/gp/p/js/pay.js")}catch(r){!((n=this.config)===null||n===void 0)&&n.onError?this.config.onError(r):console.error(r);return}this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())})}unmount(){this.element=void 0}configure(e){let n;return this.config=e,(!this.oldInvalidationValues||this.isClientInvalidated(e))&&(n=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),n??Promise.resolve()}createClientOptions(e){const n={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(n.paymentDataCallbacks={},e.onPaymentDataChanged&&(n.paymentDataCallbacks.onPaymentDataChanged=r=>e.onPaymentDataChanged(r)||{}),e.onPaymentAuthorized&&(n.paymentDataCallbacks.onPaymentAuthorized=r=>e.onPaymentAuthorized(r)||{})),n}createIsReadyToPayRequest(e){const n=e.paymentRequest;return{apiVersion:n.apiVersion,apiVersionMinor:n.apiVersionMinor,allowedPaymentMethods:n.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const n=Object.assign({},e.paymentRequest.merchantInfo);return n.softwareInfo||(n.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),n}isMounted(){return this.element!=null&&this.element.isConnected!==!1}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))e.tagName!=="STYLE"&&e.remove()}updateElement(){return Jh(this,void 0,void 0,function*(){if(!this.isMounted())return;const e=this.getElement();if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton();try{this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config))}catch(a){this.config.onError?this.config.onError(a):console.error(a);return}const n={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonRadius:this.config.buttonRadius,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick,allowedPaymentMethods:this.config.paymentRequest.allowedPaymentMethods},r=e.getRootNode();r instanceof ShadowRoot&&(n.buttonRootNode=r);const i=this.client.createButton(n);this.setClassName(e,[e.className,"not-ready"]),e.appendChild(i);let s=!1,o;try{o=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=o.result&&!this.config.existingPaymentMethodRequired||o.result&&o.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(a){this.config.onError?this.config.onError(a):console.error(a)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(a){console.log("Error with prefetch",a)}this.setClassName(e,(e.className||"").split(" ").filter(a=>a&&a!=="not-ready"))}if((this.isReadyToPay!==(o==null?void 0:o.result)||this.paymentMethodPresent!==(o==null?void 0:o.paymentMethodPresent))&&(this.isReadyToPay=!!(o!=null&&o.result),this.paymentMethodPresent=o==null?void 0:o.paymentMethodPresent,this.config.onReadyToPayChange)){const a={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(a.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(a)}}})}setClassName(e,n){const r=n.filter(i=>i).join(" ");r?e.className=r:e.removeAttribute("class")}appendStyles(){var e,n,r;if(typeof document>"u")return;const i=(e=this.element)===null||e===void 0?void 0:e.getRootNode(),s=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${(n=this.config)===null||n===void 0?void 0:n.buttonLocale}`;if(i&&!(!((r=i.getElementById)===null||r===void 0)&&r.call(i,s))){const o=document.createElement("style");o.id=s,o.type="text/css",o.innerHTML=`
          ${this.options.cssSelector} {
            display: inline-block;
          }
          ${this.options.cssSelector}.not-ready {
            width: 0;
            height: 0;
            overflow: hidden;
          }
        `,i instanceof Document&&i.head?i.head.appendChild(o):i.appendChild(o)}}isClientInvalidated(e){return this.oldInvalidationValues?this.getInvalidationValues(e).some((r,i)=>JSON.stringify(r)!==JSON.stringify(this.oldInvalidationValues[i])):!0}getInvalidationValues(e){var n,r;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonType,e.buttonColor,e.buttonRadius,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,(n=e.paymentRequest.merchantInfo.softwareInfo)===null||n===void 0?void 0:n.id,(r=e.paymentRequest.merchantInfo.softwareInfo)===null||r===void 0?void 0:r.version,e.paymentRequest.allowedPaymentMethods]}}var RG="@google-pay/button-react",AG="3.1.0";const eP="google-pay-button-container";class kG extends xu.Component{constructor(){super(...arguments),this.manager=new PG({cssSelector:`.${eP}`,softwareInfoId:RG,softwareInfoVersion:AG}),this.elementRef=xu.createRef()}componentDidMount(){return Jh(this,void 0,void 0,function*(){const e=this.elementRef.current;e&&(yield this.manager.configure(this.props),yield this.manager.mount(e))})}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return xu.createElement("div",{ref:this.elementRef,className:[eP,this.props.className].filter(e=>e).join(" "),style:this.props.style})}}function bG(){const[{basket:t,user:e}]=xs(),n=Sp(),r=()=>{n("/Orders"),SD.collection("users").doc(e==null?void 0:e.uid).collection("orders").doc(t.id).set({basket:t,amount:Aa(t)})};return C.jsx("div",{className:"payment",children:C.jsxs("div",{className:"payment_container",children:[C.jsxs("h1",{children:["Checkout(",C.jsxs(Wi,{to:"/Checkout",children:[" ",t.length," items)"]})]}),C.jsxs("div",{className:"payment_section",children:[C.jsx("div",{className:"payment_title",children:C.jsx("h3",{children:"Delivery address"})}),C.jsxs("div",{className:"payment_address",children:[C.jsx("p",{children:e==null?void 0:e.email}),C.jsx("p",{children:"Madipakkam"}),C.jsx("p",{children:"Chennai"}),C.jsx("p",{children:"600091"})]})]}),C.jsxs("div",{className:"payment_section",children:[C.jsx("div",{className:"payment title",children:C.jsx("h3",{children:"Review items and delivery"})}),C.jsx("div",{className:"payment_items",children:t.map((i,s)=>C.jsx(PD,{id:i.id,title:i.title,image:i.image,price:i.price,rating:i.rating},s))})]}),Aa(t)?C.jsxs("div",{className:"payment_section",children:[C.jsx("h3",{children:"Payment Method"}),C.jsxs("div",{className:"payment_total",children:["Your total is",C.jsxs("h3",{children:[Aa(t)," Rs"]}),C.jsxs("div",{className:"payment_button",children:[C.jsx("p",{children:"Currently we are accepting payments only via Google Pay."}),Aa(t)?C.jsx(kG,{onClick:r,environment:"TEST",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA","RUPAY"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"100.00",currencyCode:"INR",countryCode:""}},onLoadPaymentData:i=>{console.log("load payment data",i)}}):"Your shopping basket is empty.Please add your products to basket for checkout"]})]})]}):C.jsx("div",{className:"payment_section",children:C.jsxs("div",{className:"payment_total",children:["Your basket is empty.Click",C.jsx(Wi,{to:"/",children:" here "}),"for shopping"]})}),C.jsx("div",{className:"payment_details"})]})})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var bD;function K(){return bD.apply(null,arguments)}function CG(t){bD=t}function mr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function fo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(ve(t,e))return!1;return!0}function fn(t){return t===void 0}function Ei(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Sd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function CD(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Zi(t,e){for(var n in e)ve(e,n)&&(t[n]=e[n]);return ve(e,"toString")&&(t.toString=e.toString),ve(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Br(t,e,n,r){return ZD(t,e,n,r,!0).utc()}function xG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ae(t){return t._pf==null&&(t._pf=xG()),t._pf}var nv;Array.prototype.some?nv=Array.prototype.some:nv=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function rI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ae(t),n=nv.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Lm(t){var e=Br(NaN);return t!=null?Zi(ae(e),t):ae(e).userInvalidated=!0,e}var tP=K.momentProperties=[],hy=!1;function iI(t,e){var n,r,i,s=tP.length;if(fn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),fn(e._i)||(t._i=e._i),fn(e._f)||(t._f=e._f),fn(e._l)||(t._l=e._l),fn(e._strict)||(t._strict=e._strict),fn(e._tzm)||(t._tzm=e._tzm),fn(e._isUTC)||(t._isUTC=e._isUTC),fn(e._offset)||(t._offset=e._offset),fn(e._pf)||(t._pf=ae(e)),fn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=tP[n],i=e[r],fn(i)||(t[r]=i);return t}function Pd(t){iI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),hy===!1&&(hy=!0,K.updateOffset(this),hy=!1)}function gr(t){return t instanceof Pd||t!=null&&t._isAMomentObject!=null}function xD(t){K.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function tr(t,e){var n=!0;return Zi(function(){if(K.deprecationHandler!=null&&K.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])ve(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}xD(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var nP={};function DD(t,e){K.deprecationHandler!=null&&K.deprecationHandler(t,e),nP[t]||(xD(e),nP[t]=!0)}K.suppressDeprecationWarnings=!1;K.deprecationHandler=null;function zr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function DG(t){var e,n;for(n in t)ve(t,n)&&(e=t[n],zr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rv(t,e){var n=Zi({},t),r;for(r in e)ve(e,r)&&(fo(t[r])&&fo(e[r])?(n[r]={},Zi(n[r],t[r]),Zi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)ve(t,r)&&!ve(e,r)&&fo(t[r])&&(n[r]=Zi({},n[r]));return n}function sI(t){t!=null&&this.set(t)}var iv;Object.keys?iv=Object.keys:iv=function(t){var e,n=[];for(e in t)ve(t,e)&&n.push(e);return n};var NG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function OG(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return zr(r)?r.call(e,n):r}function $r(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var oI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fy={},Wa={};function te(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Wa[t]=i),e&&(Wa[e[0]]=function(){return $r(i.apply(this,arguments),e[1],e[2])}),n&&(Wa[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function MG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function VG(t){var e=t.match(oI),n,r;for(n=0,r=e.length;n<r;n++)Wa[e[n]]?e[n]=Wa[e[n]]:e[n]=MG(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=zr(e[o])?e[o].call(i,t):e[o];return s}}function Xh(t,e){return t.isValid()?(e=ND(e,t.localeData()),fy[e]=fy[e]||VG(e),fy[e](t)):t.localeData().invalidDate()}function ND(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(vh.lastIndex=0;n>=0&&vh.test(t);)t=t.replace(vh,r),vh.lastIndex=0,n-=1;return t}var LG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function FG(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(oI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var UG="Invalid date";function jG(){return this._invalidDate}var $G="%d",BG=/\d{1,2}/;function zG(t){return this._ordinal.replace("%d",t)}var WG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qG(t,e,n,r){var i=this._relativeTime[n];return zr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function GG(t,e){var n=this._relativeTime[t>0?"future":"past"];return zr(n)?n(e):n.replace(/%s/i,e)}var rP={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nr(t){return typeof t=="string"?rP[t]||rP[t.toLowerCase()]:void 0}function aI(t){var e={},n,r;for(r in t)ve(t,r)&&(n=nr(r),n&&(e[n]=t[r]));return e}var HG={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function KG(t){var e=[],n;for(n in t)ve(t,n)&&e.push({unit:n,priority:HG[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var OD=/\d/,Un=/\d\d/,MD=/\d{3}/,lI=/\d{4}/,Fm=/[+-]?\d{6}/,Ue=/\d\d?/,VD=/\d\d\d\d?/,LD=/\d\d\d\d\d\d?/,Um=/\d{1,3}/,uI=/\d{1,4}/,jm=/[+-]?\d{1,6}/,Fl=/\d+/,$m=/[+-]?\d+/,YG=/Z|[+-]\d\d:?\d\d/gi,Bm=/Z|[+-]\d\d(?::?\d\d)?/gi,QG=/[+-]?\d+(\.\d{1,3})?/,Rd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ul=/^[1-9]\d?/,cI=/^([1-9]\d|\d)/,tp;tp={};function J(t,e,n){tp[t]=zr(e)?e:function(r,i){return r&&n?n:e}}function JG(t,e){return ve(tp,t)?tp[t](e._strict,e._locale):new RegExp(XG(t))}function XG(t){return hi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function hi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function he(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Wn(e)),n}var sv={};function be(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Ei(e)&&(r=function(s,o){o[e]=he(s)}),i=t.length,n=0;n<i;n++)sv[t[n]]=r}function Ad(t,e){be(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function ZG(t,e,n){e!=null&&ve(sv,t)&&sv[t](e,n._a,n,t)}function zm(t){return t%4===0&&t%100!==0||t%400===0}var Xt=0,li=1,Ar=2,Tt=3,lr=4,ui=5,oo=6,e8=7,t8=8;te("Y",0,0,function(){var t=this.year();return t<=9999?$r(t,4):"+"+t});te(0,["YY",2],0,function(){return this.year()%100});te(0,["YYYY",4],0,"year");te(0,["YYYYY",5],0,"year");te(0,["YYYYYY",6,!0],0,"year");J("Y",$m);J("YY",Ue,Un);J("YYYY",uI,lI);J("YYYYY",jm,Fm);J("YYYYYY",jm,Fm);be(["YYYYY","YYYYYY"],Xt);be("YYYY",function(t,e){e[Xt]=t.length===2?K.parseTwoDigitYear(t):he(t)});be("YY",function(t,e){e[Xt]=K.parseTwoDigitYear(t)});be("Y",function(t,e){e[Xt]=parseInt(t,10)});function Ju(t){return zm(t)?366:365}K.parseTwoDigitYear=function(t){return he(t)+(he(t)>68?1900:2e3)};var FD=jl("FullYear",!0);function n8(){return zm(this.year())}function jl(t,e){return function(n){return n!=null?(UD(this,t,n),K.updateOffset(this,e),this):Wc(this,t)}}function Wc(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function UD(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!zm(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function r8(t){return t=nr(t),zr(this[t])?this[t]():this}function i8(t,e){if(typeof t=="object"){t=aI(t);var n=KG(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=nr(t),zr(this[t]))return this[t](e);return this}function s8(t,e){return(t%e+e)%e}var ct;Array.prototype.indexOf?ct=Array.prototype.indexOf:ct=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function dI(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=s8(e,12);return t+=(e-n)/12,n===1?zm(t)?29:28:31-n%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1});te("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});te("MMMM",0,0,function(t){return this.localeData().months(this,t)});J("M",Ue,Ul);J("MM",Ue,Un);J("MMM",function(t,e){return e.monthsShortRegex(t)});J("MMMM",function(t,e){return e.monthsRegex(t)});be(["M","MM"],function(t,e){e[li]=he(t)-1});be(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[li]=i:ae(n).invalidMonth=t});var o8="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$D=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,a8=Rd,l8=Rd;function u8(t,e){return t?mr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||$D).test(e)?"format":"standalone"][t.month()]:mr(this._months)?this._months:this._months.standalone}function c8(t,e){return t?mr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[$D.test(e)?"format":"standalone"][t.month()]:mr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function d8(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Br([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=ct.call(this._shortMonthsParse,o),i!==-1?i:null):(i=ct.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=ct.call(this._shortMonthsParse,o),i!==-1?i:(i=ct.call(this._longMonthsParse,o),i!==-1?i:null)):(i=ct.call(this._longMonthsParse,o),i!==-1?i:(i=ct.call(this._shortMonthsParse,o),i!==-1?i:null))}function h8(t,e,n){var r,i,s;if(this._monthsParseExact)return d8.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Br([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function BD(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=he(e);else if(e=t.localeData().monthsParse(e),!Ei(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,dI(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function zD(t){return t!=null?(BD(this,t),K.updateOffset(this,!0),this):Wc(this,"Month")}function f8(){return dI(this.year(),this.month())}function p8(t){return this._monthsParseExact?(ve(this,"_monthsRegex")||WD.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(ve(this,"_monthsShortRegex")||(this._monthsShortRegex=a8),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function m8(t){return this._monthsParseExact?(ve(this,"_monthsRegex")||WD.call(this),t?this._monthsStrictRegex:this._monthsRegex):(ve(this,"_monthsRegex")||(this._monthsRegex=l8),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function WD(){function t(l,c){return c.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=Br([2e3,i]),o=hi(this.monthsShort(s,"")),a=hi(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function g8(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function qc(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function np(t,e,n){var r=7+e-n,i=(7+qc(t,0,r).getUTCDay()-e)%7;return-i+r-1}function qD(t,e,n,r,i){var s=(7+n-r)%7,o=np(t,r,i),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=t-1,c=Ju(l)+a):a>Ju(t)?(l=t+1,c=a-Ju(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Gc(t,e,n){var r=np(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+fi(o,e,n)):i>fi(t.year(),e,n)?(s=i-fi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function fi(t,e,n){var r=np(t,e,n),i=np(t+1,e,n);return(Ju(t)-r+i)/7}te("w",["ww",2],"wo","week");te("W",["WW",2],"Wo","isoWeek");J("w",Ue,Ul);J("ww",Ue,Un);J("W",Ue,Ul);J("WW",Ue,Un);Ad(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=he(t)});function y8(t){return Gc(t,this._week.dow,this._week.doy).week}var _8={dow:0,doy:6};function v8(){return this._week.dow}function w8(){return this._week.doy}function I8(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function E8(t){var e=Gc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}te("d",0,"do","day");te("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});te("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});te("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});te("e",0,0,"weekday");te("E",0,0,"isoWeekday");J("d",Ue);J("e",Ue);J("E",Ue);J("dd",function(t,e){return e.weekdaysMinRegex(t)});J("ddd",function(t,e){return e.weekdaysShortRegex(t)});J("dddd",function(t,e){return e.weekdaysRegex(t)});Ad(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ae(n).invalidWeekday=t});Ad(["d","e","E"],function(t,e,n,r){e[r]=he(t)});function T8(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function S8(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function hI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var P8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),GD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),R8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),A8=Rd,k8=Rd,b8=Rd;function C8(t,e){var n=mr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?hI(n,this._week.dow):t?n[t.day()]:n}function x8(t){return t===!0?hI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function D8(t){return t===!0?hI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function N8(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Br([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=ct.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=ct.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=ct.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=ct.call(this._weekdaysParse,o),i!==-1||(i=ct.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=ct.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=ct.call(this._shortWeekdaysParse,o),i!==-1||(i=ct.call(this._weekdaysParse,o),i!==-1)?i:(i=ct.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=ct.call(this._minWeekdaysParse,o),i!==-1||(i=ct.call(this._weekdaysParse,o),i!==-1)?i:(i=ct.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function O8(t,e,n){var r,i,s;if(this._weekdaysParseExact)return N8.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Br([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function M8(t){if(!this.isValid())return t!=null?this:NaN;var e=Wc(this,"Day");return t!=null?(t=T8(t,this.localeData()),this.add(t-e,"d")):e}function V8(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function L8(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=S8(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function F8(t){return this._weekdaysParseExact?(ve(this,"_weekdaysRegex")||fI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(ve(this,"_weekdaysRegex")||(this._weekdaysRegex=A8),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function U8(t){return this._weekdaysParseExact?(ve(this,"_weekdaysRegex")||fI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=k8),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function j8(t){return this._weekdaysParseExact?(ve(this,"_weekdaysRegex")||fI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=b8),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fI(){function t(d,h){return h.length-d.length}var e=[],n=[],r=[],i=[],s,o,a,l,c;for(s=0;s<7;s++)o=Br([2e3,1]).day(s),a=hi(this.weekdaysMin(o,"")),l=hi(this.weekdaysShort(o,"")),c=hi(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function pI(){return this.hours()%12||12}function $8(){return this.hours()||24}te("H",["HH",2],0,"hour");te("h",["hh",2],0,pI);te("k",["kk",2],0,$8);te("hmm",0,0,function(){return""+pI.apply(this)+$r(this.minutes(),2)});te("hmmss",0,0,function(){return""+pI.apply(this)+$r(this.minutes(),2)+$r(this.seconds(),2)});te("Hmm",0,0,function(){return""+this.hours()+$r(this.minutes(),2)});te("Hmmss",0,0,function(){return""+this.hours()+$r(this.minutes(),2)+$r(this.seconds(),2)});function HD(t,e){te(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}HD("a",!0);HD("A",!1);function KD(t,e){return e._meridiemParse}J("a",KD);J("A",KD);J("H",Ue,cI);J("h",Ue,Ul);J("k",Ue,Ul);J("HH",Ue,Un);J("hh",Ue,Un);J("kk",Ue,Un);J("hmm",VD);J("hmmss",LD);J("Hmm",VD);J("Hmmss",LD);be(["H","HH"],Tt);be(["k","kk"],function(t,e,n){var r=he(t);e[Tt]=r===24?0:r});be(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});be(["h","hh"],function(t,e,n){e[Tt]=he(t),ae(n).bigHour=!0});be("hmm",function(t,e,n){var r=t.length-2;e[Tt]=he(t.substr(0,r)),e[lr]=he(t.substr(r)),ae(n).bigHour=!0});be("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Tt]=he(t.substr(0,r)),e[lr]=he(t.substr(r,2)),e[ui]=he(t.substr(i)),ae(n).bigHour=!0});be("Hmm",function(t,e,n){var r=t.length-2;e[Tt]=he(t.substr(0,r)),e[lr]=he(t.substr(r))});be("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Tt]=he(t.substr(0,r)),e[lr]=he(t.substr(r,2)),e[ui]=he(t.substr(i))});function B8(t){return(t+"").toLowerCase().charAt(0)==="p"}var z8=/[ap]\.?m?\.?/i,W8=jl("Hours",!0);function q8(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var YD={calendar:NG,longDateFormat:LG,invalidDate:UG,ordinal:$G,dayOfMonthOrdinalParse:BG,relativeTime:WG,months:o8,monthsShort:jD,week:_8,weekdays:P8,weekdaysMin:R8,weekdaysShort:GD,meridiemParse:z8},Be={},vu={},Hc;function G8(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function iP(t){return t&&t.toLowerCase().replace("_","-")}function H8(t){for(var e=0,n,r,i,s;e<t.length;){for(s=iP(t[e]).split("-"),n=s.length,r=iP(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Wm(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&G8(s,r)>=n-1)break;n--}e++}return Hc}function K8(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Wm(t){var e=null,n;if(Be[t]===void 0&&typeof tf<"u"&&tf&&tf.exports&&K8(t))try{e=Hc._abbr,n=require,n("./locale/"+t),hs(e)}catch{Be[t]=null}return Be[t]}function hs(t,e){var n;return t&&(fn(e)?n=Ci(t):n=mI(t,e),n?Hc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Hc._abbr}function mI(t,e){if(e!==null){var n,r=YD;if(e.abbr=t,Be[t]!=null)DD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Be[t]._config;else if(e.parentLocale!=null)if(Be[e.parentLocale]!=null)r=Be[e.parentLocale]._config;else if(n=Wm(e.parentLocale),n!=null)r=n._config;else return vu[e.parentLocale]||(vu[e.parentLocale]=[]),vu[e.parentLocale].push({name:t,config:e}),null;return Be[t]=new sI(rv(r,e)),vu[t]&&vu[t].forEach(function(i){mI(i.name,i.config)}),hs(t),Be[t]}else return delete Be[t],null}function Y8(t,e){if(e!=null){var n,r,i=YD;Be[t]!=null&&Be[t].parentLocale!=null?Be[t].set(rv(Be[t]._config,e)):(r=Wm(t),r!=null&&(i=r._config),e=rv(i,e),r==null&&(e.abbr=t),n=new sI(e),n.parentLocale=Be[t],Be[t]=n),hs(t)}else Be[t]!=null&&(Be[t].parentLocale!=null?(Be[t]=Be[t].parentLocale,t===hs()&&hs(t)):Be[t]!=null&&delete Be[t]);return Be[t]}function Ci(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hc;if(!mr(t)){if(e=Wm(t),e)return e;t=[t]}return H8(t)}function Q8(){return iv(Be)}function gI(t){var e,n=t._a;return n&&ae(t).overflow===-2&&(e=n[li]<0||n[li]>11?li:n[Ar]<1||n[Ar]>dI(n[Xt],n[li])?Ar:n[Tt]<0||n[Tt]>24||n[Tt]===24&&(n[lr]!==0||n[ui]!==0||n[oo]!==0)?Tt:n[lr]<0||n[lr]>59?lr:n[ui]<0||n[ui]>59?ui:n[oo]<0||n[oo]>999?oo:-1,ae(t)._overflowDayOfYear&&(e<Xt||e>Ar)&&(e=Ar),ae(t)._overflowWeeks&&e===-1&&(e=e8),ae(t)._overflowWeekday&&e===-1&&(e=t8),ae(t).overflow=e),t}var J8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,X8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Z8=/Z|[+-]\d\d(?::?\d\d)?/,wh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],py=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],eH=/^\/?Date\((-?\d+)/i,tH=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,nH={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function QD(t){var e,n,r=t._i,i=J8.exec(r)||X8.exec(r),s,o,a,l,c=wh.length,d=py.length;if(i){for(ae(t).iso=!0,e=0,n=c;e<n;e++)if(wh[e][1].exec(i[1])){o=wh[e][0],s=wh[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(py[e][1].exec(i[3])){a=(i[2]||" ")+py[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(Z8.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),_I(t)}else t._isValid=!1}function rH(t,e,n,r,i,s){var o=[iH(t),jD.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function iH(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function sH(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function oH(t,e,n){if(t){var r=GD.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ae(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function aH(t,e,n){if(t)return nH[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function JD(t){var e=tH.exec(sH(t._i)),n;if(e){if(n=rH(e[4],e[3],e[2],e[5],e[6],e[7]),!oH(e[1],n,t))return;t._a=n,t._tzm=aH(e[8],e[9],e[10]),t._d=qc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ae(t).rfc2822=!0}else t._isValid=!1}function lH(t){var e=eH.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(QD(t),t._isValid===!1)delete t._isValid;else return;if(JD(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:K.createFromInputFallback(t)}K.createFromInputFallback=tr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function pa(t,e,n){return t??e??n}function uH(t){var e=new Date(K.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yI(t){var e,n,r=[],i,s,o;if(!t._d){for(i=uH(t),t._w&&t._a[Ar]==null&&t._a[li]==null&&cH(t),t._dayOfYear!=null&&(o=pa(t._a[Xt],i[Xt]),(t._dayOfYear>Ju(o)||t._dayOfYear===0)&&(ae(t)._overflowDayOfYear=!0),n=qc(o,0,t._dayOfYear),t._a[li]=n.getUTCMonth(),t._a[Ar]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Tt]===24&&t._a[lr]===0&&t._a[ui]===0&&t._a[oo]===0&&(t._nextDay=!0,t._a[Tt]=0),t._d=(t._useUTC?qc:g8).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Tt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ae(t).weekdayMismatch=!0)}}function cH(t){var e,n,r,i,s,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=pa(e.GG,t._a[Xt],Gc(Fe(),1,4).year),r=pa(e.W,1),i=pa(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=Gc(Fe(),s,o),n=pa(e.gg,t._a[Xt],c.year),r=pa(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>fi(n,s,o)?ae(t)._overflowWeeks=!0:l!=null?ae(t)._overflowWeekday=!0:(a=qD(n,r,i,s,o),t._a[Xt]=a.year,t._dayOfYear=a.dayOfYear)}K.ISO_8601=function(){};K.RFC_2822=function(){};function _I(t){if(t._f===K.ISO_8601){QD(t);return}if(t._f===K.RFC_2822){JD(t);return}t._a=[],ae(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,c,d;for(i=ND(t._f,t._locale).match(oI)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(JG(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&ae(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Wa[s]?(r?ae(t).empty=!1:ae(t).unusedTokens.push(s),ZG(s,r,t)):t._strict&&!r&&ae(t).unusedTokens.push(s);ae(t).charsLeftOver=a-l,e.length>0&&ae(t).unusedInput.push(e),t._a[Tt]<=12&&ae(t).bigHour===!0&&t._a[Tt]>0&&(ae(t).bigHour=void 0),ae(t).parsedDateParts=t._a.slice(0),ae(t).meridiem=t._meridiem,t._a[Tt]=dH(t._locale,t._a[Tt],t._meridiem),c=ae(t).era,c!==null&&(t._a[Xt]=t._locale.erasConvertYear(c,t._a[Xt])),yI(t),gI(t)}function dH(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function hH(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){ae(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=iI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],_I(e),rI(e)&&(o=!0),s+=ae(e).charsLeftOver,s+=ae(e).unusedTokens.length*10,ae(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Zi(t,n||e)}function fH(t){if(!t._d){var e=aI(t._i),n=e.day===void 0?e.date:e.day;t._a=CD([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),yI(t)}}function pH(t){var e=new Pd(gI(XD(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function XD(t){var e=t._i,n=t._f;return t._locale=t._locale||Ci(t._l),e===null||n===void 0&&e===""?Lm({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),gr(e)?new Pd(gI(e)):(Sd(e)?t._d=e:mr(n)?hH(t):n?_I(t):mH(t),rI(t)||(t._d=null),t))}function mH(t){var e=t._i;fn(e)?t._d=new Date(K.now()):Sd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?lH(t):mr(e)?(t._a=CD(e.slice(0),function(n){return parseInt(n,10)}),yI(t)):fo(e)?fH(t):Ei(e)?t._d=new Date(e):K.createFromInputFallback(t)}function ZD(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(fo(t)&&nI(t)||mr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,pH(s)}function Fe(t,e,n,r){return ZD(t,e,n,r,!1)}var gH=tr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Fe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Lm()}),yH=tr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Fe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Lm()});function eN(t,e){var n,r;if(e.length===1&&mr(e[0])&&(e=e[0]),!e.length)return Fe();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function _H(){var t=[].slice.call(arguments,0);return eN("isBefore",t)}function vH(){var t=[].slice.call(arguments,0);return eN("isAfter",t)}var wH=function(){return Date.now?Date.now():+new Date},wu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function IH(t){var e,n=!1,r,i=wu.length;for(e in t)if(ve(t,e)&&!(ct.call(wu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[wu[r]]){if(n)return!1;parseFloat(t[wu[r]])!==he(t[wu[r]])&&(n=!0)}return!0}function EH(){return this._isValid}function TH(){return yr(NaN)}function qm(t){var e=aI(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=IH(e),this._milliseconds=+d+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Ci(),this._bubble()}function Zh(t){return t instanceof qm}function ov(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function SH(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)he(t[o])!==he(e[o])&&s++;return s+i}function tN(t,e){te(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+$r(~~(n/60),2)+e+$r(~~n%60,2)})}tN("Z",":");tN("ZZ","");J("Z",Bm);J("ZZ",Bm);be(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=vI(Bm,t)});var PH=/([\+\-]|\d\d)/gi;function vI(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(PH)||["-",0,0],s=+(i[1]*60)+he(i[2]),s===0?0:i[0]==="+"?s:-s)}function wI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(gr(t)||Sd(t)?t.valueOf():Fe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),K.updateOffset(n,!1),n):Fe(t).local()}function av(t){return-Math.round(t._d.getTimezoneOffset())}K.updateOffset=function(){};function RH(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=vI(Bm,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=av(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?iN(this,yr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,K.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:av(this)}function AH(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function kH(t){return this.utcOffset(0,t)}function bH(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(av(this),"m")),this}function CH(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=vI(YG,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function xH(t){return this.isValid()?(t=t?Fe(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function DH(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function NH(){if(!fn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return iI(t,this),t=XD(t),t._a?(e=t._isUTC?Br(t._a):Fe(t._a),this._isDSTShifted=this.isValid()&&SH(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function OH(){return this.isValid()?!this._isUTC:!1}function MH(){return this.isValid()?this._isUTC:!1}function nN(){return this.isValid()?this._isUTC&&this._offset===0:!1}var VH=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,LH=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yr(t,e){var n=t,r=null,i,s,o;return Zh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ei(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=VH.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:he(r[Ar])*i,h:he(r[Tt])*i,m:he(r[lr])*i,s:he(r[ui])*i,ms:he(ov(r[oo]*1e3))*i}):(r=LH.exec(t))?(i=r[1]==="-"?-1:1,n={y:Ws(r[2],i),M:Ws(r[3],i),w:Ws(r[4],i),d:Ws(r[5],i),h:Ws(r[6],i),m:Ws(r[7],i),s:Ws(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=FH(Fe(n.from),Fe(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new qm(n),Zh(t)&&ve(t,"_locale")&&(s._locale=t._locale),Zh(t)&&ve(t,"_isValid")&&(s._isValid=t._isValid),s}yr.fn=qm.prototype;yr.invalid=TH;function Ws(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function sP(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function FH(t,e){var n;return t.isValid()&&e.isValid()?(e=wI(e,t),t.isBefore(e)?n=sP(t,e):(n=sP(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function rN(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(DD(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=yr(n,r),iN(this,i,t),this}}function iN(t,e,n,r){var i=e._milliseconds,s=ov(e._days),o=ov(e._months);t.isValid()&&(r=r??!0,o&&BD(t,Wc(t,"Month")+o*n),s&&UD(t,"Date",Wc(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&K.updateOffset(t,s||o))}var UH=rN(1,"add"),jH=rN(-1,"subtract");function sN(t){return typeof t=="string"||t instanceof String}function $H(t){return gr(t)||Sd(t)||sN(t)||Ei(t)||zH(t)||BH(t)||t===null||t===void 0}function BH(t){var e=fo(t)&&!nI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||ve(t,s);return e&&n}function zH(t){var e=mr(t),n=!1;return e&&(n=t.filter(function(r){return!Ei(r)&&sN(t)}).length===0),e&&n}function WH(t){var e=fo(t)&&!nI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||ve(t,s);return e&&n}function qH(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function GH(t,e){arguments.length===1&&(arguments[0]?$H(arguments[0])?(t=arguments[0],e=void 0):WH(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Fe(),r=wI(n,this).startOf("day"),i=K.calendarFormat(this,r)||"sameElse",s=e&&(zr(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Fe(n)))}function HH(){return new Pd(this)}function KH(t,e){var n=gr(t)?t:Fe(t);return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function YH(t,e){var n=gr(t)?t:Fe(t);return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function QH(t,e,n,r){var i=gr(t)?t:Fe(t),s=gr(e)?e:Fe(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function JH(t,e){var n=gr(t)?t:Fe(t),r;return this.isValid()&&n.isValid()?(e=nr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function XH(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ZH(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function e7(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=wI(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=nr(e),e){case"year":s=ef(this,r)/12;break;case"month":s=ef(this,r);break;case"quarter":s=ef(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Wn(s)}function ef(t,e){if(t.date()<e.date())return-ef(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}K.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";K.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function t7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function n7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Xh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Xh(n,"Z")):Xh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function r7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function i7(t){t||(t=this.isUtc()?K.defaultFormatUtc:K.defaultFormat);var e=Xh(this,t);return this.localeData().postformat(e)}function s7(t,e){return this.isValid()&&(gr(t)&&t.isValid()||Fe(t).isValid())?yr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function o7(t){return this.from(Fe(),t)}function a7(t,e){return this.isValid()&&(gr(t)&&t.isValid()||Fe(t).isValid())?yr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function l7(t){return this.to(Fe(),t)}function oN(t){var e;return t===void 0?this._locale._abbr:(e=Ci(t),e!=null&&(this._locale=e),this)}var aN=tr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function lN(){return this._locale}var rp=1e3,qa=60*rp,ip=60*qa,uN=(365*400+97)*24*ip;function Ga(t,e){return(t%e+e)%e}function cN(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-uN:new Date(t,e,n).valueOf()}function dN(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-uN:Date.UTC(t,e,n)}function u7(t){var e,n;if(t=nr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dN:cN,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ga(e+(this._isUTC?0:this.utcOffset()*qa),ip);break;case"minute":e=this._d.valueOf(),e-=Ga(e,qa);break;case"second":e=this._d.valueOf(),e-=Ga(e,rp);break}return this._d.setTime(e),K.updateOffset(this,!0),this}function c7(t){var e,n;if(t=nr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dN:cN,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ip-Ga(e+(this._isUTC?0:this.utcOffset()*qa),ip)-1;break;case"minute":e=this._d.valueOf(),e+=qa-Ga(e,qa)-1;break;case"second":e=this._d.valueOf(),e+=rp-Ga(e,rp)-1;break}return this._d.setTime(e),K.updateOffset(this,!0),this}function d7(){return this._d.valueOf()-(this._offset||0)*6e4}function h7(){return Math.floor(this.valueOf()/1e3)}function f7(){return new Date(this.valueOf())}function p7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function m7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function g7(){return this.isValid()?this.toISOString():null}function y7(){return rI(this)}function _7(){return Zi({},ae(this))}function v7(){return ae(this).overflow}function w7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr");te("NN",0,0,"eraAbbr");te("NNN",0,0,"eraAbbr");te("NNNN",0,0,"eraName");te("NNNNN",0,0,"eraNarrow");te("y",["y",1],"yo","eraYear");te("y",["yy",2],0,"eraYear");te("y",["yyy",3],0,"eraYear");te("y",["yyyy",4],0,"eraYear");J("N",II);J("NN",II);J("NNN",II);J("NNNN",x7);J("NNNNN",D7);be(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ae(n).era=i:ae(n).invalidEra=t});J("y",Fl);J("yy",Fl);J("yyy",Fl);J("yyyy",Fl);J("yo",N7);be(["y","yy","yyy","yyyy"],Xt);be(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Xt]=n._locale.eraYearOrdinalParse(t,i):e[Xt]=parseInt(t,10)});function I7(t,e){var n,r,i,s=this._eras||Ci("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=K(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=K(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function E7(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function T7(t,e){var n=t.since<=t.until?1:-1;return e===void 0?K(t.since).year():K(t.since).year()+(e-t.offset)*n}function S7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function P7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function R7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function A7(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-K(i[t].since).year())*n+i[t].offset;return this.year()}function k7(t){return ve(this,"_erasNameRegex")||EI.call(this),t?this._erasNameRegex:this._erasRegex}function b7(t){return ve(this,"_erasAbbrRegex")||EI.call(this),t?this._erasAbbrRegex:this._erasRegex}function C7(t){return ve(this,"_erasNarrowRegex")||EI.call(this),t?this._erasNarrowRegex:this._erasRegex}function II(t,e){return e.erasAbbrRegex(t)}function x7(t,e){return e.erasNameRegex(t)}function D7(t,e){return e.erasNarrowRegex(t)}function N7(t,e){return e._eraYearOrdinalRegex||Fl}function EI(){var t=[],e=[],n=[],r=[],i,s,o,a,l,c=this.eras();for(i=0,s=c.length;i<s;++i)o=hi(c[i].name),a=hi(c[i].abbr),l=hi(c[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100});te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Gm(t,e){te(0,[t,t.length],0,e)}Gm("gggg","weekYear");Gm("ggggg","weekYear");Gm("GGGG","isoWeekYear");Gm("GGGGG","isoWeekYear");J("G",$m);J("g",$m);J("GG",Ue,Un);J("gg",Ue,Un);J("GGGG",uI,lI);J("gggg",uI,lI);J("GGGGG",jm,Fm);J("ggggg",jm,Fm);Ad(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=he(t)});Ad(["gg","GG"],function(t,e,n,r){e[r]=K.parseTwoDigitYear(t)});function O7(t){return hN.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function M7(t){return hN.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function V7(){return fi(this.year(),1,4)}function L7(){return fi(this.isoWeekYear(),1,4)}function F7(){var t=this.localeData()._week;return fi(this.year(),t.dow,t.doy)}function U7(){var t=this.localeData()._week;return fi(this.weekYear(),t.dow,t.doy)}function hN(t,e,n,r,i){var s;return t==null?Gc(this,r,i).year:(s=fi(t,r,i),e>s&&(e=s),j7.call(this,t,e,n,r,i))}function j7(t,e,n,r,i){var s=qD(t,e,n,r,i),o=qc(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}te("Q",0,"Qo","quarter");J("Q",OD);be("Q",function(t,e){e[li]=(he(t)-1)*3});function $7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}te("D",["DD",2],"Do","date");J("D",Ue,Ul);J("DD",Ue,Un);J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});be(["D","DD"],Ar);be("Do",function(t,e){e[Ar]=he(t.match(Ue)[0])});var fN=jl("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear");J("DDD",Um);J("DDDD",MD);be(["DDD","DDDD"],function(t,e,n){n._dayOfYear=he(t)});function B7(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}te("m",["mm",2],0,"minute");J("m",Ue,cI);J("mm",Ue,Un);be(["m","mm"],lr);var z7=jl("Minutes",!1);te("s",["ss",2],0,"second");J("s",Ue,cI);J("ss",Ue,Un);be(["s","ss"],ui);var W7=jl("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)});te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});te(0,["SSS",3],0,"millisecond");te(0,["SSSS",4],0,function(){return this.millisecond()*10});te(0,["SSSSS",5],0,function(){return this.millisecond()*100});te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});J("S",Um,OD);J("SS",Um,Un);J("SSS",Um,MD);var es,pN;for(es="SSSS";es.length<=9;es+="S")J(es,Fl);function q7(t,e){e[oo]=he(("0."+t)*1e3)}for(es="S";es.length<=9;es+="S")be(es,q7);pN=jl("Milliseconds",!1);te("z",0,0,"zoneAbbr");te("zz",0,0,"zoneName");function G7(){return this._isUTC?"UTC":""}function H7(){return this._isUTC?"Coordinated Universal Time":""}var W=Pd.prototype;W.add=UH;W.calendar=GH;W.clone=HH;W.diff=e7;W.endOf=c7;W.format=i7;W.from=s7;W.fromNow=o7;W.to=a7;W.toNow=l7;W.get=r8;W.invalidAt=v7;W.isAfter=KH;W.isBefore=YH;W.isBetween=QH;W.isSame=JH;W.isSameOrAfter=XH;W.isSameOrBefore=ZH;W.isValid=y7;W.lang=aN;W.locale=oN;W.localeData=lN;W.max=yH;W.min=gH;W.parsingFlags=_7;W.set=i8;W.startOf=u7;W.subtract=jH;W.toArray=p7;W.toObject=m7;W.toDate=f7;W.toISOString=n7;W.inspect=r7;typeof Symbol<"u"&&Symbol.for!=null&&(W[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});W.toJSON=g7;W.toString=t7;W.unix=h7;W.valueOf=d7;W.creationData=w7;W.eraName=S7;W.eraNarrow=P7;W.eraAbbr=R7;W.eraYear=A7;W.year=FD;W.isLeapYear=n8;W.weekYear=O7;W.isoWeekYear=M7;W.quarter=W.quarters=$7;W.month=zD;W.daysInMonth=f8;W.week=W.weeks=I8;W.isoWeek=W.isoWeeks=E8;W.weeksInYear=F7;W.weeksInWeekYear=U7;W.isoWeeksInYear=V7;W.isoWeeksInISOWeekYear=L7;W.date=fN;W.day=W.days=M8;W.weekday=V8;W.isoWeekday=L8;W.dayOfYear=B7;W.hour=W.hours=W8;W.minute=W.minutes=z7;W.second=W.seconds=W7;W.millisecond=W.milliseconds=pN;W.utcOffset=RH;W.utc=kH;W.local=bH;W.parseZone=CH;W.hasAlignedHourOffset=xH;W.isDST=DH;W.isLocal=OH;W.isUtcOffset=MH;W.isUtc=nN;W.isUTC=nN;W.zoneAbbr=G7;W.zoneName=H7;W.dates=tr("dates accessor is deprecated. Use date instead.",fN);W.months=tr("months accessor is deprecated. Use month instead",zD);W.years=tr("years accessor is deprecated. Use year instead",FD);W.zone=tr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",AH);W.isDSTShifted=tr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",NH);function K7(t){return Fe(t*1e3)}function Y7(){return Fe.apply(null,arguments).parseZone()}function mN(t){return t}var we=sI.prototype;we.calendar=OG;we.longDateFormat=FG;we.invalidDate=jG;we.ordinal=zG;we.preparse=mN;we.postformat=mN;we.relativeTime=qG;we.pastFuture=GG;we.set=DG;we.eras=I7;we.erasParse=E7;we.erasConvertYear=T7;we.erasAbbrRegex=b7;we.erasNameRegex=k7;we.erasNarrowRegex=C7;we.months=u8;we.monthsShort=c8;we.monthsParse=h8;we.monthsRegex=m8;we.monthsShortRegex=p8;we.week=y8;we.firstDayOfYear=w8;we.firstDayOfWeek=v8;we.weekdays=C8;we.weekdaysMin=D8;we.weekdaysShort=x8;we.weekdaysParse=O8;we.weekdaysRegex=F8;we.weekdaysShortRegex=U8;we.weekdaysMinRegex=j8;we.isPM=B8;we.meridiem=q8;function sp(t,e,n,r){var i=Ci(),s=Br().set(r,e);return i[n](s,t)}function gN(t,e,n){if(Ei(t)&&(e=t,t=void 0),t=t||"",e!=null)return sp(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=sp(t,r,n,"month");return i}function TI(t,e,n,r){typeof t=="boolean"?(Ei(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ei(e)&&(n=e,e=void 0),e=e||"");var i=Ci(),s=t?i._week.dow:0,o,a=[];if(n!=null)return sp(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=sp(e,(o+s)%7,r,"day");return a}function Q7(t,e){return gN(t,e,"months")}function J7(t,e){return gN(t,e,"monthsShort")}function X7(t,e,n){return TI(t,e,n,"weekdays")}function Z7(t,e,n){return TI(t,e,n,"weekdaysShort")}function eK(t,e,n){return TI(t,e,n,"weekdaysMin")}hs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=he(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});K.lang=tr("moment.lang is deprecated. Use moment.locale instead.",hs);K.langData=tr("moment.langData is deprecated. Use moment.localeData instead.",Ci);var Xr=Math.abs;function tK(){var t=this._data;return this._milliseconds=Xr(this._milliseconds),this._days=Xr(this._days),this._months=Xr(this._months),t.milliseconds=Xr(t.milliseconds),t.seconds=Xr(t.seconds),t.minutes=Xr(t.minutes),t.hours=Xr(t.hours),t.months=Xr(t.months),t.years=Xr(t.years),this}function yN(t,e,n,r){var i=yr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function nK(t,e){return yN(this,t,e,1)}function rK(t,e){return yN(this,t,e,-1)}function oP(t){return t<0?Math.floor(t):Math.ceil(t)}function iK(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=oP(lv(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Wn(t/1e3),r.seconds=i%60,s=Wn(i/60),r.minutes=s%60,o=Wn(s/60),r.hours=o%24,e+=Wn(o/24),l=Wn(_N(e)),n+=l,e-=oP(lv(l)),a=Wn(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function _N(t){return t*4800/146097}function lv(t){return t*146097/4800}function sK(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=nr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+_N(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(lv(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function xi(t){return function(){return this.as(t)}}var vN=xi("ms"),oK=xi("s"),aK=xi("m"),lK=xi("h"),uK=xi("d"),cK=xi("w"),dK=xi("M"),hK=xi("Q"),fK=xi("y"),pK=vN;function mK(){return yr(this)}function gK(t){return t=nr(t),this.isValid()?this[t+"s"]():NaN}function Wo(t){return function(){return this.isValid()?this._data[t]:NaN}}var yK=Wo("milliseconds"),_K=Wo("seconds"),vK=Wo("minutes"),wK=Wo("hours"),IK=Wo("days"),EK=Wo("months"),TK=Wo("years");function SK(){return Wn(this.days()/7)}var ei=Math.round,ba={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function PK(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function RK(t,e,n,r){var i=yr(t).abs(),s=ei(i.as("s")),o=ei(i.as("m")),a=ei(i.as("h")),l=ei(i.as("d")),c=ei(i.as("M")),d=ei(i.as("w")),h=ei(i.as("y")),p=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],p[2]=e,p[3]=+t>0,p[4]=r,PK.apply(null,p)}function AK(t){return t===void 0?ei:typeof t=="function"?(ei=t,!0):!1}function kK(t,e){return ba[t]===void 0?!1:e===void 0?ba[t]:(ba[t]=e,t==="s"&&(ba.ss=e-1),!0)}function bK(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ba,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ba,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=RK(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var my=Math.abs;function aa(t){return(t>0)-(t<0)||+t}function Hm(){if(!this.isValid())return this.localeData().invalidDate();var t=my(this._milliseconds)/1e3,e=my(this._days),n=my(this._months),r,i,s,o,a=this.asSeconds(),l,c,d,h;return a?(r=Wn(t/60),i=Wn(r/60),t%=60,r%=60,s=Wn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=aa(this._months)!==aa(a)?"-":"",d=aa(this._days)!==aa(a)?"-":"",h=aa(this._milliseconds)!==aa(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var pe=qm.prototype;pe.isValid=EH;pe.abs=tK;pe.add=nK;pe.subtract=rK;pe.as=sK;pe.asMilliseconds=vN;pe.asSeconds=oK;pe.asMinutes=aK;pe.asHours=lK;pe.asDays=uK;pe.asWeeks=cK;pe.asMonths=dK;pe.asQuarters=hK;pe.asYears=fK;pe.valueOf=pK;pe._bubble=iK;pe.clone=mK;pe.get=gK;pe.milliseconds=yK;pe.seconds=_K;pe.minutes=vK;pe.hours=wK;pe.days=IK;pe.weeks=SK;pe.months=EK;pe.years=TK;pe.humanize=bK;pe.toISOString=Hm;pe.toString=Hm;pe.toJSON=Hm;pe.locale=oN;pe.localeData=lN;pe.toIsoString=tr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hm);pe.lang=aN;te("X",0,0,"unix");te("x",0,0,"valueOf");J("x",$m);J("X",QG);be("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});be("x",function(t,e,n){n._d=new Date(he(t))});//! moment.js
K.version="2.30.1";CG(Fe);K.fn=W;K.min=_H;K.max=vH;K.now=wH;K.utc=Br;K.unix=K7;K.months=Q7;K.isDate=Sd;K.locale=hs;K.invalid=Lm;K.duration=yr;K.isMoment=gr;K.weekdays=X7;K.parseZone=Y7;K.localeData=Ci;K.isDuration=Zh;K.monthsShort=J7;K.weekdaysMin=eK;K.defineLocale=mI;K.updateLocale=Y8;K.locales=Q8;K.weekdaysShort=Z7;K.normalizeUnits=nr;K.relativeTimeRounding=AK;K.relativeTimeThreshold=kK;K.calendarFormat=qH;K.prototype=W;K.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function CK({id:t,title:e,image:n,price:r,rating:i}){return console.log("orders",{id:t,title:e,image:n,price:r,rating:i}),C.jsxs("div",{className:"order",children:[C.jsx("div",{className:"order_title",children:e}),C.jsx("div",{children:C.jsx("img",{className:"order_image",src:n,alt:""})}),C.jsxs("div",{className:"order_price",children:[r," Rs"]})]})}function xK(){const[t,e]=$.useState([]);console.log(t);const[{basket:n,user:r},i]=xs();return $.useEffect(()=>{r?SD.collection("users").doc(r==null?void 0:r.uid).collection("orders").orderBy("created","desc").onSnapshot(s=>e(s.docs.map(o=>({id:o.id,data:o.data()})))):e([])},[r]),C.jsxs("div",{className:"orders",children:[C.jsx("h1",{children:"Your Orders"}),C.jsx("div",{className:"orders_container",children:C.jsxs("p",{children:["Your Order placed successfully.Please keep track your Order.We will upadate you on your delivery later.Click",C.jsx(Wi,{to:"/",children:" here "}),"for shopping"]})}),C.jsx("div",{className:"ordered_items",children:n.map((s,o)=>C.jsx(CK,{id:s.id,title:s.title,image:s.image,price:s.price,rating:s.rating},o))})]})}function DK(){const[{},t]=xs();return $.useEffect(()=>{ep.onAuthStateChanged(e=>{console.log("The user is ",e),t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})})},[]),C.jsx(v2,{children:C.jsxs(h2,{children:[C.jsx(la,{path:"/",element:C.jsxs(C.Fragment,{children:[C.jsx(yh,{}),C.jsx(Zq,{})]})}),C.jsx(la,{path:"/Login",element:C.jsx(TG,{})}),C.jsx(la,{path:"/Payment",element:C.jsxs(C.Fragment,{children:[C.jsx(yh,{}),C.jsx(bG,{})]})}),C.jsx(la,{path:"/checkout",element:C.jsxs(C.Fragment,{children:[C.jsx(yh,{}),C.jsx(IG,{})]})}),C.jsx(la,{path:"/Orders",element:C.jsxs(C.Fragment,{children:[C.jsx(yh,{}),C.jsx(xK,{})]})})]})})}gy.createRoot(document.getElementById("root")).render(C.jsx(xu.StrictMode,{children:C.jsx(GU,{initialState:WU,reducer:qU,children:C.jsx(DK,{})})}))});export default NK();
